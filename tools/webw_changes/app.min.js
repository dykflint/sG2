/*! For license information please see app.min.js.LICENSE.txt */
(() => {
    var e = {
            924: (e, t, r) => {
                "use strict";
                var n = r(210),
                    i = r(559),
                    o = i(n("String.prototype.indexOf"));
                e.exports = function(e, t) {
                    var r = n(e, !!t);
                    return "function" == typeof r && o(e, ".prototype.") > -1 ? i(r) : r
                }
            },
            559: (e, t, r) => {
                "use strict";
                var n = r(612),
                    i = r(210),
                    o = i("%Function.prototype.apply%"),
                    a = i("%Function.prototype.call%"),
                    l = i("%Reflect.apply%", !0) || n.call(a, o),
                    s = i("%Object.getOwnPropertyDescriptor%", !0),
                    c = i("%Object.defineProperty%", !0),
                    u = i("%Math.max%");
                if (c) try {
                    c({}, "a", {
                        value: 1
                    })
                } catch (e) {
                    c = null
                }
                e.exports = function(e) {
                    var t = l(n, a, arguments);
                    if (s && c) {
                        var r = s(t, "length");
                        r.configurable && c(t, "length", {
                            value: 1 + u(0, e.length - (arguments.length - 1))
                        })
                    }
                    return t
                };
                var f = function() {
                    return l(n, o, arguments)
                };
                c ? c(e.exports, "apply", {
                    value: f
                }) : e.exports.apply = f
            },
            386: (e, t, r) => {
                ! function(e) {
                    function t(e) {
                        e.state.placeholder && (e.state.placeholder.parentNode.removeChild(e.state.placeholder), e.state.placeholder = null)
                    }

                    function r(e) {
                        t(e);
                        var r = e.state.placeholder = document.createElement("pre");
                        r.style.cssText = "height: 0; overflow: visible", r.style.direction = e.getOption("direction"), r.className = "CodeMirror-placeholder CodeMirror-line-like";
                        var n = e.getOption("placeholder");
                        "string" == typeof n && (n = document.createTextNode(n)), r.appendChild(n), e.display.lineSpace.insertBefore(r, e.display.lineSpace.firstChild)
                    }

                    function n(e) {
                        o(e) && r(e)
                    }

                    function i(e) {
                        var n = e.getWrapperElement(),
                            i = o(e);
                        n.className = n.className.replace(" CodeMirror-empty", "") + (i ? " CodeMirror-empty" : ""), i ? r(e) : t(e)
                    }

                    function o(e) {
                        return 1 === e.lineCount() && "" === e.getLine(0)
                    }
                    e.defineOption("placeholder", "", (function(o, a, l) {
                        var s = l && l != e.Init;
                        if (a && !s) o.on("blur", n), o.on("change", i), o.on("swapDoc", i), e.on(o.getInputField(), "compositionupdate", o.state.placeholderCompose = function() {
                            ! function(e) {
                                setTimeout((function() {
                                    var n = !1;
                                    if (1 == e.lineCount()) {
                                        var i = e.getInputField();
                                        n = "TEXTAREA" == i.nodeName ? !e.getLine(0).length : !/[^\u200b]/.test(i.querySelector(".CodeMirror-line").textContent)
                                    }
                                    n ? r(e) : t(e)
                                }), 20)
                            }(o)
                        }), i(o);
                        else if (!a && s) {
                            o.off("blur", n), o.off("change", i), o.off("swapDoc", i), e.off(o.getInputField(), "compositionupdate", o.state.placeholderCompose), t(o);
                            var c = o.getWrapperElement();
                            c.className = c.className.replace(" CodeMirror-empty", "")
                        }
                        a && !o.hasFocus() && n(o)
                    }))
                }(r(631))
            },
            631: function(e) {
                e.exports = function() {
                    "use strict";
                    var e = navigator.userAgent,
                        t = navigator.platform,
                        r = /gecko\/\d/i.test(e),
                        n = /MSIE \d/.test(e),
                        i = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),
                        o = /Edge\/(\d+)/.exec(e),
                        a = n || i || o,
                        l = a && (n ? document.documentMode || 6 : +(o || i)[1]),
                        s = !o && /WebKit\//.test(e),
                        c = s && /Qt\/\d+\.\d+/.test(e),
                        u = !o && /Chrome\/(\d+)/.exec(e),
                        f = u && +u[1],
                        h = /Opera\//.test(e),
                        d = /Apple Computer/.test(navigator.vendor),
                        p = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),
                        g = /PhantomJS/.test(e),
                        v = d && (/Mobile\/\w+/.test(e) || navigator.maxTouchPoints > 2),
                        m = /Android/.test(e),
                        y = v || m || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),
                        b = v || /Mac/.test(t),
                        w = /\bCrOS\b/.test(e),
                        S = /win/i.test(t),
                        x = h && e.match(/Version\/(\d*\.\d*)/);
                    x && (x = Number(x[1])), x && x >= 15 && (h = !1, s = !0);
                    var C = b && (c || h && (null == x || x < 12.11)),
                        A = r || a && l >= 9;

                    function k(e) {
                        return new RegExp("(^|\\s)" + e + "(?:$|\\s)\\s*")
                    }
                    var L, T = function(e, t) {
                        var r = e.className,
                            n = k(t).exec(r);
                        if (n) {
                            var i = r.slice(n.index + n[0].length);
                            e.className = r.slice(0, n.index) + (i ? n[1] + i : "")
                        }
                    };

                    function E(e) {
                        for (var t = e.childNodes.length; t > 0; --t) e.removeChild(e.firstChild);
                        return e
                    }

                    function O(e, t) {
                        return E(e).appendChild(t)
                    }

                    function N(e, t, r, n) {
                        var i = document.createElement(e);
                        if (r && (i.className = r), n && (i.style.cssText = n), "string" == typeof t) i.appendChild(document.createTextNode(t));
                        else if (t)
                            for (var o = 0; o < t.length; ++o) i.appendChild(t[o]);
                        return i
                    }

                    function M(e, t, r, n) {
                        var i = N(e, t, r, n);
                        return i.setAttribute("role", "presentation"), i
                    }

                    function P(e, t) {
                        if (3 == t.nodeType && (t = t.parentNode), e.contains) return e.contains(t);
                        do {
                            if (11 == t.nodeType && (t = t.host), t == e) return !0
                        } while (t = t.parentNode)
                    }

                    function W(e) {
                        var t;
                        try {
                            t = e.activeElement
                        } catch (r) {
                            t = e.body || null
                        }
                        for (; t && t.shadowRoot && t.shadowRoot.activeElement;) t = t.shadowRoot.activeElement;
                        return t
                    }

                    function D(e, t) {
                        var r = e.className;
                        k(t).test(r) || (e.className += (r ? " " : "") + t)
                    }

                    function R(e, t) {
                        for (var r = e.split(" "), n = 0; n < r.length; n++) r[n] && !k(r[n]).test(t) && (t += " " + r[n]);
                        return t
                    }
                    L = document.createRange ? function(e, t, r, n) {
                        var i = document.createRange();
                        return i.setEnd(n || e, r), i.setStart(e, t), i
                    } : function(e, t, r) {
                        var n = document.body.createTextRange();
                        try {
                            n.moveToElementText(e.parentNode)
                        } catch (e) {
                            return n
                        }
                        return n.collapse(!0), n.moveEnd("character", r), n.moveStart("character", t), n
                    };
                    var I = function(e) {
                        e.select()
                    };

                    function _(e) {
                        return e.display.wrapper.ownerDocument
                    }

                    function F(e) {
                        return _(e).defaultView
                    }

                    function B(e) {
                        var t = Array.prototype.slice.call(arguments, 1);
                        return function() {
                            return e.apply(null, t)
                        }
                    }

                    function H(e, t, r) {
                        for (var n in t || (t = {}), e) !e.hasOwnProperty(n) || !1 === r && t.hasOwnProperty(n) || (t[n] = e[n]);
                        return t
                    }

                    function j(e, t, r, n, i) {
                        null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length);
                        for (var o = n || 0, a = i || 0;;) {
                            var l = e.indexOf("\t", o);
                            if (l < 0 || l >= t) return a + (t - o);
                            a += l - o, a += r - a % r, o = l + 1
                        }
                    }
                    v ? I = function(e) {
                        e.selectionStart = 0, e.selectionEnd = e.value.length
                    } : a && (I = function(e) {
                        try {
                            e.select()
                        } catch (e) {}
                    });
                    var z = function() {
                        this.id = null, this.f = null, this.time = 0, this.handler = B(this.onTimeout, this)
                    };

                    function U(e, t) {
                        for (var r = 0; r < e.length; ++r)
                            if (e[r] == t) return r;
                        return -1
                    }
                    z.prototype.onTimeout = function(e) {
                        e.id = 0, e.time <= +new Date ? e.f() : setTimeout(e.handler, e.time - +new Date)
                    }, z.prototype.set = function(e, t) {
                        this.f = t;
                        var r = +new Date + e;
                        (!this.id || r < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, e), this.time = r)
                    };
                    var G = {
                            toString: function() {
                                return "CodeMirror.Pass"
                            }
                        },
                        V = {
                            scroll: !1
                        },
                        q = {
                            origin: "*mouse"
                        },
                        K = {
                            origin: "+move"
                        };

                    function X(e, t, r) {
                        for (var n = 0, i = 0;;) {
                            var o = e.indexOf("\t", n); - 1 == o && (o = e.length);
                            var a = o - n;
                            if (o == e.length || i + a >= t) return n + Math.min(a, t - i);
                            if (i += o - n, n = o + 1, (i += r - i % r) >= t) return n
                        }
                    }
                    var $ = [""];

                    function Y(e) {
                        for (; $.length <= e;) $.push(Z($) + " ");
                        return $[e]
                    }

                    function Z(e) {
                        return e[e.length - 1]
                    }

                    function J(e, t) {
                        for (var r = [], n = 0; n < e.length; n++) r[n] = t(e[n], n);
                        return r
                    }

                    function Q() {}

                    function ee(e, t) {
                        var r;
                        return Object.create ? r = Object.create(e) : (Q.prototype = e, r = new Q), t && H(t, r), r
                    }
                    var te = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;

                    function re(e) {
                        return /\w/.test(e) || e > "" && (e.toUpperCase() != e.toLowerCase() || te.test(e))
                    }

                    function ne(e, t) {
                        return t ? !!(t.source.indexOf("\\w") > -1 && re(e)) || t.test(e) : re(e)
                    }

                    function ie(e) {
                        for (var t in e)
                            if (e.hasOwnProperty(t) && e[t]) return !1;
                        return !0
                    }
                    var oe = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;

                    function ae(e) {
                        return e.charCodeAt(0) >= 768 && oe.test(e)
                    }

                    function le(e, t, r) {
                        for (;
                            (r < 0 ? t > 0 : t < e.length) && ae(e.charAt(t));) t += r;
                        return t
                    }

                    function se(e, t, r) {
                        for (var n = t > r ? -1 : 1;;) {
                            if (t == r) return t;
                            var i = (t + r) / 2,
                                o = n < 0 ? Math.ceil(i) : Math.floor(i);
                            if (o == t) return e(o) ? t : r;
                            e(o) ? r = o : t = o + n
                        }
                    }
                    var ce = null;

                    function ue(e, t, r) {
                        var n;
                        ce = null;
                        for (var i = 0; i < e.length; ++i) {
                            var o = e[i];
                            if (o.from < t && o.to > t) return i;
                            o.to == t && (o.from != o.to && "before" == r ? n = i : ce = i), o.from == t && (o.from != o.to && "before" != r ? n = i : ce = i)
                        }
                        return null != n ? n : ce
                    }
                    var fe = function() {
                        var e = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,
                            t = /[stwN]/,
                            r = /[LRr]/,
                            n = /[Lb1n]/,
                            i = /[1n]/;

                        function o(e, t, r) {
                            this.level = e, this.from = t, this.to = r
                        }
                        return function(a, l) {
                            var s, c = "ltr" == l ? "L" : "R";
                            if (0 == a.length || "ltr" == l && !e.test(a)) return !1;
                            for (var u = a.length, f = [], h = 0; h < u; ++h) f.push((s = a.charCodeAt(h)) <= 247 ? "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(s) : 1424 <= s && s <= 1524 ? "R" : 1536 <= s && s <= 1785 ? "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(s - 1536) : 1774 <= s && s <= 2220 ? "r" : 8192 <= s && s <= 8203 ? "w" : 8204 == s ? "b" : "L");
                            for (var d = 0, p = c; d < u; ++d) {
                                var g = f[d];
                                "m" == g ? f[d] = p : p = g
                            }
                            for (var v = 0, m = c; v < u; ++v) {
                                var y = f[v];
                                "1" == y && "r" == m ? f[v] = "n" : r.test(y) && (m = y, "r" == y && (f[v] = "R"))
                            }
                            for (var b = 1, w = f[0]; b < u - 1; ++b) {
                                var S = f[b];
                                "+" == S && "1" == w && "1" == f[b + 1] ? f[b] = "1" : "," != S || w != f[b + 1] || "1" != w && "n" != w || (f[b] = w), w = S
                            }
                            for (var x = 0; x < u; ++x) {
                                var C = f[x];
                                if ("," == C) f[x] = "N";
                                else if ("%" == C) {
                                    var A = void 0;
                                    for (A = x + 1; A < u && "%" == f[A]; ++A);
                                    for (var k = x && "!" == f[x - 1] || A < u && "1" == f[A] ? "1" : "N", L = x; L < A; ++L) f[L] = k;
                                    x = A - 1
                                }
                            }
                            for (var T = 0, E = c; T < u; ++T) {
                                var O = f[T];
                                "L" == E && "1" == O ? f[T] = "L" : r.test(O) && (E = O)
                            }
                            for (var N = 0; N < u; ++N)
                                if (t.test(f[N])) {
                                    var M = void 0;
                                    for (M = N + 1; M < u && t.test(f[M]); ++M);
                                    for (var P = "L" == (N ? f[N - 1] : c), W = P == ("L" == (M < u ? f[M] : c)) ? P ? "L" : "R" : c, D = N; D < M; ++D) f[D] = W;
                                    N = M - 1
                                } for (var R, I = [], _ = 0; _ < u;)
                                if (n.test(f[_])) {
                                    var F = _;
                                    for (++_; _ < u && n.test(f[_]); ++_);
                                    I.push(new o(0, F, _))
                                } else {
                                    var B = _,
                                        H = I.length,
                                        j = "rtl" == l ? 1 : 0;
                                    for (++_; _ < u && "L" != f[_]; ++_);
                                    for (var z = B; z < _;)
                                        if (i.test(f[z])) {
                                            B < z && (I.splice(H, 0, new o(1, B, z)), H += j);
                                            var U = z;
                                            for (++z; z < _ && i.test(f[z]); ++z);
                                            I.splice(H, 0, new o(2, U, z)), H += j, B = z
                                        } else ++z;
                                    B < _ && I.splice(H, 0, new o(1, B, _))
                                } return "ltr" == l && (1 == I[0].level && (R = a.match(/^\s+/)) && (I[0].from = R[0].length, I.unshift(new o(0, 0, R[0].length))), 1 == Z(I).level && (R = a.match(/\s+$/)) && (Z(I).to -= R[0].length, I.push(new o(0, u - R[0].length, u)))), "rtl" == l ? I.reverse() : I
                        }
                    }();

                    function he(e, t) {
                        var r = e.order;
                        return null == r && (r = e.order = fe(e.text, t)), r
                    }
                    var de = [],
                        pe = function(e, t, r) {
                            if (e.addEventListener) e.addEventListener(t, r, !1);
                            else if (e.attachEvent) e.attachEvent("on" + t, r);
                            else {
                                var n = e._handlers || (e._handlers = {});
                                n[t] = (n[t] || de).concat(r)
                            }
                        };

                    function ge(e, t) {
                        return e._handlers && e._handlers[t] || de
                    }

                    function ve(e, t, r) {
                        if (e.removeEventListener) e.removeEventListener(t, r, !1);
                        else if (e.detachEvent) e.detachEvent("on" + t, r);
                        else {
                            var n = e._handlers,
                                i = n && n[t];
                            if (i) {
                                var o = U(i, r);
                                o > -1 && (n[t] = i.slice(0, o).concat(i.slice(o + 1)))
                            }
                        }
                    }

                    function me(e, t) {
                        var r = ge(e, t);
                        if (r.length)
                            for (var n = Array.prototype.slice.call(arguments, 2), i = 0; i < r.length; ++i) r[i].apply(null, n)
                    }

                    function ye(e, t, r) {
                        return "string" == typeof t && (t = {
                            type: t,
                            preventDefault: function() {
                                this.defaultPrevented = !0
                            }
                        }), me(e, r || t.type, e, t), Ae(t) || t.codemirrorIgnore
                    }

                    function be(e) {
                        var t = e._handlers && e._handlers.cursorActivity;
                        if (t)
                            for (var r = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), n = 0; n < t.length; ++n) - 1 == U(r, t[n]) && r.push(t[n])
                    }

                    function we(e, t) {
                        return ge(e, t).length > 0
                    }

                    function Se(e) {
                        e.prototype.on = function(e, t) {
                            pe(this, e, t)
                        }, e.prototype.off = function(e, t) {
                            ve(this, e, t)
                        }
                    }

                    function xe(e) {
                        e.preventDefault ? e.preventDefault() : e.returnValue = !1
                    }

                    function Ce(e) {
                        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                    }

                    function Ae(e) {
                        return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue
                    }

                    function ke(e) {
                        xe(e), Ce(e)
                    }

                    function Le(e) {
                        return e.target || e.srcElement
                    }

                    function Te(e) {
                        var t = e.which;
                        return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)), b && e.ctrlKey && 1 == t && (t = 3), t
                    }
                    var Ee, Oe, Ne = function() {
                        if (a && l < 9) return !1;
                        var e = N("div");
                        return "draggable" in e || "dragDrop" in e
                    }();

                    function Me(e) {
                        if (null == Ee) {
                            var t = N("span", "​");
                            O(e, N("span", [t, document.createTextNode("x")])), 0 != e.firstChild.offsetHeight && (Ee = t.offsetWidth <= 1 && t.offsetHeight > 2 && !(a && l < 8))
                        }
                        var r = Ee ? N("span", "​") : N("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px");
                        return r.setAttribute("cm-text", ""), r
                    }

                    function Pe(e) {
                        if (null != Oe) return Oe;
                        var t = O(e, document.createTextNode("AخA")),
                            r = L(t, 0, 1).getBoundingClientRect(),
                            n = L(t, 1, 2).getBoundingClientRect();
                        return E(e), !(!r || r.left == r.right) && (Oe = n.right - r.right < 3)
                    }
                    var We, De = 3 != "\n\nb".split(/\n/).length ? function(e) {
                            for (var t = 0, r = [], n = e.length; t <= n;) {
                                var i = e.indexOf("\n", t); - 1 == i && (i = e.length);
                                var o = e.slice(t, "\r" == e.charAt(i - 1) ? i - 1 : i),
                                    a = o.indexOf("\r"); - 1 != a ? (r.push(o.slice(0, a)), t += a + 1) : (r.push(o), t = i + 1)
                            }
                            return r
                        } : function(e) {
                            return e.split(/\r\n?|\n/)
                        },
                        Re = window.getSelection ? function(e) {
                            try {
                                return e.selectionStart != e.selectionEnd
                            } catch (e) {
                                return !1
                            }
                        } : function(e) {
                            var t;
                            try {
                                t = e.ownerDocument.selection.createRange()
                            } catch (e) {}
                            return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints("StartToEnd", t)
                        },
                        Ie = "oncopy" in (We = N("div")) || (We.setAttribute("oncopy", "return;"), "function" == typeof We.oncopy),
                        _e = null;
                    var Fe = {},
                        Be = {};

                    function He(e, t) {
                        arguments.length > 2 && (t.dependencies = Array.prototype.slice.call(arguments, 2)), Fe[e] = t
                    }

                    function je(e) {
                        if ("string" == typeof e && Be.hasOwnProperty(e)) e = Be[e];
                        else if (e && "string" == typeof e.name && Be.hasOwnProperty(e.name)) {
                            var t = Be[e.name];
                            "string" == typeof t && (t = {
                                name: t
                            }), (e = ee(t, e)).name = t.name
                        } else {
                            if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+xml$/.test(e)) return je("application/xml");
                            if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+json$/.test(e)) return je("application/json")
                        }
                        return "string" == typeof e ? {
                            name: e
                        } : e || {
                            name: "null"
                        }
                    }

                    function ze(e, t) {
                        t = je(t);
                        var r = Fe[t.name];
                        if (!r) return ze(e, "text/plain");
                        var n = r(e, t);
                        if (Ue.hasOwnProperty(t.name)) {
                            var i = Ue[t.name];
                            for (var o in i) i.hasOwnProperty(o) && (n.hasOwnProperty(o) && (n["_" + o] = n[o]), n[o] = i[o])
                        }
                        if (n.name = t.name, t.helperType && (n.helperType = t.helperType), t.modeProps)
                            for (var a in t.modeProps) n[a] = t.modeProps[a];
                        return n
                    }
                    var Ue = {};

                    function Ge(e, t) {
                        H(t, Ue.hasOwnProperty(e) ? Ue[e] : Ue[e] = {})
                    }

                    function Ve(e, t) {
                        if (!0 === t) return t;
                        if (e.copyState) return e.copyState(t);
                        var r = {};
                        for (var n in t) {
                            var i = t[n];
                            i instanceof Array && (i = i.concat([])), r[n] = i
                        }
                        return r
                    }

                    function qe(e, t) {
                        for (var r; e.innerMode && (r = e.innerMode(t)) && r.mode != e;) t = r.state, e = r.mode;
                        return r || {
                            mode: e,
                            state: t
                        }
                    }

                    function Ke(e, t, r) {
                        return !e.startState || e.startState(t, r)
                    }
                    var Xe = function(e, t, r) {
                        this.pos = this.start = 0, this.string = e, this.tabSize = t || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = r
                    };

                    function $e(e, t) {
                        if ((t -= e.first) < 0 || t >= e.size) throw new Error("There is no line " + (t + e.first) + " in the document.");
                        for (var r = e; !r.lines;)
                            for (var n = 0;; ++n) {
                                var i = r.children[n],
                                    o = i.chunkSize();
                                if (t < o) {
                                    r = i;
                                    break
                                }
                                t -= o
                            }
                        return r.lines[t]
                    }

                    function Ye(e, t, r) {
                        var n = [],
                            i = t.line;
                        return e.iter(t.line, r.line + 1, (function(e) {
                            var o = e.text;
                            i == r.line && (o = o.slice(0, r.ch)), i == t.line && (o = o.slice(t.ch)), n.push(o), ++i
                        })), n
                    }

                    function Ze(e, t, r) {
                        var n = [];
                        return e.iter(t, r, (function(e) {
                            n.push(e.text)
                        })), n
                    }

                    function Je(e, t) {
                        var r = t - e.height;
                        if (r)
                            for (var n = e; n; n = n.parent) n.height += r
                    }

                    function Qe(e) {
                        if (null == e.parent) return null;
                        for (var t = e.parent, r = U(t.lines, e), n = t.parent; n; t = n, n = n.parent)
                            for (var i = 0; n.children[i] != t; ++i) r += n.children[i].chunkSize();
                        return r + t.first
                    }

                    function et(e, t) {
                        var r = e.first;
                        e: do {
                            for (var n = 0; n < e.children.length; ++n) {
                                var i = e.children[n],
                                    o = i.height;
                                if (t < o) {
                                    e = i;
                                    continue e
                                }
                                t -= o, r += i.chunkSize()
                            }
                            return r
                        } while (!e.lines);
                        for (var a = 0; a < e.lines.length; ++a) {
                            var l = e.lines[a].height;
                            if (t < l) break;
                            t -= l
                        }
                        return r + a
                    }

                    function tt(e, t) {
                        return t >= e.first && t < e.first + e.size
                    }

                    function rt(e, t) {
                        return String(e.lineNumberFormatter(t + e.firstLineNumber))
                    }

                    function nt(e, t, r) {
                        if (void 0 === r && (r = null), !(this instanceof nt)) return new nt(e, t, r);
                        this.line = e, this.ch = t, this.sticky = r
                    }

                    function it(e, t) {
                        return e.line - t.line || e.ch - t.ch
                    }

                    function ot(e, t) {
                        return e.sticky == t.sticky && 0 == it(e, t)
                    }

                    function at(e) {
                        return nt(e.line, e.ch)
                    }

                    function lt(e, t) {
                        return it(e, t) < 0 ? t : e
                    }

                    function st(e, t) {
                        return it(e, t) < 0 ? e : t
                    }

                    function ct(e, t) {
                        return Math.max(e.first, Math.min(t, e.first + e.size - 1))
                    }

                    function ut(e, t) {
                        if (t.line < e.first) return nt(e.first, 0);
                        var r = e.first + e.size - 1;
                        return t.line > r ? nt(r, $e(e, r).text.length) : function(e, t) {
                            var r = e.ch;
                            return null == r || r > t ? nt(e.line, t) : r < 0 ? nt(e.line, 0) : e
                        }(t, $e(e, t.line).text.length)
                    }

                    function ft(e, t) {
                        for (var r = [], n = 0; n < t.length; n++) r[n] = ut(e, t[n]);
                        return r
                    }
                    Xe.prototype.eol = function() {
                        return this.pos >= this.string.length
                    }, Xe.prototype.sol = function() {
                        return this.pos == this.lineStart
                    }, Xe.prototype.peek = function() {
                        return this.string.charAt(this.pos) || void 0
                    }, Xe.prototype.next = function() {
                        if (this.pos < this.string.length) return this.string.charAt(this.pos++)
                    }, Xe.prototype.eat = function(e) {
                        var t = this.string.charAt(this.pos);
                        if ("string" == typeof e ? t == e : t && (e.test ? e.test(t) : e(t))) return ++this.pos, t
                    }, Xe.prototype.eatWhile = function(e) {
                        for (var t = this.pos; this.eat(e););
                        return this.pos > t
                    }, Xe.prototype.eatSpace = function() {
                        for (var e = this.pos;
                            /[\s\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
                        return this.pos > e
                    }, Xe.prototype.skipToEnd = function() {
                        this.pos = this.string.length
                    }, Xe.prototype.skipTo = function(e) {
                        var t = this.string.indexOf(e, this.pos);
                        if (t > -1) return this.pos = t, !0
                    }, Xe.prototype.backUp = function(e) {
                        this.pos -= e
                    }, Xe.prototype.column = function() {
                        return this.lastColumnPos < this.start && (this.lastColumnValue = j(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? j(this.string, this.lineStart, this.tabSize) : 0)
                    }, Xe.prototype.indentation = function() {
                        return j(this.string, null, this.tabSize) - (this.lineStart ? j(this.string, this.lineStart, this.tabSize) : 0)
                    }, Xe.prototype.match = function(e, t, r) {
                        if ("string" != typeof e) {
                            var n = this.string.slice(this.pos).match(e);
                            return n && n.index > 0 ? null : (n && !1 !== t && (this.pos += n[0].length), n)
                        }
                        var i = function(e) {
                            return r ? e.toLowerCase() : e
                        };
                        if (i(this.string.substr(this.pos, e.length)) == i(e)) return !1 !== t && (this.pos += e.length), !0
                    }, Xe.prototype.current = function() {
                        return this.string.slice(this.start, this.pos)
                    }, Xe.prototype.hideFirstChars = function(e, t) {
                        this.lineStart += e;
                        try {
                            return t()
                        } finally {
                            this.lineStart -= e
                        }
                    }, Xe.prototype.lookAhead = function(e) {
                        var t = this.lineOracle;
                        return t && t.lookAhead(e)
                    }, Xe.prototype.baseToken = function() {
                        var e = this.lineOracle;
                        return e && e.baseToken(this.pos)
                    };
                    var ht = function(e, t) {
                            this.state = e, this.lookAhead = t
                        },
                        dt = function(e, t, r, n) {
                            this.state = t, this.doc = e, this.line = r, this.maxLookAhead = n || 0, this.baseTokens = null, this.baseTokenPos = 1
                        };

                    function pt(e, t, r, n) {
                        var i = [e.state.modeGen],
                            o = {};
                        Ct(e, t.text, e.doc.mode, r, (function(e, t) {
                            return i.push(e, t)
                        }), o, n);
                        for (var a = r.state, l = function(n) {
                                r.baseTokens = i;
                                var l = e.state.overlays[n],
                                    s = 1,
                                    c = 0;
                                r.state = !0, Ct(e, t.text, l.mode, r, (function(e, t) {
                                    for (var r = s; c < e;) {
                                        var n = i[s];
                                        n > e && i.splice(s, 1, e, i[s + 1], n), s += 2, c = Math.min(e, n)
                                    }
                                    if (t)
                                        if (l.opaque) i.splice(r, s - r, e, "overlay " + t), s = r + 2;
                                        else
                                            for (; r < s; r += 2) {
                                                var o = i[r + 1];
                                                i[r + 1] = (o ? o + " " : "") + "overlay " + t
                                            }
                                }), o), r.state = a, r.baseTokens = null, r.baseTokenPos = 1
                            }, s = 0; s < e.state.overlays.length; ++s) l(s);
                        return {
                            styles: i,
                            classes: o.bgClass || o.textClass ? o : null
                        }
                    }

                    function gt(e, t, r) {
                        if (!t.styles || t.styles[0] != e.state.modeGen) {
                            var n = vt(e, Qe(t)),
                                i = t.text.length > e.options.maxHighlightLength && Ve(e.doc.mode, n.state),
                                o = pt(e, t, n);
                            i && (n.state = i), t.stateAfter = n.save(!i), t.styles = o.styles, o.classes ? t.styleClasses = o.classes : t.styleClasses && (t.styleClasses = null), r === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier))
                        }
                        return t.styles
                    }

                    function vt(e, t, r) {
                        var n = e.doc,
                            i = e.display;
                        if (!n.mode.startState) return new dt(n, !0, t);
                        var o = function(e, t, r) {
                                for (var n, i, o = e.doc, a = r ? -1 : t - (e.doc.mode.innerMode ? 1e3 : 100), l = t; l > a; --l) {
                                    if (l <= o.first) return o.first;
                                    var s = $e(o, l - 1),
                                        c = s.stateAfter;
                                    if (c && (!r || l + (c instanceof ht ? c.lookAhead : 0) <= o.modeFrontier)) return l;
                                    var u = j(s.text, null, e.options.tabSize);
                                    (null == i || n > u) && (i = l - 1, n = u)
                                }
                                return i
                            }(e, t, r),
                            a = o > n.first && $e(n, o - 1).stateAfter,
                            l = a ? dt.fromSaved(n, a, o) : new dt(n, Ke(n.mode), o);
                        return n.iter(o, t, (function(r) {
                            mt(e, r.text, l);
                            var n = l.line;
                            r.stateAfter = n == t - 1 || n % 5 == 0 || n >= i.viewFrom && n < i.viewTo ? l.save() : null, l.nextLine()
                        })), r && (n.modeFrontier = l.line), l
                    }

                    function mt(e, t, r, n) {
                        var i = e.doc.mode,
                            o = new Xe(t, e.options.tabSize, r);
                        for (o.start = o.pos = n || 0, "" == t && yt(i, r.state); !o.eol();) bt(i, o, r.state), o.start = o.pos
                    }

                    function yt(e, t) {
                        if (e.blankLine) return e.blankLine(t);
                        if (e.innerMode) {
                            var r = qe(e, t);
                            return r.mode.blankLine ? r.mode.blankLine(r.state) : void 0
                        }
                    }

                    function bt(e, t, r, n) {
                        for (var i = 0; i < 10; i++) {
                            n && (n[0] = qe(e, r).mode);
                            var o = e.token(t, r);
                            if (t.pos > t.start) return o
                        }
                        throw new Error("Mode " + e.name + " failed to advance stream.")
                    }
                    dt.prototype.lookAhead = function(e) {
                        var t = this.doc.getLine(this.line + e);
                        return null != t && e > this.maxLookAhead && (this.maxLookAhead = e), t
                    }, dt.prototype.baseToken = function(e) {
                        if (!this.baseTokens) return null;
                        for (; this.baseTokens[this.baseTokenPos] <= e;) this.baseTokenPos += 2;
                        var t = this.baseTokens[this.baseTokenPos + 1];
                        return {
                            type: t && t.replace(/( |^)overlay .*/, ""),
                            size: this.baseTokens[this.baseTokenPos] - e
                        }
                    }, dt.prototype.nextLine = function() {
                        this.line++, this.maxLookAhead > 0 && this.maxLookAhead--
                    }, dt.fromSaved = function(e, t, r) {
                        return t instanceof ht ? new dt(e, Ve(e.mode, t.state), r, t.lookAhead) : new dt(e, Ve(e.mode, t), r)
                    }, dt.prototype.save = function(e) {
                        var t = !1 !== e ? Ve(this.doc.mode, this.state) : this.state;
                        return this.maxLookAhead > 0 ? new ht(t, this.maxLookAhead) : t
                    };
                    var wt = function(e, t, r) {
                        this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = t || null, this.state = r
                    };

                    function St(e, t, r, n) {
                        var i, o, a = e.doc,
                            l = a.mode,
                            s = $e(a, (t = ut(a, t)).line),
                            c = vt(e, t.line, r),
                            u = new Xe(s.text, e.options.tabSize, c);
                        for (n && (o = []);
                            (n || u.pos < t.ch) && !u.eol();) u.start = u.pos, i = bt(l, u, c.state), n && o.push(new wt(u, i, Ve(a.mode, c.state)));
                        return n ? o : new wt(u, i, c.state)
                    }

                    function xt(e, t) {
                        if (e)
                            for (;;) {
                                var r = e.match(/(?:^|\s+)line-(background-)?(\S+)/);
                                if (!r) break;
                                e = e.slice(0, r.index) + e.slice(r.index + r[0].length);
                                var n = r[1] ? "bgClass" : "textClass";
                                null == t[n] ? t[n] = r[2] : new RegExp("(?:^|\\s)" + r[2] + "(?:$|\\s)").test(t[n]) || (t[n] += " " + r[2])
                            }
                        return e
                    }

                    function Ct(e, t, r, n, i, o, a) {
                        var l = r.flattenSpans;
                        null == l && (l = e.options.flattenSpans);
                        var s, c = 0,
                            u = null,
                            f = new Xe(t, e.options.tabSize, n),
                            h = e.options.addModeClass && [null];
                        for ("" == t && xt(yt(r, n.state), o); !f.eol();) {
                            if (f.pos > e.options.maxHighlightLength ? (l = !1, a && mt(e, t, n, f.pos), f.pos = t.length, s = null) : s = xt(bt(r, f, n.state, h), o), h) {
                                var d = h[0].name;
                                d && (s = "m-" + (s ? d + " " + s : d))
                            }
                            if (!l || u != s) {
                                for (; c < f.start;) i(c = Math.min(f.start, c + 5e3), u);
                                u = s
                            }
                            f.start = f.pos
                        }
                        for (; c < f.pos;) {
                            var p = Math.min(f.pos, c + 5e3);
                            i(p, u), c = p
                        }
                    }
                    var At = !1,
                        kt = !1;

                    function Lt(e, t, r) {
                        this.marker = e, this.from = t, this.to = r
                    }

                    function Tt(e, t) {
                        if (e)
                            for (var r = 0; r < e.length; ++r) {
                                var n = e[r];
                                if (n.marker == t) return n
                            }
                    }

                    function Et(e, t) {
                        for (var r, n = 0; n < e.length; ++n) e[n] != t && (r || (r = [])).push(e[n]);
                        return r
                    }

                    function Ot(e, t) {
                        if (t.full) return null;
                        var r = tt(e, t.from.line) && $e(e, t.from.line).markedSpans,
                            n = tt(e, t.to.line) && $e(e, t.to.line).markedSpans;
                        if (!r && !n) return null;
                        var i = t.from.ch,
                            o = t.to.ch,
                            a = 0 == it(t.from, t.to),
                            l = function(e, t, r) {
                                var n;
                                if (e)
                                    for (var i = 0; i < e.length; ++i) {
                                        var o = e[i],
                                            a = o.marker;
                                        if (null == o.from || (a.inclusiveLeft ? o.from <= t : o.from < t) || o.from == t && "bookmark" == a.type && (!r || !o.marker.insertLeft)) {
                                            var l = null == o.to || (a.inclusiveRight ? o.to >= t : o.to > t);
                                            (n || (n = [])).push(new Lt(a, o.from, l ? null : o.to))
                                        }
                                    }
                                return n
                            }(r, i, a),
                            s = function(e, t, r) {
                                var n;
                                if (e)
                                    for (var i = 0; i < e.length; ++i) {
                                        var o = e[i],
                                            a = o.marker;
                                        if (null == o.to || (a.inclusiveRight ? o.to >= t : o.to > t) || o.from == t && "bookmark" == a.type && (!r || o.marker.insertLeft)) {
                                            var l = null == o.from || (a.inclusiveLeft ? o.from <= t : o.from < t);
                                            (n || (n = [])).push(new Lt(a, l ? null : o.from - t, null == o.to ? null : o.to - t))
                                        }
                                    }
                                return n
                            }(n, o, a),
                            c = 1 == t.text.length,
                            u = Z(t.text).length + (c ? i : 0);
                        if (l)
                            for (var f = 0; f < l.length; ++f) {
                                var h = l[f];
                                if (null == h.to) {
                                    var d = Tt(s, h.marker);
                                    d ? c && (h.to = null == d.to ? null : d.to + u) : h.to = i
                                }
                            }
                        if (s)
                            for (var p = 0; p < s.length; ++p) {
                                var g = s[p];
                                null != g.to && (g.to += u), null == g.from ? Tt(l, g.marker) || (g.from = u, c && (l || (l = [])).push(g)) : (g.from += u, c && (l || (l = [])).push(g))
                            }
                        l && (l = Nt(l)), s && s != l && (s = Nt(s));
                        var v = [l];
                        if (!c) {
                            var m, y = t.text.length - 2;
                            if (y > 0 && l)
                                for (var b = 0; b < l.length; ++b) null == l[b].to && (m || (m = [])).push(new Lt(l[b].marker, null, null));
                            for (var w = 0; w < y; ++w) v.push(m);
                            v.push(s)
                        }
                        return v
                    }

                    function Nt(e) {
                        for (var t = 0; t < e.length; ++t) {
                            var r = e[t];
                            null != r.from && r.from == r.to && !1 !== r.marker.clearWhenEmpty && e.splice(t--, 1)
                        }
                        return e.length ? e : null
                    }

                    function Mt(e) {
                        var t = e.markedSpans;
                        if (t) {
                            for (var r = 0; r < t.length; ++r) t[r].marker.detachLine(e);
                            e.markedSpans = null
                        }
                    }

                    function Pt(e, t) {
                        if (t) {
                            for (var r = 0; r < t.length; ++r) t[r].marker.attachLine(e);
                            e.markedSpans = t
                        }
                    }

                    function Wt(e) {
                        return e.inclusiveLeft ? -1 : 0
                    }

                    function Dt(e) {
                        return e.inclusiveRight ? 1 : 0
                    }

                    function Rt(e, t) {
                        var r = e.lines.length - t.lines.length;
                        if (0 != r) return r;
                        var n = e.find(),
                            i = t.find(),
                            o = it(n.from, i.from) || Wt(e) - Wt(t);
                        return o ? -o : it(n.to, i.to) || Dt(e) - Dt(t) || t.id - e.id
                    }

                    function It(e, t) {
                        var r, n = kt && e.markedSpans;
                        if (n)
                            for (var i = void 0, o = 0; o < n.length; ++o)(i = n[o]).marker.collapsed && null == (t ? i.from : i.to) && (!r || Rt(r, i.marker) < 0) && (r = i.marker);
                        return r
                    }

                    function _t(e) {
                        return It(e, !0)
                    }

                    function Ft(e) {
                        return It(e, !1)
                    }

                    function Bt(e, t) {
                        var r, n = kt && e.markedSpans;
                        if (n)
                            for (var i = 0; i < n.length; ++i) {
                                var o = n[i];
                                o.marker.collapsed && (null == o.from || o.from < t) && (null == o.to || o.to > t) && (!r || Rt(r, o.marker) < 0) && (r = o.marker)
                            }
                        return r
                    }

                    function Ht(e, t, r, n, i) {
                        var o = $e(e, t),
                            a = kt && o.markedSpans;
                        if (a)
                            for (var l = 0; l < a.length; ++l) {
                                var s = a[l];
                                if (s.marker.collapsed) {
                                    var c = s.marker.find(0),
                                        u = it(c.from, r) || Wt(s.marker) - Wt(i),
                                        f = it(c.to, n) || Dt(s.marker) - Dt(i);
                                    if (!(u >= 0 && f <= 0 || u <= 0 && f >= 0) && (u <= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? it(c.to, r) >= 0 : it(c.to, r) > 0) || u >= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? it(c.from, n) <= 0 : it(c.from, n) < 0))) return !0
                                }
                            }
                    }

                    function jt(e) {
                        for (var t; t = _t(e);) e = t.find(-1, !0).line;
                        return e
                    }

                    function zt(e, t) {
                        var r = $e(e, t),
                            n = jt(r);
                        return r == n ? t : Qe(n)
                    }

                    function Ut(e, t) {
                        if (t > e.lastLine()) return t;
                        var r, n = $e(e, t);
                        if (!Gt(e, n)) return t;
                        for (; r = Ft(n);) n = r.find(1, !0).line;
                        return Qe(n) + 1
                    }

                    function Gt(e, t) {
                        var r = kt && t.markedSpans;
                        if (r)
                            for (var n = void 0, i = 0; i < r.length; ++i)
                                if ((n = r[i]).marker.collapsed) {
                                    if (null == n.from) return !0;
                                    if (!n.marker.widgetNode && 0 == n.from && n.marker.inclusiveLeft && Vt(e, t, n)) return !0
                                }
                    }

                    function Vt(e, t, r) {
                        if (null == r.to) {
                            var n = r.marker.find(1, !0);
                            return Vt(e, n.line, Tt(n.line.markedSpans, r.marker))
                        }
                        if (r.marker.inclusiveRight && r.to == t.text.length) return !0;
                        for (var i = void 0, o = 0; o < t.markedSpans.length; ++o)
                            if ((i = t.markedSpans[o]).marker.collapsed && !i.marker.widgetNode && i.from == r.to && (null == i.to || i.to != r.from) && (i.marker.inclusiveLeft || r.marker.inclusiveRight) && Vt(e, t, i)) return !0
                    }

                    function qt(e) {
                        for (var t = 0, r = (e = jt(e)).parent, n = 0; n < r.lines.length; ++n) {
                            var i = r.lines[n];
                            if (i == e) break;
                            t += i.height
                        }
                        for (var o = r.parent; o; o = (r = o).parent)
                            for (var a = 0; a < o.children.length; ++a) {
                                var l = o.children[a];
                                if (l == r) break;
                                t += l.height
                            }
                        return t
                    }

                    function Kt(e) {
                        if (0 == e.height) return 0;
                        for (var t, r = e.text.length, n = e; t = _t(n);) {
                            var i = t.find(0, !0);
                            n = i.from.line, r += i.from.ch - i.to.ch
                        }
                        for (n = e; t = Ft(n);) {
                            var o = t.find(0, !0);
                            r -= n.text.length - o.from.ch, r += (n = o.to.line).text.length - o.to.ch
                        }
                        return r
                    }

                    function Xt(e) {
                        var t = e.display,
                            r = e.doc;
                        t.maxLine = $e(r, r.first), t.maxLineLength = Kt(t.maxLine), t.maxLineChanged = !0, r.iter((function(e) {
                            var r = Kt(e);
                            r > t.maxLineLength && (t.maxLineLength = r, t.maxLine = e)
                        }))
                    }
                    var $t = function(e, t, r) {
                        this.text = e, Pt(this, t), this.height = r ? r(this) : 1
                    };

                    function Yt(e) {
                        e.parent = null, Mt(e)
                    }
                    $t.prototype.lineNo = function() {
                        return Qe(this)
                    }, Se($t);
                    var Zt = {},
                        Jt = {};

                    function Qt(e, t) {
                        if (!e || /^\s*$/.test(e)) return null;
                        var r = t.addModeClass ? Jt : Zt;
                        return r[e] || (r[e] = e.replace(/\S+/g, "cm-$&"))
                    }

                    function er(e, t) {
                        var r = M("span", null, null, s ? "padding-right: .1px" : null),
                            n = {
                                pre: M("pre", [r], "CodeMirror-line"),
                                content: r,
                                col: 0,
                                pos: 0,
                                cm: e,
                                trailingSpace: !1,
                                splitSpaces: e.getOption("lineWrapping")
                            };
                        t.measure = {};
                        for (var i = 0; i <= (t.rest ? t.rest.length : 0); i++) {
                            var o = i ? t.rest[i - 1] : t.line,
                                a = void 0;
                            n.pos = 0, n.addToken = rr, Pe(e.display.measure) && (a = he(o, e.doc.direction)) && (n.addToken = nr(n.addToken, a)), n.map = [], or(o, n, gt(e, o, t != e.display.externalMeasured && Qe(o))), o.styleClasses && (o.styleClasses.bgClass && (n.bgClass = R(o.styleClasses.bgClass, n.bgClass || "")), o.styleClasses.textClass && (n.textClass = R(o.styleClasses.textClass, n.textClass || ""))), 0 == n.map.length && n.map.push(0, 0, n.content.appendChild(Me(e.display.measure))), 0 == i ? (t.measure.map = n.map, t.measure.cache = {}) : ((t.measure.maps || (t.measure.maps = [])).push(n.map), (t.measure.caches || (t.measure.caches = [])).push({}))
                        }
                        if (s) {
                            var l = n.content.lastChild;
                            (/\bcm-tab\b/.test(l.className) || l.querySelector && l.querySelector(".cm-tab")) && (n.content.className = "cm-tab-wrap-hack")
                        }
                        return me(e, "renderLine", e, t.line, n.pre), n.pre.className && (n.textClass = R(n.pre.className, n.textClass || "")), n
                    }

                    function tr(e) {
                        var t = N("span", "•", "cm-invalidchar");
                        return t.title = "\\u" + e.charCodeAt(0).toString(16), t.setAttribute("aria-label", t.title), t
                    }

                    function rr(e, t, r, n, i, o, s) {
                        if (t) {
                            var c, u = e.splitSpaces ? function(e, t) {
                                    if (e.length > 1 && !/  /.test(e)) return e;
                                    for (var r = t, n = "", i = 0; i < e.length; i++) {
                                        var o = e.charAt(i);
                                        " " != o || !r || i != e.length - 1 && 32 != e.charCodeAt(i + 1) || (o = " "), n += o, r = " " == o
                                    }
                                    return n
                                }(t, e.trailingSpace) : t,
                                f = e.cm.state.specialChars,
                                h = !1;
                            if (f.test(t)) {
                                c = document.createDocumentFragment();
                                for (var d = 0;;) {
                                    f.lastIndex = d;
                                    var p = f.exec(t),
                                        g = p ? p.index - d : t.length - d;
                                    if (g) {
                                        var v = document.createTextNode(u.slice(d, d + g));
                                        a && l < 9 ? c.appendChild(N("span", [v])) : c.appendChild(v), e.map.push(e.pos, e.pos + g, v), e.col += g, e.pos += g
                                    }
                                    if (!p) break;
                                    d += g + 1;
                                    var m = void 0;
                                    if ("\t" == p[0]) {
                                        var y = e.cm.options.tabSize,
                                            b = y - e.col % y;
                                        (m = c.appendChild(N("span", Y(b), "cm-tab"))).setAttribute("role", "presentation"), m.setAttribute("cm-text", "\t"), e.col += b
                                    } else "\r" == p[0] || "\n" == p[0] ? ((m = c.appendChild(N("span", "\r" == p[0] ? "␍" : "␤", "cm-invalidchar"))).setAttribute("cm-text", p[0]), e.col += 1) : ((m = e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text", p[0]), a && l < 9 ? c.appendChild(N("span", [m])) : c.appendChild(m), e.col += 1);
                                    e.map.push(e.pos, e.pos + 1, m), e.pos++
                                }
                            } else e.col += t.length, c = document.createTextNode(u), e.map.push(e.pos, e.pos + t.length, c), a && l < 9 && (h = !0), e.pos += t.length;
                            if (e.trailingSpace = 32 == u.charCodeAt(t.length - 1), r || n || i || h || o || s) {
                                var w = r || "";
                                n && (w += n), i && (w += i);
                                var S = N("span", [c], w, o);
                                if (s)
                                    for (var x in s) s.hasOwnProperty(x) && "style" != x && "class" != x && S.setAttribute(x, s[x]);
                                return e.content.appendChild(S)
                            }
                            e.content.appendChild(c)
                        }
                    }

                    function nr(e, t) {
                        return function(r, n, i, o, a, l, s) {
                            i = i ? i + " cm-force-border" : "cm-force-border";
                            for (var c = r.pos, u = c + n.length;;) {
                                for (var f = void 0, h = 0; h < t.length && !((f = t[h]).to > c && f.from <= c); h++);
                                if (f.to >= u) return e(r, n, i, o, a, l, s);
                                e(r, n.slice(0, f.to - c), i, o, null, l, s), o = null, n = n.slice(f.to - c), c = f.to
                            }
                        }
                    }

                    function ir(e, t, r, n) {
                        var i = !n && r.widgetNode;
                        i && e.map.push(e.pos, e.pos + t, i), !n && e.cm.display.input.needsContentAttribute && (i || (i = e.content.appendChild(document.createElement("span"))), i.setAttribute("cm-marker", r.id)), i && (e.cm.display.input.setUneditable(i), e.content.appendChild(i)), e.pos += t, e.trailingSpace = !1
                    }

                    function or(e, t, r) {
                        var n = e.markedSpans,
                            i = e.text,
                            o = 0;
                        if (n)
                            for (var a, l, s, c, u, f, h, d = i.length, p = 0, g = 1, v = "", m = 0;;) {
                                if (m == p) {
                                    s = c = u = l = "", h = null, f = null, m = 1 / 0;
                                    for (var y = [], b = void 0, w = 0; w < n.length; ++w) {
                                        var S = n[w],
                                            x = S.marker;
                                        if ("bookmark" == x.type && S.from == p && x.widgetNode) y.push(x);
                                        else if (S.from <= p && (null == S.to || S.to > p || x.collapsed && S.to == p && S.from == p)) {
                                            if (null != S.to && S.to != p && m > S.to && (m = S.to, c = ""), x.className && (s += " " + x.className), x.css && (l = (l ? l + ";" : "") + x.css), x.startStyle && S.from == p && (u += " " + x.startStyle), x.endStyle && S.to == m && (b || (b = [])).push(x.endStyle, S.to), x.title && ((h || (h = {})).title = x.title), x.attributes)
                                                for (var C in x.attributes)(h || (h = {}))[C] = x.attributes[C];
                                            x.collapsed && (!f || Rt(f.marker, x) < 0) && (f = S)
                                        } else S.from > p && m > S.from && (m = S.from)
                                    }
                                    if (b)
                                        for (var A = 0; A < b.length; A += 2) b[A + 1] == m && (c += " " + b[A]);
                                    if (!f || f.from == p)
                                        for (var k = 0; k < y.length; ++k) ir(t, 0, y[k]);
                                    if (f && (f.from || 0) == p) {
                                        if (ir(t, (null == f.to ? d + 1 : f.to) - p, f.marker, null == f.from), null == f.to) return;
                                        f.to == p && (f = !1)
                                    }
                                }
                                if (p >= d) break;
                                for (var L = Math.min(d, m);;) {
                                    if (v) {
                                        var T = p + v.length;
                                        if (!f) {
                                            var E = T > L ? v.slice(0, L - p) : v;
                                            t.addToken(t, E, a ? a + s : s, u, p + E.length == m ? c : "", l, h)
                                        }
                                        if (T >= L) {
                                            v = v.slice(L - p), p = L;
                                            break
                                        }
                                        p = T, u = ""
                                    }
                                    v = i.slice(o, o = r[g++]), a = Qt(r[g++], t.cm.options)
                                }
                            } else
                                for (var O = 1; O < r.length; O += 2) t.addToken(t, i.slice(o, o = r[O]), Qt(r[O + 1], t.cm.options))
                    }

                    function ar(e, t, r) {
                        this.line = t, this.rest = function(e) {
                            for (var t, r; t = Ft(e);) e = t.find(1, !0).line, (r || (r = [])).push(e);
                            return r
                        }(t), this.size = this.rest ? Qe(Z(this.rest)) - r + 1 : 1, this.node = this.text = null, this.hidden = Gt(e, t)
                    }

                    function lr(e, t, r) {
                        for (var n, i = [], o = t; o < r; o = n) {
                            var a = new ar(e.doc, $e(e.doc, o), o);
                            n = o + a.size, i.push(a)
                        }
                        return i
                    }
                    var sr = null;
                    var cr = null;

                    function ur(e, t) {
                        var r = ge(e, t);
                        if (r.length) {
                            var n, i = Array.prototype.slice.call(arguments, 2);
                            sr ? n = sr.delayedCallbacks : cr ? n = cr : (n = cr = [], setTimeout(fr, 0));
                            for (var o = function(e) {
                                    n.push((function() {
                                        return r[e].apply(null, i)
                                    }))
                                }, a = 0; a < r.length; ++a) o(a)
                        }
                    }

                    function fr() {
                        var e = cr;
                        cr = null;
                        for (var t = 0; t < e.length; ++t) e[t]()
                    }

                    function hr(e, t, r, n) {
                        for (var i = 0; i < t.changes.length; i++) {
                            var o = t.changes[i];
                            "text" == o ? gr(e, t) : "gutter" == o ? mr(e, t, r, n) : "class" == o ? vr(e, t) : "widget" == o && yr(e, t, n)
                        }
                        t.changes = null
                    }

                    function dr(e) {
                        return e.node == e.text && (e.node = N("div", null, null, "position: relative"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), a && l < 8 && (e.node.style.zIndex = 2)), e.node
                    }

                    function pr(e, t) {
                        var r = e.display.externalMeasured;
                        return r && r.line == t.line ? (e.display.externalMeasured = null, t.measure = r.measure, r.built) : er(e, t)
                    }

                    function gr(e, t) {
                        var r = t.text.className,
                            n = pr(e, t);
                        t.text == t.node && (t.node = n.pre), t.text.parentNode.replaceChild(n.pre, t.text), t.text = n.pre, n.bgClass != t.bgClass || n.textClass != t.textClass ? (t.bgClass = n.bgClass, t.textClass = n.textClass, vr(e, t)) : r && (t.text.className = r)
                    }

                    function vr(e, t) {
                        (function(e, t) {
                            var r = t.bgClass ? t.bgClass + " " + (t.line.bgClass || "") : t.line.bgClass;
                            if (r && (r += " CodeMirror-linebackground"), t.background) r ? t.background.className = r : (t.background.parentNode.removeChild(t.background), t.background = null);
                            else if (r) {
                                var n = dr(t);
                                t.background = n.insertBefore(N("div", null, r), n.firstChild), e.display.input.setUneditable(t.background)
                            }
                        })(e, t), t.line.wrapClass ? dr(t).className = t.line.wrapClass : t.node != t.text && (t.node.className = "");
                        var r = t.textClass ? t.textClass + " " + (t.line.textClass || "") : t.line.textClass;
                        t.text.className = r || ""
                    }

                    function mr(e, t, r, n) {
                        if (t.gutter && (t.node.removeChild(t.gutter), t.gutter = null), t.gutterBackground && (t.node.removeChild(t.gutterBackground), t.gutterBackground = null), t.line.gutterClass) {
                            var i = dr(t);
                            t.gutterBackground = N("div", null, "CodeMirror-gutter-background " + t.line.gutterClass, "left: " + (e.options.fixedGutter ? n.fixedPos : -n.gutterTotalWidth) + "px; width: " + n.gutterTotalWidth + "px"), e.display.input.setUneditable(t.gutterBackground), i.insertBefore(t.gutterBackground, t.text)
                        }
                        var o = t.line.gutterMarkers;
                        if (e.options.lineNumbers || o) {
                            var a = dr(t),
                                l = t.gutter = N("div", null, "CodeMirror-gutter-wrapper", "left: " + (e.options.fixedGutter ? n.fixedPos : -n.gutterTotalWidth) + "px");
                            if (l.setAttribute("aria-hidden", "true"), e.display.input.setUneditable(l), a.insertBefore(l, t.text), t.line.gutterClass && (l.className += " " + t.line.gutterClass), !e.options.lineNumbers || o && o["CodeMirror-linenumbers"] || (t.lineNumber = l.appendChild(N("div", rt(e.options, r), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + n.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + e.display.lineNumInnerWidth + "px"))), o)
                                for (var s = 0; s < e.display.gutterSpecs.length; ++s) {
                                    var c = e.display.gutterSpecs[s].className,
                                        u = o.hasOwnProperty(c) && o[c];
                                    u && l.appendChild(N("div", [u], "CodeMirror-gutter-elt", "left: " + n.gutterLeft[c] + "px; width: " + n.gutterWidth[c] + "px"))
                                }
                        }
                    }

                    function yr(e, t, r) {
                        t.alignable && (t.alignable = null);
                        for (var n = k("CodeMirror-linewidget"), i = t.node.firstChild, o = void 0; i; i = o) o = i.nextSibling, n.test(i.className) && t.node.removeChild(i);
                        wr(e, t, r)
                    }

                    function br(e, t, r, n) {
                        var i = pr(e, t);
                        return t.text = t.node = i.pre, i.bgClass && (t.bgClass = i.bgClass), i.textClass && (t.textClass = i.textClass), vr(e, t), mr(e, t, r, n), wr(e, t, n), t.node
                    }

                    function wr(e, t, r) {
                        if (Sr(e, t.line, t, r, !0), t.rest)
                            for (var n = 0; n < t.rest.length; n++) Sr(e, t.rest[n], t, r, !1)
                    }

                    function Sr(e, t, r, n, i) {
                        if (t.widgets)
                            for (var o = dr(r), a = 0, l = t.widgets; a < l.length; ++a) {
                                var s = l[a],
                                    c = N("div", [s.node], "CodeMirror-linewidget" + (s.className ? " " + s.className : ""));
                                s.handleMouseEvents || c.setAttribute("cm-ignore-events", "true"), xr(s, c, r, n), e.display.input.setUneditable(c), i && s.above ? o.insertBefore(c, r.gutter || r.text) : o.appendChild(c), ur(s, "redraw")
                            }
                    }

                    function xr(e, t, r, n) {
                        if (e.noHScroll) {
                            (r.alignable || (r.alignable = [])).push(t);
                            var i = n.wrapperWidth;
                            t.style.left = n.fixedPos + "px", e.coverGutter || (i -= n.gutterTotalWidth, t.style.paddingLeft = n.gutterTotalWidth + "px"), t.style.width = i + "px"
                        }
                        e.coverGutter && (t.style.zIndex = 5, t.style.position = "relative", e.noHScroll || (t.style.marginLeft = -n.gutterTotalWidth + "px"))
                    }

                    function Cr(e) {
                        if (null != e.height) return e.height;
                        var t = e.doc.cm;
                        if (!t) return 0;
                        if (!P(document.body, e.node)) {
                            var r = "position: relative;";
                            e.coverGutter && (r += "margin-left: -" + t.display.gutters.offsetWidth + "px;"), e.noHScroll && (r += "width: " + t.display.wrapper.clientWidth + "px;"), O(t.display.measure, N("div", [e.node], null, r))
                        }
                        return e.height = e.node.parentNode.offsetHeight
                    }

                    function Ar(e, t) {
                        for (var r = Le(t); r != e.wrapper; r = r.parentNode)
                            if (!r || 1 == r.nodeType && "true" == r.getAttribute("cm-ignore-events") || r.parentNode == e.sizer && r != e.mover) return !0
                    }

                    function kr(e) {
                        return e.lineSpace.offsetTop
                    }

                    function Lr(e) {
                        return e.mover.offsetHeight - e.lineSpace.offsetHeight
                    }

                    function Tr(e) {
                        if (e.cachedPaddingH) return e.cachedPaddingH;
                        var t = O(e.measure, N("pre", "x", "CodeMirror-line-like")),
                            r = window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle,
                            n = {
                                left: parseInt(r.paddingLeft),
                                right: parseInt(r.paddingRight)
                            };
                        return isNaN(n.left) || isNaN(n.right) || (e.cachedPaddingH = n), n
                    }

                    function Er(e) {
                        return 50 - e.display.nativeBarWidth
                    }

                    function Or(e) {
                        return e.display.scroller.clientWidth - Er(e) - e.display.barWidth
                    }

                    function Nr(e) {
                        return e.display.scroller.clientHeight - Er(e) - e.display.barHeight
                    }

                    function Mr(e, t, r) {
                        if (e.line == t) return {
                            map: e.measure.map,
                            cache: e.measure.cache
                        };
                        if (e.rest) {
                            for (var n = 0; n < e.rest.length; n++)
                                if (e.rest[n] == t) return {
                                    map: e.measure.maps[n],
                                    cache: e.measure.caches[n]
                                };
                            for (var i = 0; i < e.rest.length; i++)
                                if (Qe(e.rest[i]) > r) return {
                                    map: e.measure.maps[i],
                                    cache: e.measure.caches[i],
                                    before: !0
                                }
                        }
                    }

                    function Pr(e, t, r, n) {
                        return Rr(e, Dr(e, t), r, n)
                    }

                    function Wr(e, t) {
                        if (t >= e.display.viewFrom && t < e.display.viewTo) return e.display.view[dn(e, t)];
                        var r = e.display.externalMeasured;
                        return r && t >= r.lineN && t < r.lineN + r.size ? r : void 0
                    }

                    function Dr(e, t) {
                        var r = Qe(t),
                            n = Wr(e, r);
                        n && !n.text ? n = null : n && n.changes && (hr(e, n, r, sn(e)), e.curOp.forceUpdate = !0), n || (n = function(e, t) {
                            var r = Qe(t = jt(t)),
                                n = e.display.externalMeasured = new ar(e.doc, t, r);
                            n.lineN = r;
                            var i = n.built = er(e, n);
                            return n.text = i.pre, O(e.display.lineMeasure, i.pre), n
                        }(e, t));
                        var i = Mr(n, t, r);
                        return {
                            line: t,
                            view: n,
                            rect: null,
                            map: i.map,
                            cache: i.cache,
                            before: i.before,
                            hasHeights: !1
                        }
                    }

                    function Rr(e, t, r, n, i) {
                        t.before && (r = -1);
                        var o, s = r + (n || "");
                        return t.cache.hasOwnProperty(s) ? o = t.cache[s] : (t.rect || (t.rect = t.view.text.getBoundingClientRect()), t.hasHeights || (function(e, t, r) {
                            var n = e.options.lineWrapping,
                                i = n && Or(e);
                            if (!t.measure.heights || n && t.measure.width != i) {
                                var o = t.measure.heights = [];
                                if (n) {
                                    t.measure.width = i;
                                    for (var a = t.text.firstChild.getClientRects(), l = 0; l < a.length - 1; l++) {
                                        var s = a[l],
                                            c = a[l + 1];
                                        Math.abs(s.bottom - c.bottom) > 2 && o.push((s.bottom + c.top) / 2 - r.top)
                                    }
                                }
                                o.push(r.bottom - r.top)
                            }
                        }(e, t.view, t.rect), t.hasHeights = !0), (o = function(e, t, r, n) {
                            var i, o = Fr(t.map, r, n),
                                s = o.node,
                                c = o.start,
                                u = o.end,
                                f = o.collapse;
                            if (3 == s.nodeType) {
                                for (var h = 0; h < 4; h++) {
                                    for (; c && ae(t.line.text.charAt(o.coverStart + c));) --c;
                                    for (; o.coverStart + u < o.coverEnd && ae(t.line.text.charAt(o.coverStart + u));) ++u;
                                    if ((i = a && l < 9 && 0 == c && u == o.coverEnd - o.coverStart ? s.parentNode.getBoundingClientRect() : Br(L(s, c, u).getClientRects(), n)).left || i.right || 0 == c) break;
                                    u = c, c -= 1, f = "right"
                                }
                                a && l < 11 && (i = function(e, t) {
                                    if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || ! function(e) {
                                            if (null != _e) return _e;
                                            var t = O(e, N("span", "x")),
                                                r = t.getBoundingClientRect(),
                                                n = L(t, 0, 1).getBoundingClientRect();
                                            return _e = Math.abs(r.left - n.left) > 1
                                        }(e)) return t;
                                    var r = screen.logicalXDPI / screen.deviceXDPI,
                                        n = screen.logicalYDPI / screen.deviceYDPI;
                                    return {
                                        left: t.left * r,
                                        right: t.right * r,
                                        top: t.top * n,
                                        bottom: t.bottom * n
                                    }
                                }(e.display.measure, i))
                            } else {
                                var d;
                                c > 0 && (f = n = "right"), i = e.options.lineWrapping && (d = s.getClientRects()).length > 1 ? d["right" == n ? d.length - 1 : 0] : s.getBoundingClientRect()
                            }
                            if (a && l < 9 && !c && (!i || !i.left && !i.right)) {
                                var p = s.parentNode.getClientRects()[0];
                                i = p ? {
                                    left: p.left,
                                    right: p.left + ln(e.display),
                                    top: p.top,
                                    bottom: p.bottom
                                } : _r
                            }
                            for (var g = i.top - t.rect.top, v = i.bottom - t.rect.top, m = (g + v) / 2, y = t.view.measure.heights, b = 0; b < y.length - 1 && !(m < y[b]); b++);
                            var w = b ? y[b - 1] : 0,
                                S = y[b],
                                x = {
                                    left: ("right" == f ? i.right : i.left) - t.rect.left,
                                    right: ("left" == f ? i.left : i.right) - t.rect.left,
                                    top: w,
                                    bottom: S
                                };
                            return i.left || i.right || (x.bogus = !0), e.options.singleCursorHeightPerLine || (x.rtop = g, x.rbottom = v), x
                        }(e, t, r, n)).bogus || (t.cache[s] = o)), {
                            left: o.left,
                            right: o.right,
                            top: i ? o.rtop : o.top,
                            bottom: i ? o.rbottom : o.bottom
                        }
                    }
                    var Ir, _r = {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    };

                    function Fr(e, t, r) {
                        for (var n, i, o, a, l, s, c = 0; c < e.length; c += 3)
                            if (l = e[c], s = e[c + 1], t < l ? (i = 0, o = 1, a = "left") : t < s ? o = 1 + (i = t - l) : (c == e.length - 3 || t == s && e[c + 3] > t) && (i = (o = s - l) - 1, t >= s && (a = "right")), null != i) {
                                if (n = e[c + 2], l == s && r == (n.insertLeft ? "left" : "right") && (a = r), "left" == r && 0 == i)
                                    for (; c && e[c - 2] == e[c - 3] && e[c - 1].insertLeft;) n = e[2 + (c -= 3)], a = "left";
                                if ("right" == r && i == s - l)
                                    for (; c < e.length - 3 && e[c + 3] == e[c + 4] && !e[c + 5].insertLeft;) n = e[(c += 3) + 2], a = "right";
                                break
                            } return {
                            node: n,
                            start: i,
                            end: o,
                            collapse: a,
                            coverStart: l,
                            coverEnd: s
                        }
                    }

                    function Br(e, t) {
                        var r = _r;
                        if ("left" == t)
                            for (var n = 0; n < e.length && (r = e[n]).left == r.right; n++);
                        else
                            for (var i = e.length - 1; i >= 0 && (r = e[i]).left == r.right; i--);
                        return r
                    }

                    function Hr(e) {
                        if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest))
                            for (var t = 0; t < e.rest.length; t++) e.measure.caches[t] = {}
                    }

                    function jr(e) {
                        e.display.externalMeasure = null, E(e.display.lineMeasure);
                        for (var t = 0; t < e.display.view.length; t++) Hr(e.display.view[t])
                    }

                    function zr(e) {
                        jr(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = !0), e.display.lineNumChars = null
                    }

                    function Ur(e) {
                        return u && m ? -(e.body.getBoundingClientRect().left - parseInt(getComputedStyle(e.body).marginLeft)) : e.defaultView.pageXOffset || (e.documentElement || e.body).scrollLeft
                    }

                    function Gr(e) {
                        return u && m ? -(e.body.getBoundingClientRect().top - parseInt(getComputedStyle(e.body).marginTop)) : e.defaultView.pageYOffset || (e.documentElement || e.body).scrollTop
                    }

                    function Vr(e) {
                        var t = jt(e).widgets,
                            r = 0;
                        if (t)
                            for (var n = 0; n < t.length; ++n) t[n].above && (r += Cr(t[n]));
                        return r
                    }

                    function qr(e, t, r, n, i) {
                        if (!i) {
                            var o = Vr(t);
                            r.top += o, r.bottom += o
                        }
                        if ("line" == n) return r;
                        n || (n = "local");
                        var a = qt(t);
                        if ("local" == n ? a += kr(e.display) : a -= e.display.viewOffset, "page" == n || "window" == n) {
                            var l = e.display.lineSpace.getBoundingClientRect();
                            a += l.top + ("window" == n ? 0 : Gr(_(e)));
                            var s = l.left + ("window" == n ? 0 : Ur(_(e)));
                            r.left += s, r.right += s
                        }
                        return r.top += a, r.bottom += a, r
                    }

                    function Kr(e, t, r) {
                        if ("div" == r) return t;
                        var n = t.left,
                            i = t.top;
                        if ("page" == r) n -= Ur(_(e)), i -= Gr(_(e));
                        else if ("local" == r || !r) {
                            var o = e.display.sizer.getBoundingClientRect();
                            n += o.left, i += o.top
                        }
                        var a = e.display.lineSpace.getBoundingClientRect();
                        return {
                            left: n - a.left,
                            top: i - a.top
                        }
                    }

                    function Xr(e, t, r, n, i) {
                        return n || (n = $e(e.doc, t.line)), qr(e, n, Pr(e, n, t.ch, i), r)
                    }

                    function $r(e, t, r, n, i, o) {
                        function a(t, a) {
                            var l = Rr(e, i, t, a ? "right" : "left", o);
                            return a ? l.left = l.right : l.right = l.left, qr(e, n, l, r)
                        }
                        n = n || $e(e.doc, t.line), i || (i = Dr(e, n));
                        var l = he(n, e.doc.direction),
                            s = t.ch,
                            c = t.sticky;
                        if (s >= n.text.length ? (s = n.text.length, c = "before") : s <= 0 && (s = 0, c = "after"), !l) return a("before" == c ? s - 1 : s, "before" == c);

                        function u(e, t, r) {
                            return a(r ? e - 1 : e, 1 == l[t].level != r)
                        }
                        var f = ue(l, s, c),
                            h = ce,
                            d = u(s, f, "before" == c);
                        return null != h && (d.other = u(s, h, "before" != c)), d
                    }

                    function Yr(e, t) {
                        var r = 0;
                        t = ut(e.doc, t), e.options.lineWrapping || (r = ln(e.display) * t.ch);
                        var n = $e(e.doc, t.line),
                            i = qt(n) + kr(e.display);
                        return {
                            left: r,
                            right: r,
                            top: i,
                            bottom: i + n.height
                        }
                    }

                    function Zr(e, t, r, n, i) {
                        var o = nt(e, t, r);
                        return o.xRel = i, n && (o.outside = n), o
                    }

                    function Jr(e, t, r) {
                        var n = e.doc;
                        if ((r += e.display.viewOffset) < 0) return Zr(n.first, 0, null, -1, -1);
                        var i = et(n, r),
                            o = n.first + n.size - 1;
                        if (i > o) return Zr(n.first + n.size - 1, $e(n, o).text.length, null, 1, 1);
                        t < 0 && (t = 0);
                        for (var a = $e(n, i);;) {
                            var l = rn(e, a, i, t, r),
                                s = Bt(a, l.ch + (l.xRel > 0 || l.outside > 0 ? 1 : 0));
                            if (!s) return l;
                            var c = s.find(1);
                            if (c.line == i) return c;
                            a = $e(n, i = c.line)
                        }
                    }

                    function Qr(e, t, r, n) {
                        n -= Vr(t);
                        var i = t.text.length,
                            o = se((function(t) {
                                return Rr(e, r, t - 1).bottom <= n
                            }), i, 0);
                        return {
                            begin: o,
                            end: i = se((function(t) {
                                return Rr(e, r, t).top > n
                            }), o, i)
                        }
                    }

                    function en(e, t, r, n) {
                        return r || (r = Dr(e, t)), Qr(e, t, r, qr(e, t, Rr(e, r, n), "line").top)
                    }

                    function tn(e, t, r, n) {
                        return !(e.bottom <= r) && (e.top > r || (n ? e.left : e.right) > t)
                    }

                    function rn(e, t, r, n, i) {
                        i -= qt(t);
                        var o = Dr(e, t),
                            a = Vr(t),
                            l = 0,
                            s = t.text.length,
                            c = !0,
                            u = he(t, e.doc.direction);
                        if (u) {
                            var f = (e.options.lineWrapping ? on : nn)(e, t, r, o, u, n, i);
                            l = (c = 1 != f.level) ? f.from : f.to - 1, s = c ? f.to : f.from - 1
                        }
                        var h, d, p = null,
                            g = null,
                            v = se((function(t) {
                                var r = Rr(e, o, t);
                                return r.top += a, r.bottom += a, !!tn(r, n, i, !1) && (r.top <= i && r.left <= n && (p = t, g = r), !0)
                            }), l, s),
                            m = !1;
                        if (g) {
                            var y = n - g.left < g.right - n,
                                b = y == c;
                            v = p + (b ? 0 : 1), d = b ? "after" : "before", h = y ? g.left : g.right
                        } else {
                            c || v != s && v != l || v++, d = 0 == v ? "after" : v == t.text.length ? "before" : Rr(e, o, v - (c ? 1 : 0)).bottom + a <= i == c ? "after" : "before";
                            var w = $r(e, nt(r, v, d), "line", t, o);
                            h = w.left, m = i < w.top ? -1 : i >= w.bottom ? 1 : 0
                        }
                        return Zr(r, v = le(t.text, v, 1), d, m, n - h)
                    }

                    function nn(e, t, r, n, i, o, a) {
                        var l = se((function(l) {
                                var s = i[l],
                                    c = 1 != s.level;
                                return tn($r(e, nt(r, c ? s.to : s.from, c ? "before" : "after"), "line", t, n), o, a, !0)
                            }), 0, i.length - 1),
                            s = i[l];
                        if (l > 0) {
                            var c = 1 != s.level,
                                u = $r(e, nt(r, c ? s.from : s.to, c ? "after" : "before"), "line", t, n);
                            tn(u, o, a, !0) && u.top > a && (s = i[l - 1])
                        }
                        return s
                    }

                    function on(e, t, r, n, i, o, a) {
                        var l = Qr(e, t, n, a),
                            s = l.begin,
                            c = l.end;
                        /\s/.test(t.text.charAt(c - 1)) && c--;
                        for (var u = null, f = null, h = 0; h < i.length; h++) {
                            var d = i[h];
                            if (!(d.from >= c || d.to <= s)) {
                                var p = Rr(e, n, 1 != d.level ? Math.min(c, d.to) - 1 : Math.max(s, d.from)).right,
                                    g = p < o ? o - p + 1e9 : p - o;
                                (!u || f > g) && (u = d, f = g)
                            }
                        }
                        return u || (u = i[i.length - 1]), u.from < s && (u = {
                            from: s,
                            to: u.to,
                            level: u.level
                        }), u.to > c && (u = {
                            from: u.from,
                            to: c,
                            level: u.level
                        }), u
                    }

                    function an(e) {
                        if (null != e.cachedTextHeight) return e.cachedTextHeight;
                        if (null == Ir) {
                            Ir = N("pre", null, "CodeMirror-line-like");
                            for (var t = 0; t < 49; ++t) Ir.appendChild(document.createTextNode("x")), Ir.appendChild(N("br"));
                            Ir.appendChild(document.createTextNode("x"))
                        }
                        O(e.measure, Ir);
                        var r = Ir.offsetHeight / 50;
                        return r > 3 && (e.cachedTextHeight = r), E(e.measure), r || 1
                    }

                    function ln(e) {
                        if (null != e.cachedCharWidth) return e.cachedCharWidth;
                        var t = N("span", "xxxxxxxxxx"),
                            r = N("pre", [t], "CodeMirror-line-like");
                        O(e.measure, r);
                        var n = t.getBoundingClientRect(),
                            i = (n.right - n.left) / 10;
                        return i > 2 && (e.cachedCharWidth = i), i || 10
                    }

                    function sn(e) {
                        for (var t = e.display, r = {}, n = {}, i = t.gutters.clientLeft, o = t.gutters.firstChild, a = 0; o; o = o.nextSibling, ++a) {
                            var l = e.display.gutterSpecs[a].className;
                            r[l] = o.offsetLeft + o.clientLeft + i, n[l] = o.clientWidth
                        }
                        return {
                            fixedPos: cn(t),
                            gutterTotalWidth: t.gutters.offsetWidth,
                            gutterLeft: r,
                            gutterWidth: n,
                            wrapperWidth: t.wrapper.clientWidth
                        }
                    }

                    function cn(e) {
                        return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left
                    }

                    function un(e) {
                        var t = an(e.display),
                            r = e.options.lineWrapping,
                            n = r && Math.max(5, e.display.scroller.clientWidth / ln(e.display) - 3);
                        return function(i) {
                            if (Gt(e.doc, i)) return 0;
                            var o = 0;
                            if (i.widgets)
                                for (var a = 0; a < i.widgets.length; a++) i.widgets[a].height && (o += i.widgets[a].height);
                            return r ? o + (Math.ceil(i.text.length / n) || 1) * t : o + t
                        }
                    }

                    function fn(e) {
                        var t = e.doc,
                            r = un(e);
                        t.iter((function(e) {
                            var t = r(e);
                            t != e.height && Je(e, t)
                        }))
                    }

                    function hn(e, t, r, n) {
                        var i = e.display;
                        if (!r && "true" == Le(t).getAttribute("cm-not-content")) return null;
                        var o, a, l = i.lineSpace.getBoundingClientRect();
                        try {
                            o = t.clientX - l.left, a = t.clientY - l.top
                        } catch (e) {
                            return null
                        }
                        var s, c = Jr(e, o, a);
                        if (n && c.xRel > 0 && (s = $e(e.doc, c.line).text).length == c.ch) {
                            var u = j(s, s.length, e.options.tabSize) - s.length;
                            c = nt(c.line, Math.max(0, Math.round((o - Tr(e.display).left) / ln(e.display)) - u))
                        }
                        return c
                    }

                    function dn(e, t) {
                        if (t >= e.display.viewTo) return null;
                        if ((t -= e.display.viewFrom) < 0) return null;
                        for (var r = e.display.view, n = 0; n < r.length; n++)
                            if ((t -= r[n].size) < 0) return n
                    }

                    function pn(e, t, r, n) {
                        null == t && (t = e.doc.first), null == r && (r = e.doc.first + e.doc.size), n || (n = 0);
                        var i = e.display;
                        if (n && r < i.viewTo && (null == i.updateLineNumbers || i.updateLineNumbers > t) && (i.updateLineNumbers = t), e.curOp.viewChanged = !0, t >= i.viewTo) kt && zt(e.doc, t) < i.viewTo && vn(e);
                        else if (r <= i.viewFrom) kt && Ut(e.doc, r + n) > i.viewFrom ? vn(e) : (i.viewFrom += n, i.viewTo += n);
                        else if (t <= i.viewFrom && r >= i.viewTo) vn(e);
                        else if (t <= i.viewFrom) {
                            var o = mn(e, r, r + n, 1);
                            o ? (i.view = i.view.slice(o.index), i.viewFrom = o.lineN, i.viewTo += n) : vn(e)
                        } else if (r >= i.viewTo) {
                            var a = mn(e, t, t, -1);
                            a ? (i.view = i.view.slice(0, a.index), i.viewTo = a.lineN) : vn(e)
                        } else {
                            var l = mn(e, t, t, -1),
                                s = mn(e, r, r + n, 1);
                            l && s ? (i.view = i.view.slice(0, l.index).concat(lr(e, l.lineN, s.lineN)).concat(i.view.slice(s.index)), i.viewTo += n) : vn(e)
                        }
                        var c = i.externalMeasured;
                        c && (r < c.lineN ? c.lineN += n : t < c.lineN + c.size && (i.externalMeasured = null))
                    }

                    function gn(e, t, r) {
                        e.curOp.viewChanged = !0;
                        var n = e.display,
                            i = e.display.externalMeasured;
                        if (i && t >= i.lineN && t < i.lineN + i.size && (n.externalMeasured = null), !(t < n.viewFrom || t >= n.viewTo)) {
                            var o = n.view[dn(e, t)];
                            if (null != o.node) {
                                var a = o.changes || (o.changes = []); - 1 == U(a, r) && a.push(r)
                            }
                        }
                    }

                    function vn(e) {
                        e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0
                    }

                    function mn(e, t, r, n) {
                        var i, o = dn(e, t),
                            a = e.display.view;
                        if (!kt || r == e.doc.first + e.doc.size) return {
                            index: o,
                            lineN: r
                        };
                        for (var l = e.display.viewFrom, s = 0; s < o; s++) l += a[s].size;
                        if (l != t) {
                            if (n > 0) {
                                if (o == a.length - 1) return null;
                                i = l + a[o].size - t, o++
                            } else i = l - t;
                            t += i, r += i
                        }
                        for (; zt(e.doc, r) != r;) {
                            if (o == (n < 0 ? 0 : a.length - 1)) return null;
                            r += n * a[o - (n < 0 ? 1 : 0)].size, o += n
                        }
                        return {
                            index: o,
                            lineN: r
                        }
                    }

                    function yn(e) {
                        for (var t = e.display.view, r = 0, n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.hidden || i.node && !i.changes || ++r
                        }
                        return r
                    }

                    function bn(e) {
                        e.display.input.showSelection(e.display.input.prepareSelection())
                    }

                    function wn(e, t) {
                        void 0 === t && (t = !0);
                        var r = e.doc,
                            n = {},
                            i = n.cursors = document.createDocumentFragment(),
                            o = n.selection = document.createDocumentFragment(),
                            a = e.options.$customCursor;
                        a && (t = !0);
                        for (var l = 0; l < r.sel.ranges.length; l++)
                            if (t || l != r.sel.primIndex) {
                                var s = r.sel.ranges[l];
                                if (!(s.from().line >= e.display.viewTo || s.to().line < e.display.viewFrom)) {
                                    var c = s.empty();
                                    if (a) {
                                        var u = a(e, s);
                                        u && Sn(e, u, i)
                                    } else(c || e.options.showCursorWhenSelecting) && Sn(e, s.head, i);
                                    c || Cn(e, s, o)
                                }
                            } return n
                    }

                    function Sn(e, t, r) {
                        var n = $r(e, t, "div", null, null, !e.options.singleCursorHeightPerLine),
                            i = r.appendChild(N("div", " ", "CodeMirror-cursor"));
                        if (i.style.left = n.left + "px", i.style.top = n.top + "px", i.style.height = Math.max(0, n.bottom - n.top) * e.options.cursorHeight + "px", /\bcm-fat-cursor\b/.test(e.getWrapperElement().className)) {
                            var o = Xr(e, t, "div", null, null),
                                a = o.right - o.left;
                            i.style.width = (a > 0 ? a : e.defaultCharWidth()) + "px"
                        }
                        if (n.other) {
                            var l = r.appendChild(N("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"));
                            l.style.display = "", l.style.left = n.other.left + "px", l.style.top = n.other.top + "px", l.style.height = .85 * (n.other.bottom - n.other.top) + "px"
                        }
                    }

                    function xn(e, t) {
                        return e.top - t.top || e.left - t.left
                    }

                    function Cn(e, t, r) {
                        var n = e.display,
                            i = e.doc,
                            o = document.createDocumentFragment(),
                            a = Tr(e.display),
                            l = a.left,
                            s = Math.max(n.sizerWidth, Or(e) - n.sizer.offsetLeft) - a.right,
                            c = "ltr" == i.direction;

                        function u(e, t, r, n) {
                            t < 0 && (t = 0), t = Math.round(t), n = Math.round(n), o.appendChild(N("div", null, "CodeMirror-selected", "position: absolute; left: " + e + "px;\n                             top: " + t + "px; width: " + (null == r ? s - e : r) + "px;\n                             height: " + (n - t) + "px"))
                        }

                        function f(t, r, n) {
                            var o, a, f = $e(i, t),
                                h = f.text.length;

                            function d(r, n) {
                                return Xr(e, nt(t, r), "div", f, n)
                            }

                            function p(t, r, n) {
                                var i = en(e, f, null, t),
                                    o = "ltr" == r == ("after" == n) ? "left" : "right";
                                return d("after" == n ? i.begin : i.end - (/\s/.test(f.text.charAt(i.end - 1)) ? 2 : 1), o)[o]
                            }
                            var g = he(f, i.direction);
                            return function(e, t, r, n) {
                                if (!e) return n(t, r, "ltr", 0);
                                for (var i = !1, o = 0; o < e.length; ++o) {
                                    var a = e[o];
                                    (a.from < r && a.to > t || t == r && a.to == t) && (n(Math.max(a.from, t), Math.min(a.to, r), 1 == a.level ? "rtl" : "ltr", o), i = !0)
                                }
                                i || n(t, r, "ltr")
                            }(g, r || 0, null == n ? h : n, (function(e, t, i, f) {
                                var v = "ltr" == i,
                                    m = d(e, v ? "left" : "right"),
                                    y = d(t - 1, v ? "right" : "left"),
                                    b = null == r && 0 == e,
                                    w = null == n && t == h,
                                    S = 0 == f,
                                    x = !g || f == g.length - 1;
                                if (y.top - m.top <= 3) {
                                    var C = (c ? w : b) && x,
                                        A = (c ? b : w) && S ? l : (v ? m : y).left,
                                        k = C ? s : (v ? y : m).right;
                                    u(A, m.top, k - A, m.bottom)
                                } else {
                                    var L, T, E, O;
                                    v ? (L = c && b && S ? l : m.left, T = c ? s : p(e, i, "before"), E = c ? l : p(t, i, "after"), O = c && w && x ? s : y.right) : (L = c ? p(e, i, "before") : l, T = !c && b && S ? s : m.right, E = !c && w && x ? l : y.left, O = c ? p(t, i, "after") : s), u(L, m.top, T - L, m.bottom), m.bottom < y.top && u(l, m.bottom, null, y.top), u(E, y.top, O - E, y.bottom)
                                }(!o || xn(m, o) < 0) && (o = m), xn(y, o) < 0 && (o = y), (!a || xn(m, a) < 0) && (a = m), xn(y, a) < 0 && (a = y)
                            })), {
                                start: o,
                                end: a
                            }
                        }
                        var h = t.from(),
                            d = t.to();
                        if (h.line == d.line) f(h.line, h.ch, d.ch);
                        else {
                            var p = $e(i, h.line),
                                g = $e(i, d.line),
                                v = jt(p) == jt(g),
                                m = f(h.line, h.ch, v ? p.text.length + 1 : null).end,
                                y = f(d.line, v ? 0 : null, d.ch).start;
                            v && (m.top < y.top - 2 ? (u(m.right, m.top, null, m.bottom), u(l, y.top, y.left, y.bottom)) : u(m.right, m.top, y.left - m.right, m.bottom)), m.bottom < y.top && u(l, m.bottom, null, y.top)
                        }
                        r.appendChild(o)
                    }

                    function An(e) {
                        if (e.state.focused) {
                            var t = e.display;
                            clearInterval(t.blinker);
                            var r = !0;
                            t.cursorDiv.style.visibility = "", e.options.cursorBlinkRate > 0 ? t.blinker = setInterval((function() {
                                e.hasFocus() || En(e), t.cursorDiv.style.visibility = (r = !r) ? "" : "hidden"
                            }), e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (t.cursorDiv.style.visibility = "hidden")
                        }
                    }

                    function kn(e) {
                        e.hasFocus() || (e.display.input.focus(), e.state.focused || Tn(e))
                    }

                    function Ln(e) {
                        e.state.delayingBlurEvent = !0, setTimeout((function() {
                            e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1, e.state.focused && En(e))
                        }), 100)
                    }

                    function Tn(e, t) {
                        e.state.delayingBlurEvent && !e.state.draggingText && (e.state.delayingBlurEvent = !1), "nocursor" != e.options.readOnly && (e.state.focused || (me(e, "focus", e, t), e.state.focused = !0, D(e.display.wrapper, "CodeMirror-focused"), e.curOp || e.display.selForContextMenu == e.doc.sel || (e.display.input.reset(), s && setTimeout((function() {
                            return e.display.input.reset(!0)
                        }), 20)), e.display.input.receivedFocus()), An(e))
                    }

                    function En(e, t) {
                        e.state.delayingBlurEvent || (e.state.focused && (me(e, "blur", e, t), e.state.focused = !1, T(e.display.wrapper, "CodeMirror-focused")), clearInterval(e.display.blinker), setTimeout((function() {
                            e.state.focused || (e.display.shift = !1)
                        }), 150))
                    }

                    function On(e) {
                        for (var t = e.display, r = t.lineDiv.offsetTop, n = Math.max(0, t.scroller.getBoundingClientRect().top), i = t.lineDiv.getBoundingClientRect().top, o = 0, s = 0; s < t.view.length; s++) {
                            var c = t.view[s],
                                u = e.options.lineWrapping,
                                f = void 0,
                                h = 0;
                            if (!c.hidden) {
                                if (i += c.line.height, a && l < 8) {
                                    var d = c.node.offsetTop + c.node.offsetHeight;
                                    f = d - r, r = d
                                } else {
                                    var p = c.node.getBoundingClientRect();
                                    f = p.bottom - p.top, !u && c.text.firstChild && (h = c.text.firstChild.getBoundingClientRect().right - p.left - 1)
                                }
                                var g = c.line.height - f;
                                if ((g > .005 || g < -.005) && (i < n && (o -= g), Je(c.line, f), Nn(c.line), c.rest))
                                    for (var v = 0; v < c.rest.length; v++) Nn(c.rest[v]);
                                if (h > e.display.sizerWidth) {
                                    var m = Math.ceil(h / ln(e.display));
                                    m > e.display.maxLineLength && (e.display.maxLineLength = m, e.display.maxLine = c.line, e.display.maxLineChanged = !0)
                                }
                            }
                        }
                        Math.abs(o) > 2 && (t.scroller.scrollTop += o)
                    }

                    function Nn(e) {
                        if (e.widgets)
                            for (var t = 0; t < e.widgets.length; ++t) {
                                var r = e.widgets[t],
                                    n = r.node.parentNode;
                                n && (r.height = n.offsetHeight)
                            }
                    }

                    function Mn(e, t, r) {
                        var n = r && null != r.top ? Math.max(0, r.top) : e.scroller.scrollTop;
                        n = Math.floor(n - kr(e));
                        var i = r && null != r.bottom ? r.bottom : n + e.wrapper.clientHeight,
                            o = et(t, n),
                            a = et(t, i);
                        if (r && r.ensure) {
                            var l = r.ensure.from.line,
                                s = r.ensure.to.line;
                            l < o ? (o = l, a = et(t, qt($e(t, l)) + e.wrapper.clientHeight)) : Math.min(s, t.lastLine()) >= a && (o = et(t, qt($e(t, s)) - e.wrapper.clientHeight), a = s)
                        }
                        return {
                            from: o,
                            to: Math.max(a, o + 1)
                        }
                    }

                    function Pn(e, t) {
                        var r = e.display,
                            n = an(e.display);
                        t.top < 0 && (t.top = 0);
                        var i = e.curOp && null != e.curOp.scrollTop ? e.curOp.scrollTop : r.scroller.scrollTop,
                            o = Nr(e),
                            a = {};
                        t.bottom - t.top > o && (t.bottom = t.top + o);
                        var l = e.doc.height + Lr(r),
                            s = t.top < n,
                            c = t.bottom > l - n;
                        if (t.top < i) a.scrollTop = s ? 0 : t.top;
                        else if (t.bottom > i + o) {
                            var u = Math.min(t.top, (c ? l : t.bottom) - o);
                            u != i && (a.scrollTop = u)
                        }
                        var f = e.options.fixedGutter ? 0 : r.gutters.offsetWidth,
                            h = e.curOp && null != e.curOp.scrollLeft ? e.curOp.scrollLeft : r.scroller.scrollLeft - f,
                            d = Or(e) - r.gutters.offsetWidth,
                            p = t.right - t.left > d;
                        return p && (t.right = t.left + d), t.left < 10 ? a.scrollLeft = 0 : t.left < h ? a.scrollLeft = Math.max(0, t.left + f - (p ? 0 : 10)) : t.right > d + h - 3 && (a.scrollLeft = t.right + (p ? 0 : 10) - d), a
                    }

                    function Wn(e, t) {
                        null != t && (In(e), e.curOp.scrollTop = (null == e.curOp.scrollTop ? e.doc.scrollTop : e.curOp.scrollTop) + t)
                    }

                    function Dn(e) {
                        In(e);
                        var t = e.getCursor();
                        e.curOp.scrollToPos = {
                            from: t,
                            to: t,
                            margin: e.options.cursorScrollMargin
                        }
                    }

                    function Rn(e, t, r) {
                        null == t && null == r || In(e), null != t && (e.curOp.scrollLeft = t), null != r && (e.curOp.scrollTop = r)
                    }

                    function In(e) {
                        var t = e.curOp.scrollToPos;
                        t && (e.curOp.scrollToPos = null, _n(e, Yr(e, t.from), Yr(e, t.to), t.margin))
                    }

                    function _n(e, t, r, n) {
                        var i = Pn(e, {
                            left: Math.min(t.left, r.left),
                            top: Math.min(t.top, r.top) - n,
                            right: Math.max(t.right, r.right),
                            bottom: Math.max(t.bottom, r.bottom) + n
                        });
                        Rn(e, i.scrollLeft, i.scrollTop)
                    }

                    function Fn(e, t) {
                        Math.abs(e.doc.scrollTop - t) < 2 || (r || hi(e, {
                            top: t
                        }), Bn(e, t, !0), r && hi(e), ai(e, 100))
                    }

                    function Bn(e, t, r) {
                        t = Math.max(0, Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, t)), (e.display.scroller.scrollTop != t || r) && (e.doc.scrollTop = t, e.display.scrollbars.setScrollTop(t), e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t))
                    }

                    function Hn(e, t, r, n) {
                        t = Math.max(0, Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth)), (r ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) && !n || (e.doc.scrollLeft = t, gi(e), e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t), e.display.scrollbars.setScrollLeft(t))
                    }

                    function jn(e) {
                        var t = e.display,
                            r = t.gutters.offsetWidth,
                            n = Math.round(e.doc.height + Lr(e.display));
                        return {
                            clientHeight: t.scroller.clientHeight,
                            viewHeight: t.wrapper.clientHeight,
                            scrollWidth: t.scroller.scrollWidth,
                            clientWidth: t.scroller.clientWidth,
                            viewWidth: t.wrapper.clientWidth,
                            barLeft: e.options.fixedGutter ? r : 0,
                            docHeight: n,
                            scrollHeight: n + Er(e) + t.barHeight,
                            nativeBarWidth: t.nativeBarWidth,
                            gutterWidth: r
                        }
                    }
                    var zn = function(e, t, r) {
                        this.cm = r;
                        var n = this.vert = N("div", [N("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"),
                            i = this.horiz = N("div", [N("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
                        n.tabIndex = i.tabIndex = -1, e(n), e(i), pe(n, "scroll", (function() {
                            n.clientHeight && t(n.scrollTop, "vertical")
                        })), pe(i, "scroll", (function() {
                            i.clientWidth && t(i.scrollLeft, "horizontal")
                        })), this.checkedZeroWidth = !1, a && l < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px")
                    };
                    zn.prototype.update = function(e) {
                        var t = e.scrollWidth > e.clientWidth + 1,
                            r = e.scrollHeight > e.clientHeight + 1,
                            n = e.nativeBarWidth;
                        if (r) {
                            this.vert.style.display = "block", this.vert.style.bottom = t ? n + "px" : "0";
                            var i = e.viewHeight - (t ? n : 0);
                            this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + i) + "px"
                        } else this.vert.scrollTop = 0, this.vert.style.display = "", this.vert.firstChild.style.height = "0";
                        if (t) {
                            this.horiz.style.display = "block", this.horiz.style.right = r ? n + "px" : "0", this.horiz.style.left = e.barLeft + "px";
                            var o = e.viewWidth - e.barLeft - (r ? n : 0);
                            this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + o) + "px"
                        } else this.horiz.style.display = "", this.horiz.firstChild.style.width = "0";
                        return !this.checkedZeroWidth && e.clientHeight > 0 && (0 == n && this.zeroWidthHack(), this.checkedZeroWidth = !0), {
                            right: r ? n : 0,
                            bottom: t ? n : 0
                        }
                    }, zn.prototype.setScrollLeft = function(e) {
                        this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz")
                    }, zn.prototype.setScrollTop = function(e) {
                        this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert")
                    }, zn.prototype.zeroWidthHack = function() {
                        var e = b && !p ? "12px" : "18px";
                        this.horiz.style.height = this.vert.style.width = e, this.horiz.style.visibility = this.vert.style.visibility = "hidden", this.disableHoriz = new z, this.disableVert = new z
                    }, zn.prototype.enableZeroWidthBar = function(e, t, r) {
                        e.style.visibility = "", t.set(1e3, (function n() {
                            var i = e.getBoundingClientRect();
                            ("vert" == r ? document.elementFromPoint(i.right - 1, (i.top + i.bottom) / 2) : document.elementFromPoint((i.right + i.left) / 2, i.bottom - 1)) != e ? e.style.visibility = "hidden" : t.set(1e3, n)
                        }))
                    }, zn.prototype.clear = function() {
                        var e = this.horiz.parentNode;
                        e.removeChild(this.horiz), e.removeChild(this.vert)
                    };
                    var Un = function() {};

                    function Gn(e, t) {
                        t || (t = jn(e));
                        var r = e.display.barWidth,
                            n = e.display.barHeight;
                        Vn(e, t);
                        for (var i = 0; i < 4 && r != e.display.barWidth || n != e.display.barHeight; i++) r != e.display.barWidth && e.options.lineWrapping && On(e), Vn(e, jn(e)), r = e.display.barWidth, n = e.display.barHeight
                    }

                    function Vn(e, t) {
                        var r = e.display,
                            n = r.scrollbars.update(t);
                        r.sizer.style.paddingRight = (r.barWidth = n.right) + "px", r.sizer.style.paddingBottom = (r.barHeight = n.bottom) + "px", r.heightForcer.style.borderBottom = n.bottom + "px solid transparent", n.right && n.bottom ? (r.scrollbarFiller.style.display = "block", r.scrollbarFiller.style.height = n.bottom + "px", r.scrollbarFiller.style.width = n.right + "px") : r.scrollbarFiller.style.display = "", n.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (r.gutterFiller.style.display = "block", r.gutterFiller.style.height = n.bottom + "px", r.gutterFiller.style.width = t.gutterWidth + "px") : r.gutterFiller.style.display = ""
                    }
                    Un.prototype.update = function() {
                        return {
                            bottom: 0,
                            right: 0
                        }
                    }, Un.prototype.setScrollLeft = function() {}, Un.prototype.setScrollTop = function() {}, Un.prototype.clear = function() {};
                    var qn = {
                        native: zn,
                        null: Un
                    };

                    function Kn(e) {
                        e.display.scrollbars && (e.display.scrollbars.clear(), e.display.scrollbars.addClass && T(e.display.wrapper, e.display.scrollbars.addClass)), e.display.scrollbars = new qn[e.options.scrollbarStyle]((function(t) {
                            e.display.wrapper.insertBefore(t, e.display.scrollbarFiller), pe(t, "mousedown", (function() {
                                e.state.focused && setTimeout((function() {
                                    return e.display.input.focus()
                                }), 0)
                            })), t.setAttribute("cm-not-content", "true")
                        }), (function(t, r) {
                            "horizontal" == r ? Hn(e, t) : Fn(e, t)
                        }), e), e.display.scrollbars.addClass && D(e.display.wrapper, e.display.scrollbars.addClass)
                    }
                    var Xn = 0;

                    function $n(e) {
                        var t;
                        e.curOp = {
                            cm: e,
                            viewChanged: !1,
                            startHeight: e.doc.height,
                            forceUpdate: !1,
                            updateInput: 0,
                            typing: !1,
                            changeObjs: null,
                            cursorActivityHandlers: null,
                            cursorActivityCalled: 0,
                            selectionChanged: !1,
                            updateMaxLine: !1,
                            scrollLeft: null,
                            scrollTop: null,
                            scrollToPos: null,
                            focus: !1,
                            id: ++Xn,
                            markArrays: null
                        }, t = e.curOp, sr ? sr.ops.push(t) : t.ownsGroup = sr = {
                            ops: [t],
                            delayedCallbacks: []
                        }
                    }

                    function Yn(e) {
                        var t = e.curOp;
                        t && function(e, t) {
                            var r = e.ownsGroup;
                            if (r) try {
                                ! function(e) {
                                    var t = e.delayedCallbacks,
                                        r = 0;
                                    do {
                                        for (; r < t.length; r++) t[r].call(null);
                                        for (var n = 0; n < e.ops.length; n++) {
                                            var i = e.ops[n];
                                            if (i.cursorActivityHandlers)
                                                for (; i.cursorActivityCalled < i.cursorActivityHandlers.length;) i.cursorActivityHandlers[i.cursorActivityCalled++].call(null, i.cm)
                                        }
                                    } while (r < t.length)
                                }(r)
                            } finally {
                                sr = null, t(r)
                            }
                        }(t, (function(e) {
                            for (var t = 0; t < e.ops.length; t++) e.ops[t].cm.curOp = null;
                            ! function(e) {
                                for (var t = e.ops, r = 0; r < t.length; r++) Zn(t[r]);
                                for (var n = 0; n < t.length; n++) Jn(t[n]);
                                for (var i = 0; i < t.length; i++) Qn(t[i]);
                                for (var o = 0; o < t.length; o++) ei(t[o]);
                                for (var a = 0; a < t.length; a++) ti(t[a])
                            }(e)
                        }))
                    }

                    function Zn(e) {
                        var t = e.cm,
                            r = t.display;
                        (function(e) {
                            var t = e.display;
                            !t.scrollbarsClipped && t.scroller.offsetWidth && (t.nativeBarWidth = t.scroller.offsetWidth - t.scroller.clientWidth, t.heightForcer.style.height = Er(e) + "px", t.sizer.style.marginBottom = -t.nativeBarWidth + "px", t.sizer.style.borderRightWidth = Er(e) + "px", t.scrollbarsClipped = !0)
                        })(t), e.updateMaxLine && Xt(t), e.mustUpdate = e.viewChanged || e.forceUpdate || null != e.scrollTop || e.scrollToPos && (e.scrollToPos.from.line < r.viewFrom || e.scrollToPos.to.line >= r.viewTo) || r.maxLineChanged && t.options.lineWrapping, e.update = e.mustUpdate && new si(t, e.mustUpdate && {
                            top: e.scrollTop,
                            ensure: e.scrollToPos
                        }, e.forceUpdate)
                    }

                    function Jn(e) {
                        e.updatedDisplay = e.mustUpdate && ui(e.cm, e.update)
                    }

                    function Qn(e) {
                        var t = e.cm,
                            r = t.display;
                        e.updatedDisplay && On(t), e.barMeasure = jn(t), r.maxLineChanged && !t.options.lineWrapping && (e.adjustWidthTo = Pr(t, r.maxLine, r.maxLine.text.length).left + 3, t.display.sizerWidth = e.adjustWidthTo, e.barMeasure.scrollWidth = Math.max(r.scroller.clientWidth, r.sizer.offsetLeft + e.adjustWidthTo + Er(t) + t.display.barWidth), e.maxScrollLeft = Math.max(0, r.sizer.offsetLeft + e.adjustWidthTo - Or(t))), (e.updatedDisplay || e.selectionChanged) && (e.preparedSelection = r.input.prepareSelection())
                    }

                    function ei(e) {
                        var t = e.cm;
                        null != e.adjustWidthTo && (t.display.sizer.style.minWidth = e.adjustWidthTo + "px", e.maxScrollLeft < t.doc.scrollLeft && Hn(t, Math.min(t.display.scroller.scrollLeft, e.maxScrollLeft), !0), t.display.maxLineChanged = !1);
                        var r = e.focus && e.focus == W(_(t));
                        e.preparedSelection && t.display.input.showSelection(e.preparedSelection, r), (e.updatedDisplay || e.startHeight != t.doc.height) && Gn(t, e.barMeasure), e.updatedDisplay && pi(t, e.barMeasure), e.selectionChanged && An(t), t.state.focused && e.updateInput && t.display.input.reset(e.typing), r && kn(e.cm)
                    }

                    function ti(e) {
                        var t = e.cm,
                            r = t.display,
                            n = t.doc;
                        e.updatedDisplay && fi(t, e.update), null == r.wheelStartX || null == e.scrollTop && null == e.scrollLeft && !e.scrollToPos || (r.wheelStartX = r.wheelStartY = null), null != e.scrollTop && Bn(t, e.scrollTop, e.forceScroll), null != e.scrollLeft && Hn(t, e.scrollLeft, !0, !0), e.scrollToPos && function(e, t) {
                            if (!ye(e, "scrollCursorIntoView")) {
                                var r = e.display,
                                    n = r.sizer.getBoundingClientRect(),
                                    i = null,
                                    o = r.wrapper.ownerDocument;
                                if (t.top + n.top < 0 ? i = !0 : t.bottom + n.top > (o.defaultView.innerHeight || o.documentElement.clientHeight) && (i = !1), null != i && !g) {
                                    var a = N("div", "​", null, "position: absolute;\n                         top: " + (t.top - r.viewOffset - kr(e.display)) + "px;\n                         height: " + (t.bottom - t.top + Er(e) + r.barHeight) + "px;\n                         left: " + t.left + "px; width: " + Math.max(2, t.right - t.left) + "px;");
                                    e.display.lineSpace.appendChild(a), a.scrollIntoView(i), e.display.lineSpace.removeChild(a)
                                }
                            }
                        }(t, function(e, t, r, n) {
                            var i;
                            null == n && (n = 0), e.options.lineWrapping || t != r || (r = "before" == t.sticky ? nt(t.line, t.ch + 1, "before") : t, t = t.ch ? nt(t.line, "before" == t.sticky ? t.ch - 1 : t.ch, "after") : t);
                            for (var o = 0; o < 5; o++) {
                                var a = !1,
                                    l = $r(e, t),
                                    s = r && r != t ? $r(e, r) : l,
                                    c = Pn(e, i = {
                                        left: Math.min(l.left, s.left),
                                        top: Math.min(l.top, s.top) - n,
                                        right: Math.max(l.left, s.left),
                                        bottom: Math.max(l.bottom, s.bottom) + n
                                    }),
                                    u = e.doc.scrollTop,
                                    f = e.doc.scrollLeft;
                                if (null != c.scrollTop && (Fn(e, c.scrollTop), Math.abs(e.doc.scrollTop - u) > 1 && (a = !0)), null != c.scrollLeft && (Hn(e, c.scrollLeft), Math.abs(e.doc.scrollLeft - f) > 1 && (a = !0)), !a) break
                            }
                            return i
                        }(t, ut(n, e.scrollToPos.from), ut(n, e.scrollToPos.to), e.scrollToPos.margin));
                        var i = e.maybeHiddenMarkers,
                            o = e.maybeUnhiddenMarkers;
                        if (i)
                            for (var a = 0; a < i.length; ++a) i[a].lines.length || me(i[a], "hide");
                        if (o)
                            for (var l = 0; l < o.length; ++l) o[l].lines.length && me(o[l], "unhide");
                        r.wrapper.offsetHeight && (n.scrollTop = t.display.scroller.scrollTop), e.changeObjs && me(t, "changes", t, e.changeObjs), e.update && e.update.finish()
                    }

                    function ri(e, t) {
                        if (e.curOp) return t();
                        $n(e);
                        try {
                            return t()
                        } finally {
                            Yn(e)
                        }
                    }

                    function ni(e, t) {
                        return function() {
                            if (e.curOp) return t.apply(e, arguments);
                            $n(e);
                            try {
                                return t.apply(e, arguments)
                            } finally {
                                Yn(e)
                            }
                        }
                    }

                    function ii(e) {
                        return function() {
                            if (this.curOp) return e.apply(this, arguments);
                            $n(this);
                            try {
                                return e.apply(this, arguments)
                            } finally {
                                Yn(this)
                            }
                        }
                    }

                    function oi(e) {
                        return function() {
                            var t = this.cm;
                            if (!t || t.curOp) return e.apply(this, arguments);
                            $n(t);
                            try {
                                return e.apply(this, arguments)
                            } finally {
                                Yn(t)
                            }
                        }
                    }

                    function ai(e, t) {
                        e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(t, B(li, e))
                    }

                    function li(e) {
                        var t = e.doc;
                        if (!(t.highlightFrontier >= e.display.viewTo)) {
                            var r = +new Date + e.options.workTime,
                                n = vt(e, t.highlightFrontier),
                                i = [];
                            t.iter(n.line, Math.min(t.first + t.size, e.display.viewTo + 500), (function(o) {
                                if (n.line >= e.display.viewFrom) {
                                    var a = o.styles,
                                        l = o.text.length > e.options.maxHighlightLength ? Ve(t.mode, n.state) : null,
                                        s = pt(e, o, n, !0);
                                    l && (n.state = l), o.styles = s.styles;
                                    var c = o.styleClasses,
                                        u = s.classes;
                                    u ? o.styleClasses = u : c && (o.styleClasses = null);
                                    for (var f = !a || a.length != o.styles.length || c != u && (!c || !u || c.bgClass != u.bgClass || c.textClass != u.textClass), h = 0; !f && h < a.length; ++h) f = a[h] != o.styles[h];
                                    f && i.push(n.line), o.stateAfter = n.save(), n.nextLine()
                                } else o.text.length <= e.options.maxHighlightLength && mt(e, o.text, n), o.stateAfter = n.line % 5 == 0 ? n.save() : null, n.nextLine();
                                if (+new Date > r) return ai(e, e.options.workDelay), !0
                            })), t.highlightFrontier = n.line, t.modeFrontier = Math.max(t.modeFrontier, n.line), i.length && ri(e, (function() {
                                for (var t = 0; t < i.length; t++) gn(e, i[t], "text")
                            }))
                        }
                    }
                    var si = function(e, t, r) {
                        var n = e.display;
                        this.viewport = t, this.visible = Mn(n, e.doc, t), this.editorIsHidden = !n.wrapper.offsetWidth, this.wrapperHeight = n.wrapper.clientHeight, this.wrapperWidth = n.wrapper.clientWidth, this.oldDisplayWidth = Or(e), this.force = r, this.dims = sn(e), this.events = []
                    };

                    function ci(e) {
                        if (e.hasFocus()) return null;
                        var t = W(_(e));
                        if (!t || !P(e.display.lineDiv, t)) return null;
                        var r = {
                            activeElt: t
                        };
                        if (window.getSelection) {
                            var n = F(e).getSelection();
                            n.anchorNode && n.extend && P(e.display.lineDiv, n.anchorNode) && (r.anchorNode = n.anchorNode, r.anchorOffset = n.anchorOffset, r.focusNode = n.focusNode, r.focusOffset = n.focusOffset)
                        }
                        return r
                    }

                    function ui(e, t) {
                        var r = e.display,
                            n = e.doc;
                        if (t.editorIsHidden) return vn(e), !1;
                        if (!t.force && t.visible.from >= r.viewFrom && t.visible.to <= r.viewTo && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo) && r.renderedView == r.view && 0 == yn(e)) return !1;
                        vi(e) && (vn(e), t.dims = sn(e));
                        var i = n.first + n.size,
                            o = Math.max(t.visible.from - e.options.viewportMargin, n.first),
                            a = Math.min(i, t.visible.to + e.options.viewportMargin);
                        r.viewFrom < o && o - r.viewFrom < 20 && (o = Math.max(n.first, r.viewFrom)), r.viewTo > a && r.viewTo - a < 20 && (a = Math.min(i, r.viewTo)), kt && (o = zt(e.doc, o), a = Ut(e.doc, a));
                        var l = o != r.viewFrom || a != r.viewTo || r.lastWrapHeight != t.wrapperHeight || r.lastWrapWidth != t.wrapperWidth;
                        (function(e, t, r) {
                            var n = e.display;
                            0 == n.view.length || t >= n.viewTo || r <= n.viewFrom ? (n.view = lr(e, t, r), n.viewFrom = t) : (n.viewFrom > t ? n.view = lr(e, t, n.viewFrom).concat(n.view) : n.viewFrom < t && (n.view = n.view.slice(dn(e, t))), n.viewFrom = t, n.viewTo < r ? n.view = n.view.concat(lr(e, n.viewTo, r)) : n.viewTo > r && (n.view = n.view.slice(0, dn(e, r)))), n.viewTo = r
                        })(e, o, a), r.viewOffset = qt($e(e.doc, r.viewFrom)), e.display.mover.style.top = r.viewOffset + "px";
                        var c = yn(e);
                        if (!l && 0 == c && !t.force && r.renderedView == r.view && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo)) return !1;
                        var u = ci(e);
                        return c > 4 && (r.lineDiv.style.display = "none"),
                            function(e, t, r) {
                                var n = e.display,
                                    i = e.options.lineNumbers,
                                    o = n.lineDiv,
                                    a = o.firstChild;

                                function l(t) {
                                    var r = t.nextSibling;
                                    return s && b && e.display.currentWheelTarget == t ? t.style.display = "none" : t.parentNode.removeChild(t), r
                                }
                                for (var c = n.view, u = n.viewFrom, f = 0; f < c.length; f++) {
                                    var h = c[f];
                                    if (h.hidden);
                                    else if (h.node && h.node.parentNode == o) {
                                        for (; a != h.node;) a = l(a);
                                        var d = i && null != t && t <= u && h.lineNumber;
                                        h.changes && (U(h.changes, "gutter") > -1 && (d = !1), hr(e, h, u, r)), d && (E(h.lineNumber), h.lineNumber.appendChild(document.createTextNode(rt(e.options, u)))), a = h.node.nextSibling
                                    } else {
                                        var p = br(e, h, u, r);
                                        o.insertBefore(p, a)
                                    }
                                    u += h.size
                                }
                                for (; a;) a = l(a)
                            }(e, r.updateLineNumbers, t.dims), c > 4 && (r.lineDiv.style.display = ""), r.renderedView = r.view,
                            function(e) {
                                if (e && e.activeElt && e.activeElt != W(e.activeElt.ownerDocument) && (e.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName) && e.anchorNode && P(document.body, e.anchorNode) && P(document.body, e.focusNode))) {
                                    var t = e.activeElt.ownerDocument,
                                        r = t.defaultView.getSelection(),
                                        n = t.createRange();
                                    n.setEnd(e.anchorNode, e.anchorOffset), n.collapse(!1), r.removeAllRanges(), r.addRange(n), r.extend(e.focusNode, e.focusOffset)
                                }
                            }(u), E(r.cursorDiv), E(r.selectionDiv), r.gutters.style.height = r.sizer.style.minHeight = 0, l && (r.lastWrapHeight = t.wrapperHeight, r.lastWrapWidth = t.wrapperWidth, ai(e, 400)), r.updateLineNumbers = null, !0
                    }

                    function fi(e, t) {
                        for (var r = t.viewport, n = !0;; n = !1) {
                            if (n && e.options.lineWrapping && t.oldDisplayWidth != Or(e)) n && (t.visible = Mn(e.display, e.doc, r));
                            else if (r && null != r.top && (r = {
                                    top: Math.min(e.doc.height + Lr(e.display) - Nr(e), r.top)
                                }), t.visible = Mn(e.display, e.doc, r), t.visible.from >= e.display.viewFrom && t.visible.to <= e.display.viewTo) break;
                            if (!ui(e, t)) break;
                            On(e);
                            var i = jn(e);
                            bn(e), Gn(e, i), pi(e, i), t.force = !1
                        }
                        t.signal(e, "update", e), e.display.viewFrom == e.display.reportedViewFrom && e.display.viewTo == e.display.reportedViewTo || (t.signal(e, "viewportChange", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo)
                    }

                    function hi(e, t) {
                        var r = new si(e, t);
                        if (ui(e, r)) {
                            On(e), fi(e, r);
                            var n = jn(e);
                            bn(e), Gn(e, n), pi(e, n), r.finish()
                        }
                    }

                    function di(e) {
                        var t = e.gutters.offsetWidth;
                        e.sizer.style.marginLeft = t + "px", ur(e, "gutterChanged", e)
                    }

                    function pi(e, t) {
                        e.display.sizer.style.minHeight = t.docHeight + "px", e.display.heightForcer.style.top = t.docHeight + "px", e.display.gutters.style.height = t.docHeight + e.display.barHeight + Er(e) + "px"
                    }

                    function gi(e) {
                        var t = e.display,
                            r = t.view;
                        if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) {
                            for (var n = cn(t) - t.scroller.scrollLeft + e.doc.scrollLeft, i = t.gutters.offsetWidth, o = n + "px", a = 0; a < r.length; a++)
                                if (!r[a].hidden) {
                                    e.options.fixedGutter && (r[a].gutter && (r[a].gutter.style.left = o), r[a].gutterBackground && (r[a].gutterBackground.style.left = o));
                                    var l = r[a].alignable;
                                    if (l)
                                        for (var s = 0; s < l.length; s++) l[s].style.left = o
                                } e.options.fixedGutter && (t.gutters.style.left = n + i + "px")
                        }
                    }

                    function vi(e) {
                        if (!e.options.lineNumbers) return !1;
                        var t = e.doc,
                            r = rt(e.options, t.first + t.size - 1),
                            n = e.display;
                        if (r.length != n.lineNumChars) {
                            var i = n.measure.appendChild(N("div", [N("div", r)], "CodeMirror-linenumber CodeMirror-gutter-elt")),
                                o = i.firstChild.offsetWidth,
                                a = i.offsetWidth - o;
                            return n.lineGutter.style.width = "", n.lineNumInnerWidth = Math.max(o, n.lineGutter.offsetWidth - a) + 1, n.lineNumWidth = n.lineNumInnerWidth + a, n.lineNumChars = n.lineNumInnerWidth ? r.length : -1, n.lineGutter.style.width = n.lineNumWidth + "px", di(e.display), !0
                        }
                        return !1
                    }

                    function mi(e, t) {
                        for (var r = [], n = !1, i = 0; i < e.length; i++) {
                            var o = e[i],
                                a = null;
                            if ("string" != typeof o && (a = o.style, o = o.className), "CodeMirror-linenumbers" == o) {
                                if (!t) continue;
                                n = !0
                            }
                            r.push({
                                className: o,
                                style: a
                            })
                        }
                        return t && !n && r.push({
                            className: "CodeMirror-linenumbers",
                            style: null
                        }), r
                    }

                    function yi(e) {
                        var t = e.gutters,
                            r = e.gutterSpecs;
                        E(t), e.lineGutter = null;
                        for (var n = 0; n < r.length; ++n) {
                            var i = r[n],
                                o = i.className,
                                a = i.style,
                                l = t.appendChild(N("div", null, "CodeMirror-gutter " + o));
                            a && (l.style.cssText = a), "CodeMirror-linenumbers" == o && (e.lineGutter = l, l.style.width = (e.lineNumWidth || 1) + "px")
                        }
                        t.style.display = r.length ? "" : "none", di(e)
                    }

                    function bi(e) {
                        yi(e.display), pn(e), gi(e)
                    }

                    function wi(e, t, n, i) {
                        var o = this;
                        this.input = n, o.scrollbarFiller = N("div", null, "CodeMirror-scrollbar-filler"), o.scrollbarFiller.setAttribute("cm-not-content", "true"), o.gutterFiller = N("div", null, "CodeMirror-gutter-filler"), o.gutterFiller.setAttribute("cm-not-content", "true"), o.lineDiv = M("div", null, "CodeMirror-code"), o.selectionDiv = N("div", null, null, "position: relative; z-index: 1"), o.cursorDiv = N("div", null, "CodeMirror-cursors"), o.measure = N("div", null, "CodeMirror-measure"), o.lineMeasure = N("div", null, "CodeMirror-measure"), o.lineSpace = M("div", [o.measure, o.lineMeasure, o.selectionDiv, o.cursorDiv, o.lineDiv], null, "position: relative; outline: none");
                        var c = M("div", [o.lineSpace], "CodeMirror-lines");
                        o.mover = N("div", [c], null, "position: relative"), o.sizer = N("div", [o.mover], "CodeMirror-sizer"), o.sizerWidth = null, o.heightForcer = N("div", null, null, "position: absolute; height: 50px; width: 1px;"), o.gutters = N("div", null, "CodeMirror-gutters"), o.lineGutter = null, o.scroller = N("div", [o.sizer, o.heightForcer, o.gutters], "CodeMirror-scroll"), o.scroller.setAttribute("tabIndex", "-1"), o.wrapper = N("div", [o.scrollbarFiller, o.gutterFiller, o.scroller], "CodeMirror"), o.wrapper.setAttribute("translate", "no"), a && l < 8 && (o.gutters.style.zIndex = -1, o.scroller.style.paddingRight = 0), s || r && y || (o.scroller.draggable = !0), e && (e.appendChild ? e.appendChild(o.wrapper) : e(o.wrapper)), o.viewFrom = o.viewTo = t.first, o.reportedViewFrom = o.reportedViewTo = t.first, o.view = [], o.renderedView = null, o.externalMeasured = null, o.viewOffset = 0, o.lastWrapHeight = o.lastWrapWidth = 0, o.updateLineNumbers = null, o.nativeBarWidth = o.barHeight = o.barWidth = 0, o.scrollbarsClipped = !1, o.lineNumWidth = o.lineNumInnerWidth = o.lineNumChars = null, o.alignWidgets = !1, o.cachedCharWidth = o.cachedTextHeight = o.cachedPaddingH = null, o.maxLine = null, o.maxLineLength = 0, o.maxLineChanged = !1, o.wheelDX = o.wheelDY = o.wheelStartX = o.wheelStartY = null, o.shift = !1, o.selForContextMenu = null, o.activeTouch = null, o.gutterSpecs = mi(i.gutters, i.lineNumbers), yi(o), n.init(o)
                    }
                    si.prototype.signal = function(e, t) {
                        we(e, t) && this.events.push(arguments)
                    }, si.prototype.finish = function() {
                        for (var e = 0; e < this.events.length; e++) me.apply(null, this.events[e])
                    };
                    var Si = 0,
                        xi = null;

                    function Ci(e) {
                        var t = e.wheelDeltaX,
                            r = e.wheelDeltaY;
                        return null == t && e.detail && e.axis == e.HORIZONTAL_AXIS && (t = e.detail), null == r && e.detail && e.axis == e.VERTICAL_AXIS ? r = e.detail : null == r && (r = e.wheelDelta), {
                            x: t,
                            y: r
                        }
                    }

                    function Ai(e) {
                        var t = Ci(e);
                        return t.x *= xi, t.y *= xi, t
                    }

                    function ki(e, t) {
                        u && 102 == f && (null == e.display.chromeScrollHack ? e.display.sizer.style.pointerEvents = "none" : clearTimeout(e.display.chromeScrollHack), e.display.chromeScrollHack = setTimeout((function() {
                            e.display.chromeScrollHack = null, e.display.sizer.style.pointerEvents = ""
                        }), 100));
                        var n = Ci(t),
                            i = n.x,
                            o = n.y,
                            a = xi;
                        0 === t.deltaMode && (i = t.deltaX, o = t.deltaY, a = 1);
                        var l = e.display,
                            c = l.scroller,
                            d = c.scrollWidth > c.clientWidth,
                            p = c.scrollHeight > c.clientHeight;
                        if (i && d || o && p) {
                            if (o && b && s) e: for (var g = t.target, v = l.view; g != c; g = g.parentNode)
                                for (var m = 0; m < v.length; m++)
                                    if (v[m].node == g) {
                                        e.display.currentWheelTarget = g;
                                        break e
                                    } if (i && !r && !h && null != a) return o && p && Fn(e, Math.max(0, c.scrollTop + o * a)), Hn(e, Math.max(0, c.scrollLeft + i * a)), (!o || o && p) && xe(t), void(l.wheelStartX = null);
                            if (o && null != a) {
                                var y = o * a,
                                    w = e.doc.scrollTop,
                                    S = w + l.wrapper.clientHeight;
                                y < 0 ? w = Math.max(0, w + y - 50) : S = Math.min(e.doc.height, S + y + 50), hi(e, {
                                    top: w,
                                    bottom: S
                                })
                            }
                            Si < 20 && 0 !== t.deltaMode && (null == l.wheelStartX ? (l.wheelStartX = c.scrollLeft, l.wheelStartY = c.scrollTop, l.wheelDX = i, l.wheelDY = o, setTimeout((function() {
                                if (null != l.wheelStartX) {
                                    var e = c.scrollLeft - l.wheelStartX,
                                        t = c.scrollTop - l.wheelStartY,
                                        r = t && l.wheelDY && t / l.wheelDY || e && l.wheelDX && e / l.wheelDX;
                                    l.wheelStartX = l.wheelStartY = null, r && (xi = (xi * Si + r) / (Si + 1), ++Si)
                                }
                            }), 200)) : (l.wheelDX += i, l.wheelDY += o))
                        }
                    }
                    a ? xi = -.53 : r ? xi = 15 : u ? xi = -.7 : d && (xi = -1 / 3);
                    var Li = function(e, t) {
                        this.ranges = e, this.primIndex = t
                    };
                    Li.prototype.primary = function() {
                        return this.ranges[this.primIndex]
                    }, Li.prototype.equals = function(e) {
                        if (e == this) return !0;
                        if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length) return !1;
                        for (var t = 0; t < this.ranges.length; t++) {
                            var r = this.ranges[t],
                                n = e.ranges[t];
                            if (!ot(r.anchor, n.anchor) || !ot(r.head, n.head)) return !1
                        }
                        return !0
                    }, Li.prototype.deepCopy = function() {
                        for (var e = [], t = 0; t < this.ranges.length; t++) e[t] = new Ti(at(this.ranges[t].anchor), at(this.ranges[t].head));
                        return new Li(e, this.primIndex)
                    }, Li.prototype.somethingSelected = function() {
                        for (var e = 0; e < this.ranges.length; e++)
                            if (!this.ranges[e].empty()) return !0;
                        return !1
                    }, Li.prototype.contains = function(e, t) {
                        t || (t = e);
                        for (var r = 0; r < this.ranges.length; r++) {
                            var n = this.ranges[r];
                            if (it(t, n.from()) >= 0 && it(e, n.to()) <= 0) return r
                        }
                        return -1
                    };
                    var Ti = function(e, t) {
                        this.anchor = e, this.head = t
                    };

                    function Ei(e, t, r) {
                        var n = e && e.options.selectionsMayTouch,
                            i = t[r];
                        t.sort((function(e, t) {
                            return it(e.from(), t.from())
                        })), r = U(t, i);
                        for (var o = 1; o < t.length; o++) {
                            var a = t[o],
                                l = t[o - 1],
                                s = it(l.to(), a.from());
                            if (n && !a.empty() ? s > 0 : s >= 0) {
                                var c = st(l.from(), a.from()),
                                    u = lt(l.to(), a.to()),
                                    f = l.empty() ? a.from() == a.head : l.from() == l.head;
                                o <= r && --r, t.splice(--o, 2, new Ti(f ? u : c, f ? c : u))
                            }
                        }
                        return new Li(t, r)
                    }

                    function Oi(e, t) {
                        return new Li([new Ti(e, t || e)], 0)
                    }

                    function Ni(e) {
                        return e.text ? nt(e.from.line + e.text.length - 1, Z(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to
                    }

                    function Mi(e, t) {
                        if (it(e, t.from) < 0) return e;
                        if (it(e, t.to) <= 0) return Ni(t);
                        var r = e.line + t.text.length - (t.to.line - t.from.line) - 1,
                            n = e.ch;
                        return e.line == t.to.line && (n += Ni(t).ch - t.to.ch), nt(r, n)
                    }

                    function Pi(e, t) {
                        for (var r = [], n = 0; n < e.sel.ranges.length; n++) {
                            var i = e.sel.ranges[n];
                            r.push(new Ti(Mi(i.anchor, t), Mi(i.head, t)))
                        }
                        return Ei(e.cm, r, e.sel.primIndex)
                    }

                    function Wi(e, t, r) {
                        return e.line == t.line ? nt(r.line, e.ch - t.ch + r.ch) : nt(r.line + (e.line - t.line), e.ch)
                    }

                    function Di(e) {
                        e.doc.mode = ze(e.options, e.doc.modeOption), Ri(e)
                    }

                    function Ri(e) {
                        e.doc.iter((function(e) {
                            e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null)
                        })), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, ai(e, 100), e.state.modeGen++, e.curOp && pn(e)
                    }

                    function Ii(e, t) {
                        return 0 == t.from.ch && 0 == t.to.ch && "" == Z(t.text) && (!e.cm || e.cm.options.wholeLineUpdateBefore)
                    }

                    function _i(e, t, r, n) {
                        function i(e) {
                            return r ? r[e] : null
                        }

                        function o(e, r, i) {
                            (function(e, t, r, n) {
                                e.text = t, e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null), null != e.order && (e.order = null), Mt(e), Pt(e, r);
                                var i = n ? n(e) : 1;
                                i != e.height && Je(e, i)
                            })(e, r, i, n), ur(e, "change", e, t)
                        }

                        function a(e, t) {
                            for (var r = [], o = e; o < t; ++o) r.push(new $t(c[o], i(o), n));
                            return r
                        }
                        var l = t.from,
                            s = t.to,
                            c = t.text,
                            u = $e(e, l.line),
                            f = $e(e, s.line),
                            h = Z(c),
                            d = i(c.length - 1),
                            p = s.line - l.line;
                        if (t.full) e.insert(0, a(0, c.length)), e.remove(c.length, e.size - c.length);
                        else if (Ii(e, t)) {
                            var g = a(0, c.length - 1);
                            o(f, f.text, d), p && e.remove(l.line, p), g.length && e.insert(l.line, g)
                        } else if (u == f)
                            if (1 == c.length) o(u, u.text.slice(0, l.ch) + h + u.text.slice(s.ch), d);
                            else {
                                var v = a(1, c.length - 1);
                                v.push(new $t(h + u.text.slice(s.ch), d, n)), o(u, u.text.slice(0, l.ch) + c[0], i(0)), e.insert(l.line + 1, v)
                            }
                        else if (1 == c.length) o(u, u.text.slice(0, l.ch) + c[0] + f.text.slice(s.ch), i(0)), e.remove(l.line + 1, p);
                        else {
                            o(u, u.text.slice(0, l.ch) + c[0], i(0)), o(f, h + f.text.slice(s.ch), d);
                            var m = a(1, c.length - 1);
                            p > 1 && e.remove(l.line + 1, p - 1), e.insert(l.line + 1, m)
                        }
                        ur(e, "change", e, t)
                    }

                    function Fi(e, t, r) {
                        ! function e(n, i, o) {
                            if (n.linked)
                                for (var a = 0; a < n.linked.length; ++a) {
                                    var l = n.linked[a];
                                    if (l.doc != i) {
                                        var s = o && l.sharedHist;
                                        r && !s || (t(l.doc, s), e(l.doc, n, s))
                                    }
                                }
                        }(e, null, !0)
                    }

                    function Bi(e, t) {
                        if (t.cm) throw new Error("This document is already in use.");
                        e.doc = t, t.cm = e, fn(e), Di(e), Hi(e), e.options.direction = t.direction, e.options.lineWrapping || Xt(e), e.options.mode = t.modeOption, pn(e)
                    }

                    function Hi(e) {
                        ("rtl" == e.doc.direction ? D : T)(e.display.lineDiv, "CodeMirror-rtl")
                    }

                    function ji(e) {
                        this.done = [], this.undone = [], this.undoDepth = e ? e.undoDepth : 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e ? e.maxGeneration : 1
                    }

                    function zi(e, t) {
                        var r = {
                            from: at(t.from),
                            to: Ni(t),
                            text: Ye(e, t.from, t.to)
                        };
                        return Ki(e, r, t.from.line, t.to.line + 1), Fi(e, (function(e) {
                            return Ki(e, r, t.from.line, t.to.line + 1)
                        }), !0), r
                    }

                    function Ui(e) {
                        for (; e.length && Z(e).ranges;) e.pop()
                    }

                    function Gi(e, t, r, n) {
                        var i = e.history;
                        i.undone.length = 0;
                        var o, a, l = +new Date;
                        if ((i.lastOp == n || i.lastOrigin == t.origin && t.origin && ("+" == t.origin.charAt(0) && i.lastModTime > l - (e.cm ? e.cm.options.historyEventDelay : 500) || "*" == t.origin.charAt(0))) && (o = function(e, t) {
                                return t ? (Ui(e.done), Z(e.done)) : e.done.length && !Z(e.done).ranges ? Z(e.done) : e.done.length > 1 && !e.done[e.done.length - 2].ranges ? (e.done.pop(), Z(e.done)) : void 0
                            }(i, i.lastOp == n))) a = Z(o.changes), 0 == it(t.from, t.to) && 0 == it(t.from, a.to) ? a.to = Ni(t) : o.changes.push(zi(e, t));
                        else {
                            var s = Z(i.done);
                            for (s && s.ranges || qi(e.sel, i.done), o = {
                                    changes: [zi(e, t)],
                                    generation: i.generation
                                }, i.done.push(o); i.done.length > i.undoDepth;) i.done.shift(), i.done[0].ranges || i.done.shift()
                        }
                        i.done.push(r), i.generation = ++i.maxGeneration, i.lastModTime = i.lastSelTime = l, i.lastOp = i.lastSelOp = n, i.lastOrigin = i.lastSelOrigin = t.origin, a || me(e, "historyAdded")
                    }

                    function Vi(e, t, r, n) {
                        var i = e.history,
                            o = n && n.origin;
                        r == i.lastSelOp || o && i.lastSelOrigin == o && (i.lastModTime == i.lastSelTime && i.lastOrigin == o || function(e, t, r, n) {
                            var i = t.charAt(0);
                            return "*" == i || "+" == i && r.ranges.length == n.ranges.length && r.somethingSelected() == n.somethingSelected() && new Date - e.history.lastSelTime <= (e.cm ? e.cm.options.historyEventDelay : 500)
                        }(e, o, Z(i.done), t)) ? i.done[i.done.length - 1] = t : qi(t, i.done), i.lastSelTime = +new Date, i.lastSelOrigin = o, i.lastSelOp = r, n && !1 !== n.clearRedo && Ui(i.undone)
                    }

                    function qi(e, t) {
                        var r = Z(t);
                        r && r.ranges && r.equals(e) || t.push(e)
                    }

                    function Ki(e, t, r, n) {
                        var i = t["spans_" + e.id],
                            o = 0;
                        e.iter(Math.max(e.first, r), Math.min(e.first + e.size, n), (function(r) {
                            r.markedSpans && ((i || (i = t["spans_" + e.id] = {}))[o] = r.markedSpans), ++o
                        }))
                    }

                    function Xi(e) {
                        if (!e) return null;
                        for (var t, r = 0; r < e.length; ++r) e[r].marker.explicitlyCleared ? t || (t = e.slice(0, r)) : t && t.push(e[r]);
                        return t ? t.length ? t : null : e
                    }

                    function $i(e, t) {
                        var r = function(e, t) {
                                var r = t["spans_" + e.id];
                                if (!r) return null;
                                for (var n = [], i = 0; i < t.text.length; ++i) n.push(Xi(r[i]));
                                return n
                            }(e, t),
                            n = Ot(e, t);
                        if (!r) return n;
                        if (!n) return r;
                        for (var i = 0; i < r.length; ++i) {
                            var o = r[i],
                                a = n[i];
                            if (o && a) e: for (var l = 0; l < a.length; ++l) {
                                for (var s = a[l], c = 0; c < o.length; ++c)
                                    if (o[c].marker == s.marker) continue e;
                                o.push(s)
                            } else a && (r[i] = a)
                        }
                        return r
                    }

                    function Yi(e, t, r) {
                        for (var n = [], i = 0; i < e.length; ++i) {
                            var o = e[i];
                            if (o.ranges) n.push(r ? Li.prototype.deepCopy.call(o) : o);
                            else {
                                var a = o.changes,
                                    l = [];
                                n.push({
                                    changes: l
                                });
                                for (var s = 0; s < a.length; ++s) {
                                    var c = a[s],
                                        u = void 0;
                                    if (l.push({
                                            from: c.from,
                                            to: c.to,
                                            text: c.text
                                        }), t)
                                        for (var f in c)(u = f.match(/^spans_(\d+)$/)) && U(t, Number(u[1])) > -1 && (Z(l)[f] = c[f], delete c[f])
                                }
                            }
                        }
                        return n
                    }

                    function Zi(e, t, r, n) {
                        if (n) {
                            var i = e.anchor;
                            if (r) {
                                var o = it(t, i) < 0;
                                o != it(r, i) < 0 ? (i = t, t = r) : o != it(t, r) < 0 && (t = r)
                            }
                            return new Ti(i, t)
                        }
                        return new Ti(r || t, t)
                    }

                    function Ji(e, t, r, n, i) {
                        null == i && (i = e.cm && (e.cm.display.shift || e.extend)), no(e, new Li([Zi(e.sel.primary(), t, r, i)], 0), n)
                    }

                    function Qi(e, t, r) {
                        for (var n = [], i = e.cm && (e.cm.display.shift || e.extend), o = 0; o < e.sel.ranges.length; o++) n[o] = Zi(e.sel.ranges[o], t[o], null, i);
                        no(e, Ei(e.cm, n, e.sel.primIndex), r)
                    }

                    function eo(e, t, r, n) {
                        var i = e.sel.ranges.slice(0);
                        i[t] = r, no(e, Ei(e.cm, i, e.sel.primIndex), n)
                    }

                    function to(e, t, r, n) {
                        no(e, Oi(t, r), n)
                    }

                    function ro(e, t, r) {
                        var n = e.history.done,
                            i = Z(n);
                        i && i.ranges ? (n[n.length - 1] = t, io(e, t, r)) : no(e, t, r)
                    }

                    function no(e, t, r) {
                        io(e, t, r), Vi(e, e.sel, e.cm ? e.cm.curOp.id : NaN, r)
                    }

                    function io(e, t, r) {
                        (we(e, "beforeSelectionChange") || e.cm && we(e.cm, "beforeSelectionChange")) && (t = function(e, t, r) {
                            var n = {
                                ranges: t.ranges,
                                update: function(t) {
                                    this.ranges = [];
                                    for (var r = 0; r < t.length; r++) this.ranges[r] = new Ti(ut(e, t[r].anchor), ut(e, t[r].head))
                                },
                                origin: r && r.origin
                            };
                            return me(e, "beforeSelectionChange", e, n), e.cm && me(e.cm, "beforeSelectionChange", e.cm, n), n.ranges != t.ranges ? Ei(e.cm, n.ranges, n.ranges.length - 1) : t
                        }(e, t, r));
                        var n = r && r.bias || (it(t.primary().head, e.sel.primary().head) < 0 ? -1 : 1);
                        oo(e, lo(e, t, n, !0)), r && !1 === r.scroll || !e.cm || "nocursor" == e.cm.getOption("readOnly") || Dn(e.cm)
                    }

                    function oo(e, t) {
                        t.equals(e.sel) || (e.sel = t, e.cm && (e.cm.curOp.updateInput = 1, e.cm.curOp.selectionChanged = !0, be(e.cm)), ur(e, "cursorActivity", e))
                    }

                    function ao(e) {
                        oo(e, lo(e, e.sel, null, !1))
                    }

                    function lo(e, t, r, n) {
                        for (var i, o = 0; o < t.ranges.length; o++) {
                            var a = t.ranges[o],
                                l = t.ranges.length == e.sel.ranges.length && e.sel.ranges[o],
                                s = co(e, a.anchor, l && l.anchor, r, n),
                                c = a.head == a.anchor ? s : co(e, a.head, l && l.head, r, n);
                            (i || s != a.anchor || c != a.head) && (i || (i = t.ranges.slice(0, o)), i[o] = new Ti(s, c))
                        }
                        return i ? Ei(e.cm, i, t.primIndex) : t
                    }

                    function so(e, t, r, n, i) {
                        var o = $e(e, t.line);
                        if (o.markedSpans)
                            for (var a = 0; a < o.markedSpans.length; ++a) {
                                var l = o.markedSpans[a],
                                    s = l.marker,
                                    c = "selectLeft" in s ? !s.selectLeft : s.inclusiveLeft,
                                    u = "selectRight" in s ? !s.selectRight : s.inclusiveRight;
                                if ((null == l.from || (c ? l.from <= t.ch : l.from < t.ch)) && (null == l.to || (u ? l.to >= t.ch : l.to > t.ch))) {
                                    if (i && (me(s, "beforeCursorEnter"), s.explicitlyCleared)) {
                                        if (o.markedSpans) {
                                            --a;
                                            continue
                                        }
                                        break
                                    }
                                    if (!s.atomic) continue;
                                    if (r) {
                                        var f = s.find(n < 0 ? 1 : -1),
                                            h = void 0;
                                        if ((n < 0 ? u : c) && (f = uo(e, f, -n, f && f.line == t.line ? o : null)), f && f.line == t.line && (h = it(f, r)) && (n < 0 ? h < 0 : h > 0)) return so(e, f, t, n, i)
                                    }
                                    var d = s.find(n < 0 ? -1 : 1);
                                    return (n < 0 ? c : u) && (d = uo(e, d, n, d.line == t.line ? o : null)), d ? so(e, d, t, n, i) : null
                                }
                            }
                        return t
                    }

                    function co(e, t, r, n, i) {
                        var o = n || 1;
                        return so(e, t, r, o, i) || !i && so(e, t, r, o, !0) || so(e, t, r, -o, i) || !i && so(e, t, r, -o, !0) || (e.cantEdit = !0, nt(e.first, 0))
                    }

                    function uo(e, t, r, n) {
                        return r < 0 && 0 == t.ch ? t.line > e.first ? ut(e, nt(t.line - 1)) : null : r > 0 && t.ch == (n || $e(e, t.line)).text.length ? t.line < e.first + e.size - 1 ? nt(t.line + 1, 0) : null : new nt(t.line, t.ch + r)
                    }

                    function fo(e) {
                        e.setSelection(nt(e.firstLine(), 0), nt(e.lastLine()), V)
                    }

                    function ho(e, t, r) {
                        var n = {
                            canceled: !1,
                            from: t.from,
                            to: t.to,
                            text: t.text,
                            origin: t.origin,
                            cancel: function() {
                                return n.canceled = !0
                            }
                        };
                        return r && (n.update = function(t, r, i, o) {
                            t && (n.from = ut(e, t)), r && (n.to = ut(e, r)), i && (n.text = i), void 0 !== o && (n.origin = o)
                        }), me(e, "beforeChange", e, n), e.cm && me(e.cm, "beforeChange", e.cm, n), n.canceled ? (e.cm && (e.cm.curOp.updateInput = 2), null) : {
                            from: n.from,
                            to: n.to,
                            text: n.text,
                            origin: n.origin
                        }
                    }

                    function po(e, t, r) {
                        if (e.cm) {
                            if (!e.cm.curOp) return ni(e.cm, po)(e, t, r);
                            if (e.cm.state.suppressEdits) return
                        }
                        if (!(we(e, "beforeChange") || e.cm && we(e.cm, "beforeChange")) || (t = ho(e, t, !0))) {
                            var n = At && !r && function(e, t, r) {
                                var n = null;
                                if (e.iter(t.line, r.line + 1, (function(e) {
                                        if (e.markedSpans)
                                            for (var t = 0; t < e.markedSpans.length; ++t) {
                                                var r = e.markedSpans[t].marker;
                                                !r.readOnly || n && -1 != U(n, r) || (n || (n = [])).push(r)
                                            }
                                    })), !n) return null;
                                for (var i = [{
                                        from: t,
                                        to: r
                                    }], o = 0; o < n.length; ++o)
                                    for (var a = n[o], l = a.find(0), s = 0; s < i.length; ++s) {
                                        var c = i[s];
                                        if (!(it(c.to, l.from) < 0 || it(c.from, l.to) > 0)) {
                                            var u = [s, 1],
                                                f = it(c.from, l.from),
                                                h = it(c.to, l.to);
                                            (f < 0 || !a.inclusiveLeft && !f) && u.push({
                                                from: c.from,
                                                to: l.from
                                            }), (h > 0 || !a.inclusiveRight && !h) && u.push({
                                                from: l.to,
                                                to: c.to
                                            }), i.splice.apply(i, u), s += u.length - 3
                                        }
                                    }
                                return i
                            }(e, t.from, t.to);
                            if (n)
                                for (var i = n.length - 1; i >= 0; --i) go(e, {
                                    from: n[i].from,
                                    to: n[i].to,
                                    text: i ? [""] : t.text,
                                    origin: t.origin
                                });
                            else go(e, t)
                        }
                    }

                    function go(e, t) {
                        if (1 != t.text.length || "" != t.text[0] || 0 != it(t.from, t.to)) {
                            var r = Pi(e, t);
                            Gi(e, t, r, e.cm ? e.cm.curOp.id : NaN), yo(e, t, r, Ot(e, t));
                            var n = [];
                            Fi(e, (function(e, r) {
                                r || -1 != U(n, e.history) || (xo(e.history, t), n.push(e.history)), yo(e, t, null, Ot(e, t))
                            }))
                        }
                    }

                    function vo(e, t, r) {
                        var n = e.cm && e.cm.state.suppressEdits;
                        if (!n || r) {
                            for (var i, o = e.history, a = e.sel, l = "undo" == t ? o.done : o.undone, s = "undo" == t ? o.undone : o.done, c = 0; c < l.length && (i = l[c], r ? !i.ranges || i.equals(e.sel) : i.ranges); c++);
                            if (c != l.length) {
                                for (o.lastOrigin = o.lastSelOrigin = null;;) {
                                    if (!(i = l.pop()).ranges) {
                                        if (n) return void l.push(i);
                                        break
                                    }
                                    if (qi(i, s), r && !i.equals(e.sel)) return void no(e, i, {
                                        clearRedo: !1
                                    });
                                    a = i
                                }
                                var u = [];
                                qi(a, s), s.push({
                                    changes: u,
                                    generation: o.generation
                                }), o.generation = i.generation || ++o.maxGeneration;
                                for (var f = we(e, "beforeChange") || e.cm && we(e.cm, "beforeChange"), h = function(r) {
                                        var n = i.changes[r];
                                        if (n.origin = t, f && !ho(e, n, !1)) return l.length = 0, {};
                                        u.push(zi(e, n));
                                        var o = r ? Pi(e, n) : Z(l);
                                        yo(e, n, o, $i(e, n)), !r && e.cm && e.cm.scrollIntoView({
                                            from: n.from,
                                            to: Ni(n)
                                        });
                                        var a = [];
                                        Fi(e, (function(e, t) {
                                            t || -1 != U(a, e.history) || (xo(e.history, n), a.push(e.history)), yo(e, n, null, $i(e, n))
                                        }))
                                    }, d = i.changes.length - 1; d >= 0; --d) {
                                    var p = h(d);
                                    if (p) return p.v
                                }
                            }
                        }
                    }

                    function mo(e, t) {
                        if (0 != t && (e.first += t, e.sel = new Li(J(e.sel.ranges, (function(e) {
                                return new Ti(nt(e.anchor.line + t, e.anchor.ch), nt(e.head.line + t, e.head.ch))
                            })), e.sel.primIndex), e.cm)) {
                            pn(e.cm, e.first, e.first - t, t);
                            for (var r = e.cm.display, n = r.viewFrom; n < r.viewTo; n++) gn(e.cm, n, "gutter")
                        }
                    }

                    function yo(e, t, r, n) {
                        if (e.cm && !e.cm.curOp) return ni(e.cm, yo)(e, t, r, n);
                        if (t.to.line < e.first) mo(e, t.text.length - 1 - (t.to.line - t.from.line));
                        else if (!(t.from.line > e.lastLine())) {
                            if (t.from.line < e.first) {
                                var i = t.text.length - 1 - (e.first - t.from.line);
                                mo(e, i), t = {
                                    from: nt(e.first, 0),
                                    to: nt(t.to.line + i, t.to.ch),
                                    text: [Z(t.text)],
                                    origin: t.origin
                                }
                            }
                            var o = e.lastLine();
                            t.to.line > o && (t = {
                                from: t.from,
                                to: nt(o, $e(e, o).text.length),
                                text: [t.text[0]],
                                origin: t.origin
                            }), t.removed = Ye(e, t.from, t.to), r || (r = Pi(e, t)), e.cm ? function(e, t, r) {
                                var n = e.doc,
                                    i = e.display,
                                    o = t.from,
                                    a = t.to,
                                    l = !1,
                                    s = o.line;
                                e.options.lineWrapping || (s = Qe(jt($e(n, o.line))), n.iter(s, a.line + 1, (function(e) {
                                        if (e == i.maxLine) return l = !0, !0
                                    }))), n.sel.contains(t.from, t.to) > -1 && be(e), _i(n, t, r, un(e)), e.options.lineWrapping || (n.iter(s, o.line + t.text.length, (function(e) {
                                        var t = Kt(e);
                                        t > i.maxLineLength && (i.maxLine = e, i.maxLineLength = t, i.maxLineChanged = !0, l = !1)
                                    })), l && (e.curOp.updateMaxLine = !0)),
                                    function(e, t) {
                                        if (e.modeFrontier = Math.min(e.modeFrontier, t), !(e.highlightFrontier < t - 10)) {
                                            for (var r = e.first, n = t - 1; n > r; n--) {
                                                var i = $e(e, n).stateAfter;
                                                if (i && (!(i instanceof ht) || n + i.lookAhead < t)) {
                                                    r = n + 1;
                                                    break
                                                }
                                            }
                                            e.highlightFrontier = Math.min(e.highlightFrontier, r)
                                        }
                                    }(n, o.line), ai(e, 400);
                                var c = t.text.length - (a.line - o.line) - 1;
                                t.full ? pn(e) : o.line != a.line || 1 != t.text.length || Ii(e.doc, t) ? pn(e, o.line, a.line + 1, c) : gn(e, o.line, "text");
                                var u = we(e, "changes"),
                                    f = we(e, "change");
                                if (f || u) {
                                    var h = {
                                        from: o,
                                        to: a,
                                        text: t.text,
                                        removed: t.removed,
                                        origin: t.origin
                                    };
                                    f && ur(e, "change", e, h), u && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(h)
                                }
                                e.display.selForContextMenu = null
                            }(e.cm, t, n) : _i(e, t, n), io(e, r, V), e.cantEdit && co(e, nt(e.firstLine(), 0)) && (e.cantEdit = !1)
                        }
                    }

                    function bo(e, t, r, n, i) {
                        var o;
                        n || (n = r), it(n, r) < 0 && (r = (o = [n, r])[0], n = o[1]), "string" == typeof t && (t = e.splitLines(t)), po(e, {
                            from: r,
                            to: n,
                            text: t,
                            origin: i
                        })
                    }

                    function wo(e, t, r, n) {
                        r < e.line ? e.line += n : t < e.line && (e.line = t, e.ch = 0)
                    }

                    function So(e, t, r, n) {
                        for (var i = 0; i < e.length; ++i) {
                            var o = e[i],
                                a = !0;
                            if (o.ranges) {
                                o.copied || ((o = e[i] = o.deepCopy()).copied = !0);
                                for (var l = 0; l < o.ranges.length; l++) wo(o.ranges[l].anchor, t, r, n), wo(o.ranges[l].head, t, r, n)
                            } else {
                                for (var s = 0; s < o.changes.length; ++s) {
                                    var c = o.changes[s];
                                    if (r < c.from.line) c.from = nt(c.from.line + n, c.from.ch), c.to = nt(c.to.line + n, c.to.ch);
                                    else if (t <= c.to.line) {
                                        a = !1;
                                        break
                                    }
                                }
                                a || (e.splice(0, i + 1), i = 0)
                            }
                        }
                    }

                    function xo(e, t) {
                        var r = t.from.line,
                            n = t.to.line,
                            i = t.text.length - (n - r) - 1;
                        So(e.done, r, n, i), So(e.undone, r, n, i)
                    }

                    function Co(e, t, r, n) {
                        var i = t,
                            o = t;
                        return "number" == typeof t ? o = $e(e, ct(e, t)) : i = Qe(t), null == i ? null : (n(o, i) && e.cm && gn(e.cm, i, r), o)
                    }

                    function Ao(e) {
                        this.lines = e, this.parent = null;
                        for (var t = 0, r = 0; r < e.length; ++r) e[r].parent = this, t += e[r].height;
                        this.height = t
                    }

                    function ko(e) {
                        this.children = e;
                        for (var t = 0, r = 0, n = 0; n < e.length; ++n) {
                            var i = e[n];
                            t += i.chunkSize(), r += i.height, i.parent = this
                        }
                        this.size = t, this.height = r, this.parent = null
                    }
                    Ti.prototype.from = function() {
                        return st(this.anchor, this.head)
                    }, Ti.prototype.to = function() {
                        return lt(this.anchor, this.head)
                    }, Ti.prototype.empty = function() {
                        return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
                    }, Ao.prototype = {
                        chunkSize: function() {
                            return this.lines.length
                        },
                        removeInner: function(e, t) {
                            for (var r = e, n = e + t; r < n; ++r) {
                                var i = this.lines[r];
                                this.height -= i.height, Yt(i), ur(i, "delete")
                            }
                            this.lines.splice(e, t)
                        },
                        collapse: function(e) {
                            e.push.apply(e, this.lines)
                        },
                        insertInner: function(e, t, r) {
                            this.height += r, this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e));
                            for (var n = 0; n < t.length; ++n) t[n].parent = this
                        },
                        iterN: function(e, t, r) {
                            for (var n = e + t; e < n; ++e)
                                if (r(this.lines[e])) return !0
                        }
                    }, ko.prototype = {
                        chunkSize: function() {
                            return this.size
                        },
                        removeInner: function(e, t) {
                            this.size -= t;
                            for (var r = 0; r < this.children.length; ++r) {
                                var n = this.children[r],
                                    i = n.chunkSize();
                                if (e < i) {
                                    var o = Math.min(t, i - e),
                                        a = n.height;
                                    if (n.removeInner(e, o), this.height -= a - n.height, i == o && (this.children.splice(r--, 1), n.parent = null), 0 == (t -= o)) break;
                                    e = 0
                                } else e -= i
                            }
                            if (this.size - t < 25 && (this.children.length > 1 || !(this.children[0] instanceof Ao))) {
                                var l = [];
                                this.collapse(l), this.children = [new Ao(l)], this.children[0].parent = this
                            }
                        },
                        collapse: function(e) {
                            for (var t = 0; t < this.children.length; ++t) this.children[t].collapse(e)
                        },
                        insertInner: function(e, t, r) {
                            this.size += t.length, this.height += r;
                            for (var n = 0; n < this.children.length; ++n) {
                                var i = this.children[n],
                                    o = i.chunkSize();
                                if (e <= o) {
                                    if (i.insertInner(e, t, r), i.lines && i.lines.length > 50) {
                                        for (var a = i.lines.length % 25 + 25, l = a; l < i.lines.length;) {
                                            var s = new Ao(i.lines.slice(l, l += 25));
                                            i.height -= s.height, this.children.splice(++n, 0, s), s.parent = this
                                        }
                                        i.lines = i.lines.slice(0, a), this.maybeSpill()
                                    }
                                    break
                                }
                                e -= o
                            }
                        },
                        maybeSpill: function() {
                            if (!(this.children.length <= 10)) {
                                var e = this;
                                do {
                                    var t = new ko(e.children.splice(e.children.length - 5, 5));
                                    if (e.parent) {
                                        e.size -= t.size, e.height -= t.height;
                                        var r = U(e.parent.children, e);
                                        e.parent.children.splice(r + 1, 0, t)
                                    } else {
                                        var n = new ko(e.children);
                                        n.parent = e, e.children = [n, t], e = n
                                    }
                                    t.parent = e.parent
                                } while (e.children.length > 10);
                                e.parent.maybeSpill()
                            }
                        },
                        iterN: function(e, t, r) {
                            for (var n = 0; n < this.children.length; ++n) {
                                var i = this.children[n],
                                    o = i.chunkSize();
                                if (e < o) {
                                    var a = Math.min(t, o - e);
                                    if (i.iterN(e, a, r)) return !0;
                                    if (0 == (t -= a)) break;
                                    e = 0
                                } else e -= o
                            }
                        }
                    };
                    var Lo = function(e, t, r) {
                        if (r)
                            for (var n in r) r.hasOwnProperty(n) && (this[n] = r[n]);
                        this.doc = e, this.node = t
                    };

                    function To(e, t, r) {
                        qt(t) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && Wn(e, r)
                    }
                    Lo.prototype.clear = function() {
                        var e = this.doc.cm,
                            t = this.line.widgets,
                            r = this.line,
                            n = Qe(r);
                        if (null != n && t) {
                            for (var i = 0; i < t.length; ++i) t[i] == this && t.splice(i--, 1);
                            t.length || (r.widgets = null);
                            var o = Cr(this);
                            Je(r, Math.max(0, r.height - o)), e && (ri(e, (function() {
                                To(e, r, -o), gn(e, n, "widget")
                            })), ur(e, "lineWidgetCleared", e, this, n))
                        }
                    }, Lo.prototype.changed = function() {
                        var e = this,
                            t = this.height,
                            r = this.doc.cm,
                            n = this.line;
                        this.height = null;
                        var i = Cr(this) - t;
                        i && (Gt(this.doc, n) || Je(n, n.height + i), r && ri(r, (function() {
                            r.curOp.forceUpdate = !0, To(r, n, i), ur(r, "lineWidgetChanged", r, e, Qe(n))
                        })))
                    }, Se(Lo);
                    var Eo = 0,
                        Oo = function(e, t) {
                            this.lines = [], this.type = t, this.doc = e, this.id = ++Eo
                        };

                    function No(e, t, r, n, i) {
                        if (n && n.shared) return function(e, t, r, n, i) {
                            (n = H(n)).shared = !1;
                            var o = [No(e, t, r, n, i)],
                                a = o[0],
                                l = n.widgetNode;
                            return Fi(e, (function(e) {
                                l && (n.widgetNode = l.cloneNode(!0)), o.push(No(e, ut(e, t), ut(e, r), n, i));
                                for (var s = 0; s < e.linked.length; ++s)
                                    if (e.linked[s].isParent) return;
                                a = Z(o)
                            })), new Mo(o, a)
                        }(e, t, r, n, i);
                        if (e.cm && !e.cm.curOp) return ni(e.cm, No)(e, t, r, n, i);
                        var o = new Oo(e, i),
                            a = it(t, r);
                        if (n && H(n, o, !1), a > 0 || 0 == a && !1 !== o.clearWhenEmpty) return o;
                        if (o.replacedWith && (o.collapsed = !0, o.widgetNode = M("span", [o.replacedWith], "CodeMirror-widget"), n.handleMouseEvents || o.widgetNode.setAttribute("cm-ignore-events", "true"), n.insertLeft && (o.widgetNode.insertLeft = !0)), o.collapsed) {
                            if (Ht(e, t.line, t, r, o) || t.line != r.line && Ht(e, r.line, t, r, o)) throw new Error("Inserting collapsed marker partially overlapping an existing one");
                            kt = !0
                        }
                        o.addToHistory && Gi(e, {
                            from: t,
                            to: r,
                            origin: "markText"
                        }, e.sel, NaN);
                        var l, s = t.line,
                            c = e.cm;
                        if (e.iter(s, r.line + 1, (function(n) {
                                c && o.collapsed && !c.options.lineWrapping && jt(n) == c.display.maxLine && (l = !0), o.collapsed && s != t.line && Je(n, 0),
                                    function(e, t, r) {
                                        var n = r && window.WeakSet && (r.markedSpans || (r.markedSpans = new WeakSet));
                                        n && e.markedSpans && n.has(e.markedSpans) ? e.markedSpans.push(t) : (e.markedSpans = e.markedSpans ? e.markedSpans.concat([t]) : [t], n && n.add(e.markedSpans)), t.marker.attachLine(e)
                                    }(n, new Lt(o, s == t.line ? t.ch : null, s == r.line ? r.ch : null), e.cm && e.cm.curOp), ++s
                            })), o.collapsed && e.iter(t.line, r.line + 1, (function(t) {
                                Gt(e, t) && Je(t, 0)
                            })), o.clearOnEnter && pe(o, "beforeCursorEnter", (function() {
                                return o.clear()
                            })), o.readOnly && (At = !0, (e.history.done.length || e.history.undone.length) && e.clearHistory()), o.collapsed && (o.id = ++Eo, o.atomic = !0), c) {
                            if (l && (c.curOp.updateMaxLine = !0), o.collapsed) pn(c, t.line, r.line + 1);
                            else if (o.className || o.startStyle || o.endStyle || o.css || o.attributes || o.title)
                                for (var u = t.line; u <= r.line; u++) gn(c, u, "text");
                            o.atomic && ao(c.doc), ur(c, "markerAdded", c, o)
                        }
                        return o
                    }
                    Oo.prototype.clear = function() {
                        if (!this.explicitlyCleared) {
                            var e = this.doc.cm,
                                t = e && !e.curOp;
                            if (t && $n(e), we(this, "clear")) {
                                var r = this.find();
                                r && ur(this, "clear", r.from, r.to)
                            }
                            for (var n = null, i = null, o = 0; o < this.lines.length; ++o) {
                                var a = this.lines[o],
                                    l = Tt(a.markedSpans, this);
                                e && !this.collapsed ? gn(e, Qe(a), "text") : e && (null != l.to && (i = Qe(a)), null != l.from && (n = Qe(a))), a.markedSpans = Et(a.markedSpans, l), null == l.from && this.collapsed && !Gt(this.doc, a) && e && Je(a, an(e.display))
                            }
                            if (e && this.collapsed && !e.options.lineWrapping)
                                for (var s = 0; s < this.lines.length; ++s) {
                                    var c = jt(this.lines[s]),
                                        u = Kt(c);
                                    u > e.display.maxLineLength && (e.display.maxLine = c, e.display.maxLineLength = u, e.display.maxLineChanged = !0)
                                }
                            null != n && e && this.collapsed && pn(e, n, i + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, e && ao(e.doc)), e && ur(e, "markerCleared", e, this, n, i), t && Yn(e), this.parent && this.parent.clear()
                        }
                    }, Oo.prototype.find = function(e, t) {
                        var r, n;
                        null == e && "bookmark" == this.type && (e = 1);
                        for (var i = 0; i < this.lines.length; ++i) {
                            var o = this.lines[i],
                                a = Tt(o.markedSpans, this);
                            if (null != a.from && (r = nt(t ? o : Qe(o), a.from), -1 == e)) return r;
                            if (null != a.to && (n = nt(t ? o : Qe(o), a.to), 1 == e)) return n
                        }
                        return r && {
                            from: r,
                            to: n
                        }
                    }, Oo.prototype.changed = function() {
                        var e = this,
                            t = this.find(-1, !0),
                            r = this,
                            n = this.doc.cm;
                        t && n && ri(n, (function() {
                            var i = t.line,
                                o = Qe(t.line),
                                a = Wr(n, o);
                            if (a && (Hr(a), n.curOp.selectionChanged = n.curOp.forceUpdate = !0), n.curOp.updateMaxLine = !0, !Gt(r.doc, i) && null != r.height) {
                                var l = r.height;
                                r.height = null;
                                var s = Cr(r) - l;
                                s && Je(i, i.height + s)
                            }
                            ur(n, "markerChanged", n, e)
                        }))
                    }, Oo.prototype.attachLine = function(e) {
                        if (!this.lines.length && this.doc.cm) {
                            var t = this.doc.cm.curOp;
                            t.maybeHiddenMarkers && -1 != U(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this)
                        }
                        this.lines.push(e)
                    }, Oo.prototype.detachLine = function(e) {
                        if (this.lines.splice(U(this.lines, e), 1), !this.lines.length && this.doc.cm) {
                            var t = this.doc.cm.curOp;
                            (t.maybeHiddenMarkers || (t.maybeHiddenMarkers = [])).push(this)
                        }
                    }, Se(Oo);
                    var Mo = function(e, t) {
                        this.markers = e, this.primary = t;
                        for (var r = 0; r < e.length; ++r) e[r].parent = this
                    };

                    function Po(e) {
                        return e.findMarks(nt(e.first, 0), e.clipPos(nt(e.lastLine())), (function(e) {
                            return e.parent
                        }))
                    }

                    function Wo(e) {
                        for (var t = function(t) {
                                var r = e[t],
                                    n = [r.primary.doc];
                                Fi(r.primary.doc, (function(e) {
                                    return n.push(e)
                                }));
                                for (var i = 0; i < r.markers.length; i++) {
                                    var o = r.markers[i]; - 1 == U(n, o.doc) && (o.parent = null, r.markers.splice(i--, 1))
                                }
                            }, r = 0; r < e.length; r++) t(r)
                    }
                    Mo.prototype.clear = function() {
                        if (!this.explicitlyCleared) {
                            this.explicitlyCleared = !0;
                            for (var e = 0; e < this.markers.length; ++e) this.markers[e].clear();
                            ur(this, "clear")
                        }
                    }, Mo.prototype.find = function(e, t) {
                        return this.primary.find(e, t)
                    }, Se(Mo);
                    var Do = 0,
                        Ro = function(e, t, r, n, i) {
                            if (!(this instanceof Ro)) return new Ro(e, t, r, n, i);
                            null == r && (r = 0), ko.call(this, [new Ao([new $t("", null)])]), this.first = r, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = r;
                            var o = nt(r, 0);
                            this.sel = Oi(o), this.history = new ji(null), this.id = ++Do, this.modeOption = t, this.lineSep = n, this.direction = "rtl" == i ? "rtl" : "ltr", this.extend = !1, "string" == typeof e && (e = this.splitLines(e)), _i(this, {
                                from: o,
                                to: o,
                                text: e
                            }), no(this, Oi(o), V)
                        };
                    Ro.prototype = ee(ko.prototype, {
                        constructor: Ro,
                        iter: function(e, t, r) {
                            r ? this.iterN(e - this.first, t - e, r) : this.iterN(this.first, this.first + this.size, e)
                        },
                        insert: function(e, t) {
                            for (var r = 0, n = 0; n < t.length; ++n) r += t[n].height;
                            this.insertInner(e - this.first, t, r)
                        },
                        remove: function(e, t) {
                            this.removeInner(e - this.first, t)
                        },
                        getValue: function(e) {
                            var t = Ze(this, this.first, this.first + this.size);
                            return !1 === e ? t : t.join(e || this.lineSeparator())
                        },
                        setValue: oi((function(e) {
                            var t = nt(this.first, 0),
                                r = this.first + this.size - 1;
                            po(this, {
                                from: t,
                                to: nt(r, $e(this, r).text.length),
                                text: this.splitLines(e),
                                origin: "setValue",
                                full: !0
                            }, !0), this.cm && Rn(this.cm, 0, 0), no(this, Oi(t), V)
                        })),
                        replaceRange: function(e, t, r, n) {
                            bo(this, e, t = ut(this, t), r = r ? ut(this, r) : t, n)
                        },
                        getRange: function(e, t, r) {
                            var n = Ye(this, ut(this, e), ut(this, t));
                            return !1 === r ? n : "" === r ? n.join("") : n.join(r || this.lineSeparator())
                        },
                        getLine: function(e) {
                            var t = this.getLineHandle(e);
                            return t && t.text
                        },
                        getLineHandle: function(e) {
                            if (tt(this, e)) return $e(this, e)
                        },
                        getLineNumber: function(e) {
                            return Qe(e)
                        },
                        getLineHandleVisualStart: function(e) {
                            return "number" == typeof e && (e = $e(this, e)), jt(e)
                        },
                        lineCount: function() {
                            return this.size
                        },
                        firstLine: function() {
                            return this.first
                        },
                        lastLine: function() {
                            return this.first + this.size - 1
                        },
                        clipPos: function(e) {
                            return ut(this, e)
                        },
                        getCursor: function(e) {
                            var t = this.sel.primary();
                            return null == e || "head" == e ? t.head : "anchor" == e ? t.anchor : "end" == e || "to" == e || !1 === e ? t.to() : t.from()
                        },
                        listSelections: function() {
                            return this.sel.ranges
                        },
                        somethingSelected: function() {
                            return this.sel.somethingSelected()
                        },
                        setCursor: oi((function(e, t, r) {
                            to(this, ut(this, "number" == typeof e ? nt(e, t || 0) : e), null, r)
                        })),
                        setSelection: oi((function(e, t, r) {
                            to(this, ut(this, e), ut(this, t || e), r)
                        })),
                        extendSelection: oi((function(e, t, r) {
                            Ji(this, ut(this, e), t && ut(this, t), r)
                        })),
                        extendSelections: oi((function(e, t) {
                            Qi(this, ft(this, e), t)
                        })),
                        extendSelectionsBy: oi((function(e, t) {
                            Qi(this, ft(this, J(this.sel.ranges, e)), t)
                        })),
                        setSelections: oi((function(e, t, r) {
                            if (e.length) {
                                for (var n = [], i = 0; i < e.length; i++) n[i] = new Ti(ut(this, e[i].anchor), ut(this, e[i].head || e[i].anchor));
                                null == t && (t = Math.min(e.length - 1, this.sel.primIndex)), no(this, Ei(this.cm, n, t), r)
                            }
                        })),
                        addSelection: oi((function(e, t, r) {
                            var n = this.sel.ranges.slice(0);
                            n.push(new Ti(ut(this, e), ut(this, t || e))), no(this, Ei(this.cm, n, n.length - 1), r)
                        })),
                        getSelection: function(e) {
                            for (var t, r = this.sel.ranges, n = 0; n < r.length; n++) {
                                var i = Ye(this, r[n].from(), r[n].to());
                                t = t ? t.concat(i) : i
                            }
                            return !1 === e ? t : t.join(e || this.lineSeparator())
                        },
                        getSelections: function(e) {
                            for (var t = [], r = this.sel.ranges, n = 0; n < r.length; n++) {
                                var i = Ye(this, r[n].from(), r[n].to());
                                !1 !== e && (i = i.join(e || this.lineSeparator())), t[n] = i
                            }
                            return t
                        },
                        replaceSelection: function(e, t, r) {
                            for (var n = [], i = 0; i < this.sel.ranges.length; i++) n[i] = e;
                            this.replaceSelections(n, t, r || "+input")
                        },
                        replaceSelections: oi((function(e, t, r) {
                            for (var n = [], i = this.sel, o = 0; o < i.ranges.length; o++) {
                                var a = i.ranges[o];
                                n[o] = {
                                    from: a.from(),
                                    to: a.to(),
                                    text: this.splitLines(e[o]),
                                    origin: r
                                }
                            }
                            for (var l = t && "end" != t && function(e, t, r) {
                                    for (var n = [], i = nt(e.first, 0), o = i, a = 0; a < t.length; a++) {
                                        var l = t[a],
                                            s = Wi(l.from, i, o),
                                            c = Wi(Ni(l), i, o);
                                        if (i = l.to, o = c, "around" == r) {
                                            var u = e.sel.ranges[a],
                                                f = it(u.head, u.anchor) < 0;
                                            n[a] = new Ti(f ? c : s, f ? s : c)
                                        } else n[a] = new Ti(s, s)
                                    }
                                    return new Li(n, e.sel.primIndex)
                                }(this, n, t), s = n.length - 1; s >= 0; s--) po(this, n[s]);
                            l ? ro(this, l) : this.cm && Dn(this.cm)
                        })),
                        undo: oi((function() {
                            vo(this, "undo")
                        })),
                        redo: oi((function() {
                            vo(this, "redo")
                        })),
                        undoSelection: oi((function() {
                            vo(this, "undo", !0)
                        })),
                        redoSelection: oi((function() {
                            vo(this, "redo", !0)
                        })),
                        setExtending: function(e) {
                            this.extend = e
                        },
                        getExtending: function() {
                            return this.extend
                        },
                        historySize: function() {
                            for (var e = this.history, t = 0, r = 0, n = 0; n < e.done.length; n++) e.done[n].ranges || ++t;
                            for (var i = 0; i < e.undone.length; i++) e.undone[i].ranges || ++r;
                            return {
                                undo: t,
                                redo: r
                            }
                        },
                        clearHistory: function() {
                            var e = this;
                            this.history = new ji(this.history), Fi(this, (function(t) {
                                return t.history = e.history
                            }), !0)
                        },
                        markClean: function() {
                            this.cleanGeneration = this.changeGeneration(!0)
                        },
                        changeGeneration: function(e) {
                            return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation
                        },
                        isClean: function(e) {
                            return this.history.generation == (e || this.cleanGeneration)
                        },
                        getHistory: function() {
                            return {
                                done: Yi(this.history.done),
                                undone: Yi(this.history.undone)
                            }
                        },
                        setHistory: function(e) {
                            var t = this.history = new ji(this.history);
                            t.done = Yi(e.done.slice(0), null, !0), t.undone = Yi(e.undone.slice(0), null, !0)
                        },
                        setGutterMarker: oi((function(e, t, r) {
                            return Co(this, e, "gutter", (function(e) {
                                var n = e.gutterMarkers || (e.gutterMarkers = {});
                                return n[t] = r, !r && ie(n) && (e.gutterMarkers = null), !0
                            }))
                        })),
                        clearGutter: oi((function(e) {
                            var t = this;
                            this.iter((function(r) {
                                r.gutterMarkers && r.gutterMarkers[e] && Co(t, r, "gutter", (function() {
                                    return r.gutterMarkers[e] = null, ie(r.gutterMarkers) && (r.gutterMarkers = null), !0
                                }))
                            }))
                        })),
                        lineInfo: function(e) {
                            var t;
                            if ("number" == typeof e) {
                                if (!tt(this, e)) return null;
                                if (t = e, !(e = $e(this, e))) return null
                            } else if (null == (t = Qe(e))) return null;
                            return {
                                line: t,
                                handle: e,
                                text: e.text,
                                gutterMarkers: e.gutterMarkers,
                                textClass: e.textClass,
                                bgClass: e.bgClass,
                                wrapClass: e.wrapClass,
                                widgets: e.widgets
                            }
                        },
                        addLineClass: oi((function(e, t, r) {
                            return Co(this, e, "gutter" == t ? "gutter" : "class", (function(e) {
                                var n = "text" == t ? "textClass" : "background" == t ? "bgClass" : "gutter" == t ? "gutterClass" : "wrapClass";
                                if (e[n]) {
                                    if (k(r).test(e[n])) return !1;
                                    e[n] += " " + r
                                } else e[n] = r;
                                return !0
                            }))
                        })),
                        removeLineClass: oi((function(e, t, r) {
                            return Co(this, e, "gutter" == t ? "gutter" : "class", (function(e) {
                                var n = "text" == t ? "textClass" : "background" == t ? "bgClass" : "gutter" == t ? "gutterClass" : "wrapClass",
                                    i = e[n];
                                if (!i) return !1;
                                if (null == r) e[n] = null;
                                else {
                                    var o = i.match(k(r));
                                    if (!o) return !1;
                                    var a = o.index + o[0].length;
                                    e[n] = i.slice(0, o.index) + (o.index && a != i.length ? " " : "") + i.slice(a) || null
                                }
                                return !0
                            }))
                        })),
                        addLineWidget: oi((function(e, t, r) {
                            return function(e, t, r, n) {
                                var i = new Lo(e, r, n),
                                    o = e.cm;
                                return o && i.noHScroll && (o.display.alignWidgets = !0), Co(e, t, "widget", (function(t) {
                                    var r = t.widgets || (t.widgets = []);
                                    if (null == i.insertAt ? r.push(i) : r.splice(Math.min(r.length, Math.max(0, i.insertAt)), 0, i), i.line = t, o && !Gt(e, t)) {
                                        var n = qt(t) < e.scrollTop;
                                        Je(t, t.height + Cr(i)), n && Wn(o, i.height), o.curOp.forceUpdate = !0
                                    }
                                    return !0
                                })), o && ur(o, "lineWidgetAdded", o, i, "number" == typeof t ? t : Qe(t)), i
                            }(this, e, t, r)
                        })),
                        removeLineWidget: function(e) {
                            e.clear()
                        },
                        markText: function(e, t, r) {
                            return No(this, ut(this, e), ut(this, t), r, r && r.type || "range")
                        },
                        setBookmark: function(e, t) {
                            var r = {
                                replacedWith: t && (null == t.nodeType ? t.widget : t),
                                insertLeft: t && t.insertLeft,
                                clearWhenEmpty: !1,
                                shared: t && t.shared,
                                handleMouseEvents: t && t.handleMouseEvents
                            };
                            return No(this, e = ut(this, e), e, r, "bookmark")
                        },
                        findMarksAt: function(e) {
                            var t = [],
                                r = $e(this, (e = ut(this, e)).line).markedSpans;
                            if (r)
                                for (var n = 0; n < r.length; ++n) {
                                    var i = r[n];
                                    (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker)
                                }
                            return t
                        },
                        findMarks: function(e, t, r) {
                            e = ut(this, e), t = ut(this, t);
                            var n = [],
                                i = e.line;
                            return this.iter(e.line, t.line + 1, (function(o) {
                                var a = o.markedSpans;
                                if (a)
                                    for (var l = 0; l < a.length; l++) {
                                        var s = a[l];
                                        null != s.to && i == e.line && e.ch >= s.to || null == s.from && i != e.line || null != s.from && i == t.line && s.from >= t.ch || r && !r(s.marker) || n.push(s.marker.parent || s.marker)
                                    }++i
                            })), n
                        },
                        getAllMarks: function() {
                            var e = [];
                            return this.iter((function(t) {
                                var r = t.markedSpans;
                                if (r)
                                    for (var n = 0; n < r.length; ++n) null != r[n].from && e.push(r[n].marker)
                            })), e
                        },
                        posFromIndex: function(e) {
                            var t, r = this.first,
                                n = this.lineSeparator().length;
                            return this.iter((function(i) {
                                var o = i.text.length + n;
                                if (o > e) return t = e, !0;
                                e -= o, ++r
                            })), ut(this, nt(r, t))
                        },
                        indexFromPos: function(e) {
                            var t = (e = ut(this, e)).ch;
                            if (e.line < this.first || e.ch < 0) return 0;
                            var r = this.lineSeparator().length;
                            return this.iter(this.first, e.line, (function(e) {
                                t += e.text.length + r
                            })), t
                        },
                        copy: function(e) {
                            var t = new Ro(Ze(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);
                            return t.scrollTop = this.scrollTop, t.scrollLeft = this.scrollLeft, t.sel = this.sel, t.extend = !1, e && (t.history.undoDepth = this.history.undoDepth, t.setHistory(this.getHistory())), t
                        },
                        linkedDoc: function(e) {
                            e || (e = {});
                            var t = this.first,
                                r = this.first + this.size;
                            null != e.from && e.from > t && (t = e.from), null != e.to && e.to < r && (r = e.to);
                            var n = new Ro(Ze(this, t, r), e.mode || this.modeOption, t, this.lineSep, this.direction);
                            return e.sharedHist && (n.history = this.history), (this.linked || (this.linked = [])).push({
                                    doc: n,
                                    sharedHist: e.sharedHist
                                }), n.linked = [{
                                    doc: this,
                                    isParent: !0,
                                    sharedHist: e.sharedHist
                                }],
                                function(e, t) {
                                    for (var r = 0; r < t.length; r++) {
                                        var n = t[r],
                                            i = n.find(),
                                            o = e.clipPos(i.from),
                                            a = e.clipPos(i.to);
                                        if (it(o, a)) {
                                            var l = No(e, o, a, n.primary, n.primary.type);
                                            n.markers.push(l), l.parent = n
                                        }
                                    }
                                }(n, Po(this)), n
                        },
                        unlinkDoc: function(e) {
                            if (e instanceof Ma && (e = e.doc), this.linked)
                                for (var t = 0; t < this.linked.length; ++t)
                                    if (this.linked[t].doc == e) {
                                        this.linked.splice(t, 1), e.unlinkDoc(this), Wo(Po(this));
                                        break
                                    } if (e.history == this.history) {
                                var r = [e.id];
                                Fi(e, (function(e) {
                                    return r.push(e.id)
                                }), !0), e.history = new ji(null), e.history.done = Yi(this.history.done, r), e.history.undone = Yi(this.history.undone, r)
                            }
                        },
                        iterLinkedDocs: function(e) {
                            Fi(this, e)
                        },
                        getMode: function() {
                            return this.mode
                        },
                        getEditor: function() {
                            return this.cm
                        },
                        splitLines: function(e) {
                            return this.lineSep ? e.split(this.lineSep) : De(e)
                        },
                        lineSeparator: function() {
                            return this.lineSep || "\n"
                        },
                        setDirection: oi((function(e) {
                            var t;
                            "rtl" != e && (e = "ltr"), e != this.direction && (this.direction = e, this.iter((function(e) {
                                return e.order = null
                            })), this.cm && ri(t = this.cm, (function() {
                                Hi(t), pn(t)
                            })))
                        }))
                    }), Ro.prototype.eachLine = Ro.prototype.iter;
                    var Io = 0;

                    function _o(e) {
                        var t = this;
                        if (Fo(t), !ye(t, e) && !Ar(t.display, e)) {
                            xe(e), a && (Io = +new Date);
                            var r = hn(t, e, !0),
                                n = e.dataTransfer.files;
                            if (r && !t.isReadOnly())
                                if (n && n.length && window.FileReader && window.File)
                                    for (var i = n.length, o = Array(i), l = 0, s = function() {
                                            ++l == i && ni(t, (function() {
                                                var e = {
                                                    from: r = ut(t.doc, r),
                                                    to: r,
                                                    text: t.doc.splitLines(o.filter((function(e) {
                                                        return null != e
                                                    })).join(t.doc.lineSeparator())),
                                                    origin: "paste"
                                                };
                                                po(t.doc, e), ro(t.doc, Oi(ut(t.doc, r), ut(t.doc, Ni(e))))
                                            }))()
                                        }, c = function(e, r) {
                                            if (t.options.allowDropFileTypes && -1 == U(t.options.allowDropFileTypes, e.type)) s();
                                            else {
                                                var n = new FileReader;
                                                n.onerror = function() {
                                                    return s()
                                                }, n.onload = function() {
                                                    var e = n.result;
                                                    /[\x00-\x08\x0e-\x1f]{2}/.test(e) || (o[r] = e), s()
                                                }, n.readAsText(e)
                                            }
                                        }, u = 0; u < n.length; u++) c(n[u], u);
                                else {
                                    if (t.state.draggingText && t.doc.sel.contains(r) > -1) return t.state.draggingText(e), void setTimeout((function() {
                                        return t.display.input.focus()
                                    }), 20);
                                    try {
                                        var f = e.dataTransfer.getData("Text");
                                        if (f) {
                                            var h;
                                            if (t.state.draggingText && !t.state.draggingText.copy && (h = t.listSelections()), io(t.doc, Oi(r, r)), h)
                                                for (var d = 0; d < h.length; ++d) bo(t.doc, "", h[d].anchor, h[d].head, "drag");
                                            t.replaceSelection(f, "around", "paste"), t.display.input.focus()
                                        }
                                    } catch (e) {}
                                }
                        }
                    }

                    function Fo(e) {
                        e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null)
                    }

                    function Bo(e) {
                        if (document.getElementsByClassName) {
                            for (var t = document.getElementsByClassName("CodeMirror"), r = [], n = 0; n < t.length; n++) {
                                var i = t[n].CodeMirror;
                                i && r.push(i)
                            }
                            r.length && r[0].operation((function() {
                                for (var t = 0; t < r.length; t++) e(r[t])
                            }))
                        }
                    }
                    var Ho = !1;

                    function jo() {
                        var e;
                        Ho || (pe(window, "resize", (function() {
                            null == e && (e = setTimeout((function() {
                                e = null, Bo(zo)
                            }), 100))
                        })), pe(window, "blur", (function() {
                            return Bo(En)
                        })), Ho = !0)
                    }

                    function zo(e) {
                        var t = e.display;
                        t.cachedCharWidth = t.cachedTextHeight = t.cachedPaddingH = null, t.scrollbarsClipped = !1, e.setSize()
                    }
                    for (var Uo = {
                            3: "Pause",
                            8: "Backspace",
                            9: "Tab",
                            13: "Enter",
                            16: "Shift",
                            17: "Ctrl",
                            18: "Alt",
                            19: "Pause",
                            20: "CapsLock",
                            27: "Esc",
                            32: "Space",
                            33: "PageUp",
                            34: "PageDown",
                            35: "End",
                            36: "Home",
                            37: "Left",
                            38: "Up",
                            39: "Right",
                            40: "Down",
                            44: "PrintScrn",
                            45: "Insert",
                            46: "Delete",
                            59: ";",
                            61: "=",
                            91: "Mod",
                            92: "Mod",
                            93: "Mod",
                            106: "*",
                            107: "=",
                            109: "-",
                            110: ".",
                            111: "/",
                            145: "ScrollLock",
                            173: "-",
                            186: ";",
                            187: "=",
                            188: ",",
                            189: "-",
                            190: ".",
                            191: "/",
                            192: "`",
                            219: "[",
                            220: "\\",
                            221: "]",
                            222: "'",
                            224: "Mod",
                            63232: "Up",
                            63233: "Down",
                            63234: "Left",
                            63235: "Right",
                            63272: "Delete",
                            63273: "Home",
                            63275: "End",
                            63276: "PageUp",
                            63277: "PageDown",
                            63302: "Insert"
                        }, Go = 0; Go < 10; Go++) Uo[Go + 48] = Uo[Go + 96] = String(Go);
                    for (var Vo = 65; Vo <= 90; Vo++) Uo[Vo] = String.fromCharCode(Vo);
                    for (var qo = 1; qo <= 12; qo++) Uo[qo + 111] = Uo[qo + 63235] = "F" + qo;
                    var Ko = {};

                    function Xo(e) {
                        var t, r, n, i, o = e.split(/-(?!$)/);
                        e = o[o.length - 1];
                        for (var a = 0; a < o.length - 1; a++) {
                            var l = o[a];
                            if (/^(cmd|meta|m)$/i.test(l)) i = !0;
                            else if (/^a(lt)?$/i.test(l)) t = !0;
                            else if (/^(c|ctrl|control)$/i.test(l)) r = !0;
                            else {
                                if (!/^s(hift)?$/i.test(l)) throw new Error("Unrecognized modifier name: " + l);
                                n = !0
                            }
                        }
                        return t && (e = "Alt-" + e), r && (e = "Ctrl-" + e), i && (e = "Cmd-" + e), n && (e = "Shift-" + e), e
                    }

                    function $o(e) {
                        var t = {};
                        for (var r in e)
                            if (e.hasOwnProperty(r)) {
                                var n = e[r];
                                if (/^(name|fallthrough|(de|at)tach)$/.test(r)) continue;
                                if ("..." == n) {
                                    delete e[r];
                                    continue
                                }
                                for (var i = J(r.split(" "), Xo), o = 0; o < i.length; o++) {
                                    var a = void 0,
                                        l = void 0;
                                    o == i.length - 1 ? (l = i.join(" "), a = n) : (l = i.slice(0, o + 1).join(" "), a = "...");
                                    var s = t[l];
                                    if (s) {
                                        if (s != a) throw new Error("Inconsistent bindings for " + l)
                                    } else t[l] = a
                                }
                                delete e[r]
                            } for (var c in t) e[c] = t[c];
                        return e
                    }

                    function Yo(e, t, r, n) {
                        var i = (t = ea(t)).call ? t.call(e, n) : t[e];
                        if (!1 === i) return "nothing";
                        if ("..." === i) return "multi";
                        if (null != i && r(i)) return "handled";
                        if (t.fallthrough) {
                            if ("[object Array]" != Object.prototype.toString.call(t.fallthrough)) return Yo(e, t.fallthrough, r, n);
                            for (var o = 0; o < t.fallthrough.length; o++) {
                                var a = Yo(e, t.fallthrough[o], r, n);
                                if (a) return a
                            }
                        }
                    }

                    function Zo(e) {
                        var t = "string" == typeof e ? e : Uo[e.keyCode];
                        return "Ctrl" == t || "Alt" == t || "Shift" == t || "Mod" == t
                    }

                    function Jo(e, t, r) {
                        var n = e;
                        return t.altKey && "Alt" != n && (e = "Alt-" + e), (C ? t.metaKey : t.ctrlKey) && "Ctrl" != n && (e = "Ctrl-" + e), (C ? t.ctrlKey : t.metaKey) && "Mod" != n && (e = "Cmd-" + e), !r && t.shiftKey && "Shift" != n && (e = "Shift-" + e), e
                    }

                    function Qo(e, t) {
                        if (h && 34 == e.keyCode && e.char) return !1;
                        var r = Uo[e.keyCode];
                        return null != r && !e.altGraphKey && (3 == e.keyCode && e.code && (r = e.code), Jo(r, e, t))
                    }

                    function ea(e) {
                        return "string" == typeof e ? Ko[e] : e
                    }

                    function ta(e, t) {
                        for (var r = e.doc.sel.ranges, n = [], i = 0; i < r.length; i++) {
                            for (var o = t(r[i]); n.length && it(o.from, Z(n).to) <= 0;) {
                                var a = n.pop();
                                if (it(a.from, o.from) < 0) {
                                    o.from = a.from;
                                    break
                                }
                            }
                            n.push(o)
                        }
                        ri(e, (function() {
                            for (var t = n.length - 1; t >= 0; t--) bo(e.doc, "", n[t].from, n[t].to, "+delete");
                            Dn(e)
                        }))
                    }

                    function ra(e, t, r) {
                        var n = le(e.text, t + r, r);
                        return n < 0 || n > e.text.length ? null : n
                    }

                    function na(e, t, r) {
                        var n = ra(e, t.ch, r);
                        return null == n ? null : new nt(t.line, n, r < 0 ? "after" : "before")
                    }

                    function ia(e, t, r, n, i) {
                        if (e) {
                            "rtl" == t.doc.direction && (i = -i);
                            var o = he(r, t.doc.direction);
                            if (o) {
                                var a, l = i < 0 ? Z(o) : o[0],
                                    s = i < 0 == (1 == l.level) ? "after" : "before";
                                if (l.level > 0 || "rtl" == t.doc.direction) {
                                    var c = Dr(t, r);
                                    a = i < 0 ? r.text.length - 1 : 0;
                                    var u = Rr(t, c, a).top;
                                    a = se((function(e) {
                                        return Rr(t, c, e).top == u
                                    }), i < 0 == (1 == l.level) ? l.from : l.to - 1, a), "before" == s && (a = ra(r, a, 1))
                                } else a = i < 0 ? l.to : l.from;
                                return new nt(n, a, s)
                            }
                        }
                        return new nt(n, i < 0 ? r.text.length : 0, i < 0 ? "before" : "after")
                    }
                    Ko.basic = {
                        Left: "goCharLeft",
                        Right: "goCharRight",
                        Up: "goLineUp",
                        Down: "goLineDown",
                        End: "goLineEnd",
                        Home: "goLineStartSmart",
                        PageUp: "goPageUp",
                        PageDown: "goPageDown",
                        Delete: "delCharAfter",
                        Backspace: "delCharBefore",
                        "Shift-Backspace": "delCharBefore",
                        Tab: "defaultTab",
                        "Shift-Tab": "indentAuto",
                        Enter: "newlineAndIndent",
                        Insert: "toggleOverwrite",
                        Esc: "singleSelection"
                    }, Ko.pcDefault = {
                        "Ctrl-A": "selectAll",
                        "Ctrl-D": "deleteLine",
                        "Ctrl-Z": "undo",
                        "Shift-Ctrl-Z": "redo",
                        "Ctrl-Y": "redo",
                        "Ctrl-Home": "goDocStart",
                        "Ctrl-End": "goDocEnd",
                        "Ctrl-Up": "goLineUp",
                        "Ctrl-Down": "goLineDown",
                        "Ctrl-Left": "goGroupLeft",
                        "Ctrl-Right": "goGroupRight",
                        "Alt-Left": "goLineStart",
                        "Alt-Right": "goLineEnd",
                        "Ctrl-Backspace": "delGroupBefore",
                        "Ctrl-Delete": "delGroupAfter",
                        "Ctrl-S": "save",
                        "Ctrl-F": "find",
                        "Ctrl-G": "findNext",
                        "Shift-Ctrl-G": "findPrev",
                        "Shift-Ctrl-F": "replace",
                        "Shift-Ctrl-R": "replaceAll",
                        "Ctrl-[": "indentLess",
                        "Ctrl-]": "indentMore",
                        "Ctrl-U": "undoSelection",
                        "Shift-Ctrl-U": "redoSelection",
                        "Alt-U": "redoSelection",
                        fallthrough: "basic"
                    }, Ko.emacsy = {
                        "Ctrl-F": "goCharRight",
                        "Ctrl-B": "goCharLeft",
                        "Ctrl-P": "goLineUp",
                        "Ctrl-N": "goLineDown",
                        "Ctrl-A": "goLineStart",
                        "Ctrl-E": "goLineEnd",
                        "Ctrl-V": "goPageDown",
                        "Shift-Ctrl-V": "goPageUp",
                        "Ctrl-D": "delCharAfter",
                        "Ctrl-H": "delCharBefore",
                        "Alt-Backspace": "delWordBefore",
                        "Ctrl-K": "killLine",
                        "Ctrl-T": "transposeChars",
                        "Ctrl-O": "openLine"
                    }, Ko.macDefault = {
                        "Cmd-A": "selectAll",
                        "Cmd-D": "deleteLine",
                        "Cmd-Z": "undo",
                        "Shift-Cmd-Z": "redo",
                        "Cmd-Y": "redo",
                        "Cmd-Home": "goDocStart",
                        "Cmd-Up": "goDocStart",
                        "Cmd-End": "goDocEnd",
                        "Cmd-Down": "goDocEnd",
                        "Alt-Left": "goGroupLeft",
                        "Alt-Right": "goGroupRight",
                        "Cmd-Left": "goLineLeft",
                        "Cmd-Right": "goLineRight",
                        "Alt-Backspace": "delGroupBefore",
                        "Ctrl-Alt-Backspace": "delGroupAfter",
                        "Alt-Delete": "delGroupAfter",
                        "Cmd-S": "save",
                        "Cmd-F": "find",
                        "Cmd-G": "findNext",
                        "Shift-Cmd-G": "findPrev",
                        "Cmd-Alt-F": "replace",
                        "Shift-Cmd-Alt-F": "replaceAll",
                        "Cmd-[": "indentLess",
                        "Cmd-]": "indentMore",
                        "Cmd-Backspace": "delWrappedLineLeft",
                        "Cmd-Delete": "delWrappedLineRight",
                        "Cmd-U": "undoSelection",
                        "Shift-Cmd-U": "redoSelection",
                        "Ctrl-Up": "goDocStart",
                        "Ctrl-Down": "goDocEnd",
                        fallthrough: ["basic", "emacsy"]
                    }, Ko.default = b ? Ko.macDefault : Ko.pcDefault;
                    var oa = {
                        selectAll: fo,
                        singleSelection: function(e) {
                            return e.setSelection(e.getCursor("anchor"), e.getCursor("head"), V)
                        },
                        killLine: function(e) {
                            return ta(e, (function(t) {
                                if (t.empty()) {
                                    var r = $e(e.doc, t.head.line).text.length;
                                    return t.head.ch == r && t.head.line < e.lastLine() ? {
                                        from: t.head,
                                        to: nt(t.head.line + 1, 0)
                                    } : {
                                        from: t.head,
                                        to: nt(t.head.line, r)
                                    }
                                }
                                return {
                                    from: t.from(),
                                    to: t.to()
                                }
                            }))
                        },
                        deleteLine: function(e) {
                            return ta(e, (function(t) {
                                return {
                                    from: nt(t.from().line, 0),
                                    to: ut(e.doc, nt(t.to().line + 1, 0))
                                }
                            }))
                        },
                        delLineLeft: function(e) {
                            return ta(e, (function(e) {
                                return {
                                    from: nt(e.from().line, 0),
                                    to: e.from()
                                }
                            }))
                        },
                        delWrappedLineLeft: function(e) {
                            return ta(e, (function(t) {
                                var r = e.charCoords(t.head, "div").top + 5;
                                return {
                                    from: e.coordsChar({
                                        left: 0,
                                        top: r
                                    }, "div"),
                                    to: t.from()
                                }
                            }))
                        },
                        delWrappedLineRight: function(e) {
                            return ta(e, (function(t) {
                                var r = e.charCoords(t.head, "div").top + 5,
                                    n = e.coordsChar({
                                        left: e.display.lineDiv.offsetWidth + 100,
                                        top: r
                                    }, "div");
                                return {
                                    from: t.from(),
                                    to: n
                                }
                            }))
                        },
                        undo: function(e) {
                            return e.undo()
                        },
                        redo: function(e) {
                            return e.redo()
                        },
                        undoSelection: function(e) {
                            return e.undoSelection()
                        },
                        redoSelection: function(e) {
                            return e.redoSelection()
                        },
                        goDocStart: function(e) {
                            return e.extendSelection(nt(e.firstLine(), 0))
                        },
                        goDocEnd: function(e) {
                            return e.extendSelection(nt(e.lastLine()))
                        },
                        goLineStart: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                return aa(e, t.head.line)
                            }), {
                                origin: "+move",
                                bias: 1
                            })
                        },
                        goLineStartSmart: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                return la(e, t.head)
                            }), {
                                origin: "+move",
                                bias: 1
                            })
                        },
                        goLineEnd: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                return function(e, t) {
                                    var r = $e(e.doc, t),
                                        n = function(e) {
                                            for (var t; t = Ft(e);) e = t.find(1, !0).line;
                                            return e
                                        }(r);
                                    return n != r && (t = Qe(n)), ia(!0, e, r, t, -1)
                                }(e, t.head.line)
                            }), {
                                origin: "+move",
                                bias: -1
                            })
                        },
                        goLineRight: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                var r = e.cursorCoords(t.head, "div").top + 5;
                                return e.coordsChar({
                                    left: e.display.lineDiv.offsetWidth + 100,
                                    top: r
                                }, "div")
                            }), K)
                        },
                        goLineLeft: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                var r = e.cursorCoords(t.head, "div").top + 5;
                                return e.coordsChar({
                                    left: 0,
                                    top: r
                                }, "div")
                            }), K)
                        },
                        goLineLeftSmart: function(e) {
                            return e.extendSelectionsBy((function(t) {
                                var r = e.cursorCoords(t.head, "div").top + 5,
                                    n = e.coordsChar({
                                        left: 0,
                                        top: r
                                    }, "div");
                                return n.ch < e.getLine(n.line).search(/\S/) ? la(e, t.head) : n
                            }), K)
                        },
                        goLineUp: function(e) {
                            return e.moveV(-1, "line")
                        },
                        goLineDown: function(e) {
                            return e.moveV(1, "line")
                        },
                        goPageUp: function(e) {
                            return e.moveV(-1, "page")
                        },
                        goPageDown: function(e) {
                            return e.moveV(1, "page")
                        },
                        goCharLeft: function(e) {
                            return e.moveH(-1, "char")
                        },
                        goCharRight: function(e) {
                            return e.moveH(1, "char")
                        },
                        goColumnLeft: function(e) {
                            return e.moveH(-1, "column")
                        },
                        goColumnRight: function(e) {
                            return e.moveH(1, "column")
                        },
                        goWordLeft: function(e) {
                            return e.moveH(-1, "word")
                        },
                        goGroupRight: function(e) {
                            return e.moveH(1, "group")
                        },
                        goGroupLeft: function(e) {
                            return e.moveH(-1, "group")
                        },
                        goWordRight: function(e) {
                            return e.moveH(1, "word")
                        },
                        delCharBefore: function(e) {
                            return e.deleteH(-1, "codepoint")
                        },
                        delCharAfter: function(e) {
                            return e.deleteH(1, "char")
                        },
                        delWordBefore: function(e) {
                            return e.deleteH(-1, "word")
                        },
                        delWordAfter: function(e) {
                            return e.deleteH(1, "word")
                        },
                        delGroupBefore: function(e) {
                            return e.deleteH(-1, "group")
                        },
                        delGroupAfter: function(e) {
                            return e.deleteH(1, "group")
                        },
                        indentAuto: function(e) {
                            return e.indentSelection("smart")
                        },
                        indentMore: function(e) {
                            return e.indentSelection("add")
                        },
                        indentLess: function(e) {
                            return e.indentSelection("subtract")
                        },
                        insertTab: function(e) {
                            return e.replaceSelection("\t")
                        },
                        insertSoftTab: function(e) {
                            for (var t = [], r = e.listSelections(), n = e.options.tabSize, i = 0; i < r.length; i++) {
                                var o = r[i].from(),
                                    a = j(e.getLine(o.line), o.ch, n);
                                t.push(Y(n - a % n))
                            }
                            e.replaceSelections(t)
                        },
                        defaultTab: function(e) {
                            e.somethingSelected() ? e.indentSelection("add") : e.execCommand("insertTab")
                        },
                        transposeChars: function(e) {
                            return ri(e, (function() {
                                for (var t = e.listSelections(), r = [], n = 0; n < t.length; n++)
                                    if (t[n].empty()) {
                                        var i = t[n].head,
                                            o = $e(e.doc, i.line).text;
                                        if (o)
                                            if (i.ch == o.length && (i = new nt(i.line, i.ch - 1)), i.ch > 0) i = new nt(i.line, i.ch + 1), e.replaceRange(o.charAt(i.ch - 1) + o.charAt(i.ch - 2), nt(i.line, i.ch - 2), i, "+transpose");
                                            else if (i.line > e.doc.first) {
                                            var a = $e(e.doc, i.line - 1).text;
                                            a && (i = new nt(i.line, 1), e.replaceRange(o.charAt(0) + e.doc.lineSeparator() + a.charAt(a.length - 1), nt(i.line - 1, a.length - 1), i, "+transpose"))
                                        }
                                        r.push(new Ti(i, i))
                                    } e.setSelections(r)
                            }))
                        },
                        newlineAndIndent: function(e) {
                            return ri(e, (function() {
                                for (var t = e.listSelections(), r = t.length - 1; r >= 0; r--) e.replaceRange(e.doc.lineSeparator(), t[r].anchor, t[r].head, "+input");
                                t = e.listSelections();
                                for (var n = 0; n < t.length; n++) e.indentLine(t[n].from().line, null, !0);
                                Dn(e)
                            }))
                        },
                        openLine: function(e) {
                            return e.replaceSelection("\n", "start")
                        },
                        toggleOverwrite: function(e) {
                            return e.toggleOverwrite()
                        }
                    };

                    function aa(e, t) {
                        var r = $e(e.doc, t),
                            n = jt(r);
                        return n != r && (t = Qe(n)), ia(!0, e, n, t, 1)
                    }

                    function la(e, t) {
                        var r = aa(e, t.line),
                            n = $e(e.doc, r.line),
                            i = he(n, e.doc.direction);
                        if (!i || 0 == i[0].level) {
                            var o = Math.max(r.ch, n.text.search(/\S/)),
                                a = t.line == r.line && t.ch <= o && t.ch;
                            return nt(r.line, a ? 0 : o, r.sticky)
                        }
                        return r
                    }

                    function sa(e, t, r) {
                        if ("string" == typeof t && !(t = oa[t])) return !1;
                        e.display.input.ensurePolled();
                        var n = e.display.shift,
                            i = !1;
                        try {
                            e.isReadOnly() && (e.state.suppressEdits = !0), r && (e.display.shift = !1), i = t(e) != G
                        } finally {
                            e.display.shift = n, e.state.suppressEdits = !1
                        }
                        return i
                    }
                    var ca = new z;

                    function ua(e, t, r, n) {
                        var i = e.state.keySeq;
                        if (i) {
                            if (Zo(t)) return "handled";
                            if (/\'$/.test(t) ? e.state.keySeq = null : ca.set(50, (function() {
                                    e.state.keySeq == i && (e.state.keySeq = null, e.display.input.reset())
                                })), fa(e, i + " " + t, r, n)) return !0
                        }
                        return fa(e, t, r, n)
                    }

                    function fa(e, t, r, n) {
                        var i = function(e, t, r) {
                            for (var n = 0; n < e.state.keyMaps.length; n++) {
                                var i = Yo(t, e.state.keyMaps[n], r, e);
                                if (i) return i
                            }
                            return e.options.extraKeys && Yo(t, e.options.extraKeys, r, e) || Yo(t, e.options.keyMap, r, e)
                        }(e, t, n);
                        return "multi" == i && (e.state.keySeq = t), "handled" == i && ur(e, "keyHandled", e, t, r), "handled" != i && "multi" != i || (xe(r), An(e)), !!i
                    }

                    function ha(e, t) {
                        var r = Qo(t, !0);
                        return !!r && (t.shiftKey && !e.state.keySeq ? ua(e, "Shift-" + r, t, (function(t) {
                            return sa(e, t, !0)
                        })) || ua(e, r, t, (function(t) {
                            if ("string" == typeof t ? /^go[A-Z]/.test(t) : t.motion) return sa(e, t)
                        })) : ua(e, r, t, (function(t) {
                            return sa(e, t)
                        })))
                    }
                    var da = null;

                    function pa(e) {
                        var t = this;
                        if (!(e.target && e.target != t.display.input.getField() || (t.curOp.focus = W(_(t)), ye(t, e)))) {
                            a && l < 11 && 27 == e.keyCode && (e.returnValue = !1);
                            var n = e.keyCode;
                            t.display.shift = 16 == n || e.shiftKey;
                            var i = ha(t, e);
                            h && (da = i ? n : null, i || 88 != n || Ie || !(b ? e.metaKey : e.ctrlKey) || t.replaceSelection("", null, "cut")), r && !b && !i && 46 == n && e.shiftKey && !e.ctrlKey && document.execCommand && document.execCommand("cut"), 18 != n || /\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className) || function(e) {
                                var t = e.display.lineDiv;

                                function r(e) {
                                    18 != e.keyCode && e.altKey || (T(t, "CodeMirror-crosshair"), ve(document, "keyup", r), ve(document, "mouseover", r))
                                }
                                D(t, "CodeMirror-crosshair"), pe(document, "keyup", r), pe(document, "mouseover", r)
                            }(t)
                        }
                    }

                    function ga(e) {
                        16 == e.keyCode && (this.doc.sel.shift = !1), ye(this, e)
                    }

                    function va(e) {
                        var t = this;
                        if (!(e.target && e.target != t.display.input.getField() || Ar(t.display, e) || ye(t, e) || e.ctrlKey && !e.altKey || b && e.metaKey)) {
                            var r = e.keyCode,
                                n = e.charCode;
                            if (h && r == da) return da = null, void xe(e);
                            if (!h || e.which && !(e.which < 10) || !ha(t, e)) {
                                var i = String.fromCharCode(null == n ? r : n);
                                "\b" != i && (function(e, t, r) {
                                    return ua(e, "'" + r + "'", t, (function(t) {
                                        return sa(e, t, !0)
                                    }))
                                }(t, e, i) || t.display.input.onKeyPress(e))
                            }
                        }
                    }
                    var ma, ya, ba = function(e, t, r) {
                        this.time = e, this.pos = t, this.button = r
                    };

                    function wa(e) {
                        var t = this,
                            r = t.display;
                        if (!(ye(t, e) || r.activeTouch && r.input.supportsTouch()))
                            if (r.input.ensurePolled(), r.shift = e.shiftKey, Ar(r, e)) s || (r.scroller.draggable = !1, setTimeout((function() {
                                return r.scroller.draggable = !0
                            }), 100));
                            else if (!Ca(t, e)) {
                            var n = hn(t, e),
                                i = Te(e),
                                o = n ? function(e, t) {
                                    var r = +new Date;
                                    return ya && ya.compare(r, e, t) ? (ma = ya = null, "triple") : ma && ma.compare(r, e, t) ? (ya = new ba(r, e, t), ma = null, "double") : (ma = new ba(r, e, t), ya = null, "single")
                                }(n, i) : "single";
                            F(t).focus(), 1 == i && t.state.selectingText && t.state.selectingText(e), n && function(e, t, r, n, i) {
                                var o = "Click";
                                return "double" == n ? o = "Double" + o : "triple" == n && (o = "Triple" + o), ua(e, Jo(o = (1 == t ? "Left" : 2 == t ? "Middle" : "Right") + o, i), i, (function(t) {
                                    if ("string" == typeof t && (t = oa[t]), !t) return !1;
                                    var n = !1;
                                    try {
                                        e.isReadOnly() && (e.state.suppressEdits = !0), n = t(e, r) != G
                                    } finally {
                                        e.state.suppressEdits = !1
                                    }
                                    return n
                                }))
                            }(t, i, n, o, e) || (1 == i ? n ? function(e, t, r, n) {
                                a ? setTimeout(B(kn, e), 0) : e.curOp.focus = W(_(e));
                                var i, o = function(e, t, r) {
                                        var n = e.getOption("configureMouse"),
                                            i = n ? n(e, t, r) : {};
                                        if (null == i.unit) {
                                            var o = w ? r.shiftKey && r.metaKey : r.altKey;
                                            i.unit = o ? "rectangle" : "single" == t ? "char" : "double" == t ? "word" : "line"
                                        }
                                        return (null == i.extend || e.doc.extend) && (i.extend = e.doc.extend || r.shiftKey), null == i.addNew && (i.addNew = b ? r.metaKey : r.ctrlKey), null == i.moveOnDrag && (i.moveOnDrag = !(b ? r.altKey : r.ctrlKey)), i
                                    }(e, r, n),
                                    c = e.doc.sel;
                                e.options.dragDrop && Ne && !e.isReadOnly() && "single" == r && (i = c.contains(t)) > -1 && (it((i = c.ranges[i]).from(), t) < 0 || t.xRel > 0) && (it(i.to(), t) > 0 || t.xRel < 0) ? function(e, t, r, n) {
                                    var i = e.display,
                                        o = !1,
                                        c = ni(e, (function(t) {
                                            s && (i.scroller.draggable = !1), e.state.draggingText = !1, e.state.delayingBlurEvent && (e.hasFocus() ? e.state.delayingBlurEvent = !1 : Ln(e)), ve(i.wrapper.ownerDocument, "mouseup", c), ve(i.wrapper.ownerDocument, "mousemove", u), ve(i.scroller, "dragstart", f), ve(i.scroller, "drop", c), o || (xe(t), n.addNew || Ji(e.doc, r, null, null, n.extend), s && !d || a && 9 == l ? setTimeout((function() {
                                                i.wrapper.ownerDocument.body.focus({
                                                    preventScroll: !0
                                                }), i.input.focus()
                                            }), 20) : i.input.focus())
                                        })),
                                        u = function(e) {
                                            o = o || Math.abs(t.clientX - e.clientX) + Math.abs(t.clientY - e.clientY) >= 10
                                        },
                                        f = function() {
                                            return o = !0
                                        };
                                    s && (i.scroller.draggable = !0), e.state.draggingText = c, c.copy = !n.moveOnDrag, pe(i.wrapper.ownerDocument, "mouseup", c), pe(i.wrapper.ownerDocument, "mousemove", u), pe(i.scroller, "dragstart", f), pe(i.scroller, "drop", c), e.state.delayingBlurEvent = !0, setTimeout((function() {
                                        return i.input.focus()
                                    }), 20), i.scroller.dragDrop && i.scroller.dragDrop()
                                }(e, n, t, o) : function(e, t, r, n) {
                                    a && Ln(e);
                                    var i = e.display,
                                        o = e.doc;
                                    xe(t);
                                    var l, s, c = o.sel,
                                        u = c.ranges;
                                    if (n.addNew && !n.extend ? (s = o.sel.contains(r), l = s > -1 ? u[s] : new Ti(r, r)) : (l = o.sel.primary(), s = o.sel.primIndex), "rectangle" == n.unit) n.addNew || (l = new Ti(r, r)), r = hn(e, t, !0, !0), s = -1;
                                    else {
                                        var f = Sa(e, r, n.unit);
                                        l = n.extend ? Zi(l, f.anchor, f.head, n.extend) : f
                                    }
                                    n.addNew ? -1 == s ? (s = u.length, no(o, Ei(e, u.concat([l]), s), {
                                        scroll: !1,
                                        origin: "*mouse"
                                    })) : u.length > 1 && u[s].empty() && "char" == n.unit && !n.extend ? (no(o, Ei(e, u.slice(0, s).concat(u.slice(s + 1)), 0), {
                                        scroll: !1,
                                        origin: "*mouse"
                                    }), c = o.sel) : eo(o, s, l, q) : (s = 0, no(o, new Li([l], 0), q), c = o.sel);
                                    var h = r;

                                    function d(t) {
                                        if (0 != it(h, t))
                                            if (h = t, "rectangle" == n.unit) {
                                                for (var i = [], a = e.options.tabSize, u = j($e(o, r.line).text, r.ch, a), f = j($e(o, t.line).text, t.ch, a), d = Math.min(u, f), p = Math.max(u, f), g = Math.min(r.line, t.line), v = Math.min(e.lastLine(), Math.max(r.line, t.line)); g <= v; g++) {
                                                    var m = $e(o, g).text,
                                                        y = X(m, d, a);
                                                    d == p ? i.push(new Ti(nt(g, y), nt(g, y))) : m.length > y && i.push(new Ti(nt(g, y), nt(g, X(m, p, a))))
                                                }
                                                i.length || i.push(new Ti(r, r)), no(o, Ei(e, c.ranges.slice(0, s).concat(i), s), {
                                                    origin: "*mouse",
                                                    scroll: !1
                                                }), e.scrollIntoView(t)
                                            } else {
                                                var b, w = l,
                                                    S = Sa(e, t, n.unit),
                                                    x = w.anchor;
                                                it(S.anchor, x) > 0 ? (b = S.head, x = st(w.from(), S.anchor)) : (b = S.anchor, x = lt(w.to(), S.head));
                                                var C = c.ranges.slice(0);
                                                C[s] = function(e, t) {
                                                    var r = t.anchor,
                                                        n = t.head,
                                                        i = $e(e.doc, r.line);
                                                    if (0 == it(r, n) && r.sticky == n.sticky) return t;
                                                    var o = he(i);
                                                    if (!o) return t;
                                                    var a = ue(o, r.ch, r.sticky),
                                                        l = o[a];
                                                    if (l.from != r.ch && l.to != r.ch) return t;
                                                    var s, c = a + (l.from == r.ch == (1 != l.level) ? 0 : 1);
                                                    if (0 == c || c == o.length) return t;
                                                    if (n.line != r.line) s = (n.line - r.line) * ("ltr" == e.doc.direction ? 1 : -1) > 0;
                                                    else {
                                                        var u = ue(o, n.ch, n.sticky),
                                                            f = u - a || (n.ch - r.ch) * (1 == l.level ? -1 : 1);
                                                        s = u == c - 1 || u == c ? f < 0 : f > 0
                                                    }
                                                    var h = o[c + (s ? -1 : 0)],
                                                        d = s == (1 == h.level),
                                                        p = d ? h.from : h.to,
                                                        g = d ? "after" : "before";
                                                    return r.ch == p && r.sticky == g ? t : new Ti(new nt(r.line, p, g), n)
                                                }(e, new Ti(ut(o, x), b)), no(o, Ei(e, C, s), q)
                                            }
                                    }
                                    var p = i.wrapper.getBoundingClientRect(),
                                        g = 0;

                                    function v(t) {
                                        var r = ++g,
                                            a = hn(e, t, !0, "rectangle" == n.unit);
                                        if (a)
                                            if (0 != it(a, h)) {
                                                e.curOp.focus = W(_(e)), d(a);
                                                var l = Mn(i, o);
                                                (a.line >= l.to || a.line < l.from) && setTimeout(ni(e, (function() {
                                                    g == r && v(t)
                                                })), 150)
                                            } else {
                                                var s = t.clientY < p.top ? -20 : t.clientY > p.bottom ? 20 : 0;
                                                s && setTimeout(ni(e, (function() {
                                                    g == r && (i.scroller.scrollTop += s, v(t))
                                                })), 50)
                                            }
                                    }

                                    function m(t) {
                                        e.state.selectingText = !1, g = 1 / 0, t && (xe(t), i.input.focus()), ve(i.wrapper.ownerDocument, "mousemove", y), ve(i.wrapper.ownerDocument, "mouseup", b), o.history.lastSelOrigin = null
                                    }
                                    var y = ni(e, (function(e) {
                                            0 !== e.buttons && Te(e) ? v(e) : m(e)
                                        })),
                                        b = ni(e, m);
                                    e.state.selectingText = b, pe(i.wrapper.ownerDocument, "mousemove", y), pe(i.wrapper.ownerDocument, "mouseup", b)
                                }(e, n, t, o)
                            }(t, n, o, e) : Le(e) == r.scroller && xe(e) : 2 == i ? (n && Ji(t.doc, n), setTimeout((function() {
                                return r.input.focus()
                            }), 20)) : 3 == i && (A ? t.display.input.onContextMenu(e) : Ln(t)))
                        }
                    }

                    function Sa(e, t, r) {
                        if ("char" == r) return new Ti(t, t);
                        if ("word" == r) return e.findWordAt(t);
                        if ("line" == r) return new Ti(nt(t.line, 0), ut(e.doc, nt(t.line + 1, 0)));
                        var n = r(e, t);
                        return new Ti(n.from, n.to)
                    }

                    function xa(e, t, r, n) {
                        var i, o;
                        if (t.touches) i = t.touches[0].clientX, o = t.touches[0].clientY;
                        else try {
                            i = t.clientX, o = t.clientY
                        } catch (e) {
                            return !1
                        }
                        if (i >= Math.floor(e.display.gutters.getBoundingClientRect().right)) return !1;
                        n && xe(t);
                        var a = e.display,
                            l = a.lineDiv.getBoundingClientRect();
                        if (o > l.bottom || !we(e, r)) return Ae(t);
                        o -= l.top - a.viewOffset;
                        for (var s = 0; s < e.display.gutterSpecs.length; ++s) {
                            var c = a.gutters.childNodes[s];
                            if (c && c.getBoundingClientRect().right >= i) return me(e, r, e, et(e.doc, o), e.display.gutterSpecs[s].className, t), Ae(t)
                        }
                    }

                    function Ca(e, t) {
                        return xa(e, t, "gutterClick", !0)
                    }

                    function Aa(e, t) {
                        Ar(e.display, t) || function(e, t) {
                            return !!we(e, "gutterContextMenu") && xa(e, t, "gutterContextMenu", !1)
                        }(e, t) || ye(e, t, "contextmenu") || A || e.display.input.onContextMenu(t)
                    }

                    function ka(e) {
                        e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), zr(e)
                    }
                    ba.prototype.compare = function(e, t, r) {
                        return this.time + 400 > e && 0 == it(t, this.pos) && r == this.button
                    };
                    var La = {
                            toString: function() {
                                return "CodeMirror.Init"
                            }
                        },
                        Ta = {},
                        Ea = {};

                    function Oa(e, t, r) {
                        if (!t != !(r && r != La)) {
                            var n = e.display.dragFunctions,
                                i = t ? pe : ve;
                            i(e.display.scroller, "dragstart", n.start), i(e.display.scroller, "dragenter", n.enter), i(e.display.scroller, "dragover", n.over), i(e.display.scroller, "dragleave", n.leave), i(e.display.scroller, "drop", n.drop)
                        }
                    }

                    function Na(e) {
                        e.options.lineWrapping ? (D(e.display.wrapper, "CodeMirror-wrap"), e.display.sizer.style.minWidth = "", e.display.sizerWidth = null) : (T(e.display.wrapper, "CodeMirror-wrap"), Xt(e)), fn(e), pn(e), zr(e), setTimeout((function() {
                            return Gn(e)
                        }), 100)
                    }

                    function Ma(e, t) {
                        var r = this;
                        if (!(this instanceof Ma)) return new Ma(e, t);
                        this.options = t = t ? H(t) : {}, H(Ta, t, !1);
                        var n = t.value;
                        "string" == typeof n ? n = new Ro(n, t.mode, null, t.lineSeparator, t.direction) : t.mode && (n.modeOption = t.mode), this.doc = n;
                        var i = new Ma.inputStyles[t.inputStyle](this),
                            o = this.display = new wi(e, n, i, t);
                        for (var c in o.wrapper.CodeMirror = this, ka(this), t.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), Kn(this), this.state = {
                                    keyMaps: [],
                                    overlays: [],
                                    modeGen: 0,
                                    overwrite: !1,
                                    delayingBlurEvent: !1,
                                    focused: !1,
                                    suppressEdits: !1,
                                    pasteIncoming: -1,
                                    cutIncoming: -1,
                                    selectingText: !1,
                                    draggingText: !1,
                                    highlight: new z,
                                    keySeq: null,
                                    specialChars: null
                                }, t.autofocus && !y && o.input.focus(), a && l < 11 && setTimeout((function() {
                                    return r.display.input.reset(!0)
                                }), 20),
                                function(e) {
                                    var t = e.display;
                                    pe(t.scroller, "mousedown", ni(e, wa)), pe(t.scroller, "dblclick", a && l < 11 ? ni(e, (function(t) {
                                        if (!ye(e, t)) {
                                            var r = hn(e, t);
                                            if (r && !Ca(e, t) && !Ar(e.display, t)) {
                                                xe(t);
                                                var n = e.findWordAt(r);
                                                Ji(e.doc, n.anchor, n.head)
                                            }
                                        }
                                    })) : function(t) {
                                        return ye(e, t) || xe(t)
                                    }), pe(t.scroller, "contextmenu", (function(t) {
                                        return Aa(e, t)
                                    })), pe(t.input.getField(), "contextmenu", (function(r) {
                                        t.scroller.contains(r.target) || Aa(e, r)
                                    }));
                                    var r, n = {
                                        end: 0
                                    };

                                    function i() {
                                        t.activeTouch && (r = setTimeout((function() {
                                            return t.activeTouch = null
                                        }), 1e3), (n = t.activeTouch).end = +new Date)
                                    }

                                    function o(e) {
                                        if (1 != e.touches.length) return !1;
                                        var t = e.touches[0];
                                        return t.radiusX <= 1 && t.radiusY <= 1
                                    }

                                    function s(e, t) {
                                        if (null == t.left) return !0;
                                        var r = t.left - e.left,
                                            n = t.top - e.top;
                                        return r * r + n * n > 400
                                    }
                                    pe(t.scroller, "touchstart", (function(i) {
                                        if (!ye(e, i) && !o(i) && !Ca(e, i)) {
                                            t.input.ensurePolled(), clearTimeout(r);
                                            var a = +new Date;
                                            t.activeTouch = {
                                                start: a,
                                                moved: !1,
                                                prev: a - n.end <= 300 ? n : null
                                            }, 1 == i.touches.length && (t.activeTouch.left = i.touches[0].pageX, t.activeTouch.top = i.touches[0].pageY)
                                        }
                                    })), pe(t.scroller, "touchmove", (function() {
                                        t.activeTouch && (t.activeTouch.moved = !0)
                                    })), pe(t.scroller, "touchend", (function(r) {
                                        var n = t.activeTouch;
                                        if (n && !Ar(t, r) && null != n.left && !n.moved && new Date - n.start < 300) {
                                            var o, a = e.coordsChar(t.activeTouch, "page");
                                            o = !n.prev || s(n, n.prev) ? new Ti(a, a) : !n.prev.prev || s(n, n.prev.prev) ? e.findWordAt(a) : new Ti(nt(a.line, 0), ut(e.doc, nt(a.line + 1, 0))), e.setSelection(o.anchor, o.head), e.focus(), xe(r)
                                        }
                                        i()
                                    })), pe(t.scroller, "touchcancel", i), pe(t.scroller, "scroll", (function() {
                                        t.scroller.clientHeight && (Fn(e, t.scroller.scrollTop), Hn(e, t.scroller.scrollLeft, !0), me(e, "scroll", e))
                                    })), pe(t.scroller, "mousewheel", (function(t) {
                                        return ki(e, t)
                                    })), pe(t.scroller, "DOMMouseScroll", (function(t) {
                                        return ki(e, t)
                                    })), pe(t.wrapper, "scroll", (function() {
                                        return t.wrapper.scrollTop = t.wrapper.scrollLeft = 0
                                    })), t.dragFunctions = {
                                        enter: function(t) {
                                            ye(e, t) || ke(t)
                                        },
                                        over: function(t) {
                                            ye(e, t) || (function(e, t) {
                                                var r = hn(e, t);
                                                if (r) {
                                                    var n = document.createDocumentFragment();
                                                    Sn(e, r, n), e.display.dragCursor || (e.display.dragCursor = N("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), e.display.lineSpace.insertBefore(e.display.dragCursor, e.display.cursorDiv)), O(e.display.dragCursor, n)
                                                }
                                            }(e, t), ke(t))
                                        },
                                        start: function(t) {
                                            return function(e, t) {
                                                if (a && (!e.state.draggingText || +new Date - Io < 100)) ke(t);
                                                else if (!ye(e, t) && !Ar(e.display, t) && (t.dataTransfer.setData("Text", e.getSelection()), t.dataTransfer.effectAllowed = "copyMove", t.dataTransfer.setDragImage && !d)) {
                                                    var r = N("img", null, null, "position: fixed; left: 0; top: 0;");
                                                    r.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", h && (r.width = r.height = 1, e.display.wrapper.appendChild(r), r._top = r.offsetTop), t.dataTransfer.setDragImage(r, 0, 0), h && r.parentNode.removeChild(r)
                                                }
                                            }(e, t)
                                        },
                                        drop: ni(e, _o),
                                        leave: function(t) {
                                            ye(e, t) || Fo(e)
                                        }
                                    };
                                    var c = t.input.getField();
                                    pe(c, "keyup", (function(t) {
                                        return ga.call(e, t)
                                    })), pe(c, "keydown", ni(e, pa)), pe(c, "keypress", ni(e, va)), pe(c, "focus", (function(t) {
                                        return Tn(e, t)
                                    })), pe(c, "blur", (function(t) {
                                        return En(e, t)
                                    }))
                                }(this), jo(), $n(this), this.curOp.forceUpdate = !0, Bi(this, n), t.autofocus && !y || this.hasFocus() ? setTimeout((function() {
                                    r.hasFocus() && !r.state.focused && Tn(r)
                                }), 20) : En(this), Ea) Ea.hasOwnProperty(c) && Ea[c](this, t[c], La);
                        vi(this), t.finishInit && t.finishInit(this);
                        for (var u = 0; u < Pa.length; ++u) Pa[u](this);
                        Yn(this), s && t.lineWrapping && "optimizelegibility" == getComputedStyle(o.lineDiv).textRendering && (o.lineDiv.style.textRendering = "auto")
                    }
                    Ma.defaults = Ta, Ma.optionHandlers = Ea;
                    var Pa = [];

                    function Wa(e, t, r, n) {
                        var i, o = e.doc;
                        null == r && (r = "add"), "smart" == r && (o.mode.indent ? i = vt(e, t).state : r = "prev");
                        var a = e.options.tabSize,
                            l = $e(o, t),
                            s = j(l.text, null, a);
                        l.stateAfter && (l.stateAfter = null);
                        var c, u = l.text.match(/^\s*/)[0];
                        if (n || /\S/.test(l.text)) {
                            if ("smart" == r && ((c = o.mode.indent(i, l.text.slice(u.length), l.text)) == G || c > 150)) {
                                if (!n) return;
                                r = "prev"
                            }
                        } else c = 0, r = "not";
                        "prev" == r ? c = t > o.first ? j($e(o, t - 1).text, null, a) : 0 : "add" == r ? c = s + e.options.indentUnit : "subtract" == r ? c = s - e.options.indentUnit : "number" == typeof r && (c = s + r), c = Math.max(0, c);
                        var f = "",
                            h = 0;
                        if (e.options.indentWithTabs)
                            for (var d = Math.floor(c / a); d; --d) h += a, f += "\t";
                        if (h < c && (f += Y(c - h)), f != u) return bo(o, f, nt(t, 0), nt(t, u.length), "+input"), l.stateAfter = null, !0;
                        for (var p = 0; p < o.sel.ranges.length; p++) {
                            var g = o.sel.ranges[p];
                            if (g.head.line == t && g.head.ch < u.length) {
                                var v = nt(t, u.length);
                                eo(o, p, new Ti(v, v));
                                break
                            }
                        }
                    }
                    Ma.defineInitHook = function(e) {
                        return Pa.push(e)
                    };
                    var Da = null;

                    function Ra(e) {
                        Da = e
                    }

                    function Ia(e, t, r, n, i) {
                        var o = e.doc;
                        e.display.shift = !1, n || (n = o.sel);
                        var a = +new Date - 200,
                            l = "paste" == i || e.state.pasteIncoming > a,
                            s = De(t),
                            c = null;
                        if (l && n.ranges.length > 1)
                            if (Da && Da.text.join("\n") == t) {
                                if (n.ranges.length % Da.text.length == 0) {
                                    c = [];
                                    for (var u = 0; u < Da.text.length; u++) c.push(o.splitLines(Da.text[u]))
                                }
                            } else s.length == n.ranges.length && e.options.pasteLinesPerSelection && (c = J(s, (function(e) {
                                return [e]
                            })));
                        for (var f = e.curOp.updateInput, h = n.ranges.length - 1; h >= 0; h--) {
                            var d = n.ranges[h],
                                p = d.from(),
                                g = d.to();
                            d.empty() && (r && r > 0 ? p = nt(p.line, p.ch - r) : e.state.overwrite && !l ? g = nt(g.line, Math.min($e(o, g.line).text.length, g.ch + Z(s).length)) : l && Da && Da.lineWise && Da.text.join("\n") == s.join("\n") && (p = g = nt(p.line, 0)));
                            var v = {
                                from: p,
                                to: g,
                                text: c ? c[h % c.length] : s,
                                origin: i || (l ? "paste" : e.state.cutIncoming > a ? "cut" : "+input")
                            };
                            po(e.doc, v), ur(e, "inputRead", e, v)
                        }
                        t && !l && Fa(e, t), Dn(e), e.curOp.updateInput < 2 && (e.curOp.updateInput = f), e.curOp.typing = !0, e.state.pasteIncoming = e.state.cutIncoming = -1
                    }

                    function _a(e, t) {
                        var r = e.clipboardData && e.clipboardData.getData("Text");
                        if (r) return e.preventDefault(), t.isReadOnly() || t.options.disableInput || !t.hasFocus() || ri(t, (function() {
                            return Ia(t, r, 0, null, "paste")
                        })), !0
                    }

                    function Fa(e, t) {
                        if (e.options.electricChars && e.options.smartIndent)
                            for (var r = e.doc.sel, n = r.ranges.length - 1; n >= 0; n--) {
                                var i = r.ranges[n];
                                if (!(i.head.ch > 100 || n && r.ranges[n - 1].head.line == i.head.line)) {
                                    var o = e.getModeAt(i.head),
                                        a = !1;
                                    if (o.electricChars) {
                                        for (var l = 0; l < o.electricChars.length; l++)
                                            if (t.indexOf(o.electricChars.charAt(l)) > -1) {
                                                a = Wa(e, i.head.line, "smart");
                                                break
                                            }
                                    } else o.electricInput && o.electricInput.test($e(e.doc, i.head.line).text.slice(0, i.head.ch)) && (a = Wa(e, i.head.line, "smart"));
                                    a && ur(e, "electricInput", e, i.head.line)
                                }
                            }
                    }

                    function Ba(e) {
                        for (var t = [], r = [], n = 0; n < e.doc.sel.ranges.length; n++) {
                            var i = e.doc.sel.ranges[n].head.line,
                                o = {
                                    anchor: nt(i, 0),
                                    head: nt(i + 1, 0)
                                };
                            r.push(o), t.push(e.getRange(o.anchor, o.head))
                        }
                        return {
                            text: t,
                            ranges: r
                        }
                    }

                    function Ha(e, t, r, n) {
                        e.setAttribute("autocorrect", r ? "" : "off"), e.setAttribute("autocapitalize", n ? "" : "off"), e.setAttribute("spellcheck", !!t)
                    }

                    function ja() {
                        var e = N("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),
                            t = N("div", [e], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
                        return s ? e.style.width = "1000px" : e.setAttribute("wrap", "off"), v && (e.style.border = "1px solid black"), Ha(e), t
                    }

                    function za(e, t, r, n, i) {
                        var o = t,
                            a = r,
                            l = $e(e, t.line),
                            s = i && "rtl" == e.direction ? -r : r;

                        function c(o) {
                            var a, c;
                            if ("codepoint" == n) {
                                var u = l.text.charCodeAt(t.ch + (r > 0 ? 0 : -1));
                                if (isNaN(u)) a = null;
                                else {
                                    var f = r > 0 ? u >= 55296 && u < 56320 : u >= 56320 && u < 57343;
                                    a = new nt(t.line, Math.max(0, Math.min(l.text.length, t.ch + r * (f ? 2 : 1))), -r)
                                }
                            } else a = i ? function(e, t, r, n) {
                                var i = he(t, e.doc.direction);
                                if (!i) return na(t, r, n);
                                r.ch >= t.text.length ? (r.ch = t.text.length, r.sticky = "before") : r.ch <= 0 && (r.ch = 0, r.sticky = "after");
                                var o = ue(i, r.ch, r.sticky),
                                    a = i[o];
                                if ("ltr" == e.doc.direction && a.level % 2 == 0 && (n > 0 ? a.to > r.ch : a.from < r.ch)) return na(t, r, n);
                                var l, s = function(e, r) {
                                        return ra(t, e instanceof nt ? e.ch : e, r)
                                    },
                                    c = function(r) {
                                        return e.options.lineWrapping ? (l = l || Dr(e, t), en(e, t, l, r)) : {
                                            begin: 0,
                                            end: t.text.length
                                        }
                                    },
                                    u = c("before" == r.sticky ? s(r, -1) : r.ch);
                                if ("rtl" == e.doc.direction || 1 == a.level) {
                                    var f = 1 == a.level == n < 0,
                                        h = s(r, f ? 1 : -1);
                                    if (null != h && (f ? h <= a.to && h <= u.end : h >= a.from && h >= u.begin)) {
                                        var d = f ? "before" : "after";
                                        return new nt(r.line, h, d)
                                    }
                                }
                                var p = function(e, t, n) {
                                        for (var o = function(e, t) {
                                                return t ? new nt(r.line, s(e, 1), "before") : new nt(r.line, e, "after")
                                            }; e >= 0 && e < i.length; e += t) {
                                            var a = i[e],
                                                l = t > 0 == (1 != a.level),
                                                c = l ? n.begin : s(n.end, -1);
                                            if (a.from <= c && c < a.to) return o(c, l);
                                            if (c = l ? a.from : s(a.to, -1), n.begin <= c && c < n.end) return o(c, l)
                                        }
                                    },
                                    g = p(o + n, n, u);
                                if (g) return g;
                                var v = n > 0 ? u.end : s(u.begin, -1);
                                return null == v || n > 0 && v == t.text.length || !(g = p(n > 0 ? 0 : i.length - 1, n, c(v))) ? null : g
                            }(e.cm, l, t, r) : na(l, t, r);
                            if (null == a) {
                                if (o || ((c = t.line + s) < e.first || c >= e.first + e.size || (t = new nt(c, t.ch, t.sticky), !(l = $e(e, c))))) return !1;
                                t = ia(i, e.cm, l, t.line, s)
                            } else t = a;
                            return !0
                        }
                        if ("char" == n || "codepoint" == n) c();
                        else if ("column" == n) c(!0);
                        else if ("word" == n || "group" == n)
                            for (var u = null, f = "group" == n, h = e.cm && e.cm.getHelper(t, "wordChars"), d = !0; !(r < 0) || c(!d); d = !1) {
                                var p = l.text.charAt(t.ch) || "\n",
                                    g = ne(p, h) ? "w" : f && "\n" == p ? "n" : !f || /\s/.test(p) ? null : "p";
                                if (!f || d || g || (g = "s"), u && u != g) {
                                    r < 0 && (r = 1, c(), t.sticky = "after");
                                    break
                                }
                                if (g && (u = g), r > 0 && !c(!d)) break
                            }
                        var v = co(e, t, o, a, !0);
                        return ot(o, v) && (v.hitSide = !0), v
                    }

                    function Ua(e, t, r, n) {
                        var i, o, a = e.doc,
                            l = t.left;
                        if ("page" == n) {
                            var s = Math.min(e.display.wrapper.clientHeight, F(e).innerHeight || a(e).documentElement.clientHeight),
                                c = Math.max(s - .5 * an(e.display), 3);
                            i = (r > 0 ? t.bottom : t.top) + r * c
                        } else "line" == n && (i = r > 0 ? t.bottom + 3 : t.top - 3);
                        for (;
                            (o = Jr(e, l, i)).outside;) {
                            if (r < 0 ? i <= 0 : i >= a.height) {
                                o.hitSide = !0;
                                break
                            }
                            i += 5 * r
                        }
                        return o
                    }
                    var Ga = function(e) {
                        this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new z, this.composing = null, this.gracePeriod = !1, this.readDOMTimeout = null
                    };

                    function Va(e, t) {
                        var r = Wr(e, t.line);
                        if (!r || r.hidden) return null;
                        var n = $e(e.doc, t.line),
                            i = Mr(r, n, t.line),
                            o = he(n, e.doc.direction),
                            a = "left";
                        o && (a = ue(o, t.ch) % 2 ? "right" : "left");
                        var l = Fr(i.map, t.ch, a);
                        return l.offset = "right" == l.collapse ? l.end : l.start, l
                    }

                    function qa(e, t) {
                        return t && (e.bad = !0), e
                    }

                    function Ka(e, t, r) {
                        var n;
                        if (t == e.display.lineDiv) {
                            if (!(n = e.display.lineDiv.childNodes[r])) return qa(e.clipPos(nt(e.display.viewTo - 1)), !0);
                            t = null, r = 0
                        } else
                            for (n = t;; n = n.parentNode) {
                                if (!n || n == e.display.lineDiv) return null;
                                if (n.parentNode && n.parentNode == e.display.lineDiv) break
                            }
                        for (var i = 0; i < e.display.view.length; i++) {
                            var o = e.display.view[i];
                            if (o.node == n) return Xa(o, t, r)
                        }
                    }

                    function Xa(e, t, r) {
                        var n = e.text.firstChild,
                            i = !1;
                        if (!t || !P(n, t)) return qa(nt(Qe(e.line), 0), !0);
                        if (t == n && (i = !0, t = n.childNodes[r], r = 0, !t)) {
                            var o = e.rest ? Z(e.rest) : e.line;
                            return qa(nt(Qe(o), o.text.length), i)
                        }
                        var a = 3 == t.nodeType ? t : null,
                            l = t;
                        for (a || 1 != t.childNodes.length || 3 != t.firstChild.nodeType || (a = t.firstChild, r && (r = a.nodeValue.length)); l.parentNode != n;) l = l.parentNode;
                        var s = e.measure,
                            c = s.maps;

                        function u(t, r, n) {
                            for (var i = -1; i < (c ? c.length : 0); i++)
                                for (var o = i < 0 ? s.map : c[i], a = 0; a < o.length; a += 3) {
                                    var l = o[a + 2];
                                    if (l == t || l == r) {
                                        var u = Qe(i < 0 ? e.line : e.rest[i]),
                                            f = o[a] + n;
                                        return (n < 0 || l != t) && (f = o[a + (n ? 1 : 0)]), nt(u, f)
                                    }
                                }
                        }
                        var f = u(a, l, r);
                        if (f) return qa(f, i);
                        for (var h = l.nextSibling, d = a ? a.nodeValue.length - r : 0; h; h = h.nextSibling) {
                            if (f = u(h, h.firstChild, 0)) return qa(nt(f.line, f.ch - d), i);
                            d += h.textContent.length
                        }
                        for (var p = l.previousSibling, g = r; p; p = p.previousSibling) {
                            if (f = u(p, p.firstChild, -1)) return qa(nt(f.line, f.ch + g), i);
                            g += p.textContent.length
                        }
                    }
                    Ga.prototype.init = function(e) {
                        var t = this,
                            r = this,
                            n = r.cm,
                            i = r.div = e.lineDiv;

                        function o(e) {
                            for (var t = e.target; t; t = t.parentNode) {
                                if (t == i) return !0;
                                if (/\bCodeMirror-(?:line)?widget\b/.test(t.className)) break
                            }
                            return !1
                        }

                        function a(e) {
                            if (o(e) && !ye(n, e)) {
                                if (n.somethingSelected()) Ra({
                                    lineWise: !1,
                                    text: n.getSelections()
                                }), "cut" == e.type && n.replaceSelection("", null, "cut");
                                else {
                                    if (!n.options.lineWiseCopyCut) return;
                                    var t = Ba(n);
                                    Ra({
                                        lineWise: !0,
                                        text: t.text
                                    }), "cut" == e.type && n.operation((function() {
                                        n.setSelections(t.ranges, 0, V), n.replaceSelection("", null, "cut")
                                    }))
                                }
                                if (e.clipboardData) {
                                    e.clipboardData.clearData();
                                    var a = Da.text.join("\n");
                                    if (e.clipboardData.setData("Text", a), e.clipboardData.getData("Text") == a) return void e.preventDefault()
                                }
                                var l = ja(),
                                    s = l.firstChild;
                                n.display.lineSpace.insertBefore(l, n.display.lineSpace.firstChild), s.value = Da.text.join("\n");
                                var c = W(i.ownerDocument);
                                I(s), setTimeout((function() {
                                    n.display.lineSpace.removeChild(l), c.focus(), c == i && r.showPrimarySelection()
                                }), 50)
                            }
                        }
                        i.contentEditable = !0, Ha(i, n.options.spellcheck, n.options.autocorrect, n.options.autocapitalize), pe(i, "paste", (function(e) {
                            !o(e) || ye(n, e) || _a(e, n) || l <= 11 && setTimeout(ni(n, (function() {
                                return t.updateFromDOM()
                            })), 20)
                        })), pe(i, "compositionstart", (function(e) {
                            t.composing = {
                                data: e.data,
                                done: !1
                            }
                        })), pe(i, "compositionupdate", (function(e) {
                            t.composing || (t.composing = {
                                data: e.data,
                                done: !1
                            })
                        })), pe(i, "compositionend", (function(e) {
                            t.composing && (e.data != t.composing.data && t.readFromDOMSoon(), t.composing.done = !0)
                        })), pe(i, "touchstart", (function() {
                            return r.forceCompositionEnd()
                        })), pe(i, "input", (function() {
                            t.composing || t.readFromDOMSoon()
                        })), pe(i, "copy", a), pe(i, "cut", a)
                    }, Ga.prototype.screenReaderLabelChanged = function(e) {
                        e ? this.div.setAttribute("aria-label", e) : this.div.removeAttribute("aria-label")
                    }, Ga.prototype.prepareSelection = function() {
                        var e = wn(this.cm, !1);
                        return e.focus = W(this.div.ownerDocument) == this.div, e
                    }, Ga.prototype.showSelection = function(e, t) {
                        e && this.cm.display.view.length && ((e.focus || t) && this.showPrimarySelection(), this.showMultipleSelections(e))
                    }, Ga.prototype.getSelection = function() {
                        return this.cm.display.wrapper.ownerDocument.getSelection()
                    }, Ga.prototype.showPrimarySelection = function() {
                        var e = this.getSelection(),
                            t = this.cm,
                            n = t.doc.sel.primary(),
                            i = n.from(),
                            o = n.to();
                        if (t.display.viewTo == t.display.viewFrom || i.line >= t.display.viewTo || o.line < t.display.viewFrom) e.removeAllRanges();
                        else {
                            var a = Ka(t, e.anchorNode, e.anchorOffset),
                                l = Ka(t, e.focusNode, e.focusOffset);
                            if (!a || a.bad || !l || l.bad || 0 != it(st(a, l), i) || 0 != it(lt(a, l), o)) {
                                var s = t.display.view,
                                    c = i.line >= t.display.viewFrom && Va(t, i) || {
                                        node: s[0].measure.map[2],
                                        offset: 0
                                    },
                                    u = o.line < t.display.viewTo && Va(t, o);
                                if (!u) {
                                    var f = s[s.length - 1].measure,
                                        h = f.maps ? f.maps[f.maps.length - 1] : f.map;
                                    u = {
                                        node: h[h.length - 1],
                                        offset: h[h.length - 2] - h[h.length - 3]
                                    }
                                }
                                if (c && u) {
                                    var d, p = e.rangeCount && e.getRangeAt(0);
                                    try {
                                        d = L(c.node, c.offset, u.offset, u.node)
                                    } catch (e) {}
                                    d && (!r && t.state.focused ? (e.collapse(c.node, c.offset), d.collapsed || (e.removeAllRanges(), e.addRange(d))) : (e.removeAllRanges(), e.addRange(d)), p && null == e.anchorNode ? e.addRange(p) : r && this.startGracePeriod()), this.rememberSelection()
                                } else e.removeAllRanges()
                            }
                        }
                    }, Ga.prototype.startGracePeriod = function() {
                        var e = this;
                        clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout((function() {
                            e.gracePeriod = !1, e.selectionChanged() && e.cm.operation((function() {
                                return e.cm.curOp.selectionChanged = !0
                            }))
                        }), 20)
                    }, Ga.prototype.showMultipleSelections = function(e) {
                        O(this.cm.display.cursorDiv, e.cursors), O(this.cm.display.selectionDiv, e.selection)
                    }, Ga.prototype.rememberSelection = function() {
                        var e = this.getSelection();
                        this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset
                    }, Ga.prototype.selectionInEditor = function() {
                        var e = this.getSelection();
                        if (!e.rangeCount) return !1;
                        var t = e.getRangeAt(0).commonAncestorContainer;
                        return P(this.div, t)
                    }, Ga.prototype.focus = function() {
                        "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() && W(this.div.ownerDocument) == this.div || this.showSelection(this.prepareSelection(), !0), this.div.focus())
                    }, Ga.prototype.blur = function() {
                        this.div.blur()
                    }, Ga.prototype.getField = function() {
                        return this.div
                    }, Ga.prototype.supportsTouch = function() {
                        return !0
                    }, Ga.prototype.receivedFocus = function() {
                        var e = this,
                            t = this;
                        this.selectionInEditor() ? setTimeout((function() {
                            return e.pollSelection()
                        }), 20) : ri(this.cm, (function() {
                            return t.cm.curOp.selectionChanged = !0
                        })), this.polling.set(this.cm.options.pollInterval, (function e() {
                            t.cm.state.focused && (t.pollSelection(), t.polling.set(t.cm.options.pollInterval, e))
                        }))
                    }, Ga.prototype.selectionChanged = function() {
                        var e = this.getSelection();
                        return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset
                    }, Ga.prototype.pollSelection = function() {
                        if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {
                            var e = this.getSelection(),
                                t = this.cm;
                            if (m && u && this.cm.display.gutterSpecs.length && function(e) {
                                    for (var t = e; t; t = t.parentNode)
                                        if (/CodeMirror-gutter-wrapper/.test(t.className)) return !0;
                                    return !1
                                }(e.anchorNode)) return this.cm.triggerOnKeyDown({
                                type: "keydown",
                                keyCode: 8,
                                preventDefault: Math.abs
                            }), this.blur(), void this.focus();
                            if (!this.composing) {
                                this.rememberSelection();
                                var r = Ka(t, e.anchorNode, e.anchorOffset),
                                    n = Ka(t, e.focusNode, e.focusOffset);
                                r && n && ri(t, (function() {
                                    no(t.doc, Oi(r, n), V), (r.bad || n.bad) && (t.curOp.selectionChanged = !0)
                                }))
                            }
                        }
                    }, Ga.prototype.pollContent = function() {
                        null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
                        var e, t, r, n = this.cm,
                            i = n.display,
                            o = n.doc.sel.primary(),
                            a = o.from(),
                            l = o.to();
                        if (0 == a.ch && a.line > n.firstLine() && (a = nt(a.line - 1, $e(n.doc, a.line - 1).length)), l.ch == $e(n.doc, l.line).text.length && l.line < n.lastLine() && (l = nt(l.line + 1, 0)), a.line < i.viewFrom || l.line > i.viewTo - 1) return !1;
                        a.line == i.viewFrom || 0 == (e = dn(n, a.line)) ? (t = Qe(i.view[0].line), r = i.view[0].node) : (t = Qe(i.view[e].line), r = i.view[e - 1].node.nextSibling);
                        var s, c, u = dn(n, l.line);
                        if (u == i.view.length - 1 ? (s = i.viewTo - 1, c = i.lineDiv.lastChild) : (s = Qe(i.view[u + 1].line) - 1, c = i.view[u + 1].node.previousSibling), !r) return !1;
                        for (var f = n.doc.splitLines(function(e, t, r, n, i) {
                                var o = "",
                                    a = !1,
                                    l = e.doc.lineSeparator(),
                                    s = !1;

                                function c() {
                                    a && (o += l, s && (o += l), a = s = !1)
                                }

                                function u(e) {
                                    e && (c(), o += e)
                                }

                                function f(t) {
                                    if (1 == t.nodeType) {
                                        var r = t.getAttribute("cm-text");
                                        if (r) return void u(r);
                                        var o, h = t.getAttribute("cm-marker");
                                        if (h) {
                                            var d = e.findMarks(nt(n, 0), nt(i + 1, 0), (v = +h, function(e) {
                                                return e.id == v
                                            }));
                                            return void(d.length && (o = d[0].find(0)) && u(Ye(e.doc, o.from, o.to).join(l)))
                                        }
                                        if ("false" == t.getAttribute("contenteditable")) return;
                                        var p = /^(pre|div|p|li|table|br)$/i.test(t.nodeName);
                                        if (!/^br$/i.test(t.nodeName) && 0 == t.textContent.length) return;
                                        p && c();
                                        for (var g = 0; g < t.childNodes.length; g++) f(t.childNodes[g]);
                                        /^(pre|p)$/i.test(t.nodeName) && (s = !0), p && (a = !0)
                                    } else 3 == t.nodeType && u(t.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
                                    var v
                                }
                                for (; f(t), t != r;) t = t.nextSibling, s = !1;
                                return o
                            }(n, r, c, t, s)), h = Ye(n.doc, nt(t, 0), nt(s, $e(n.doc, s).text.length)); f.length > 1 && h.length > 1;)
                            if (Z(f) == Z(h)) f.pop(), h.pop(), s--;
                            else {
                                if (f[0] != h[0]) break;
                                f.shift(), h.shift(), t++
                            } for (var d = 0, p = 0, g = f[0], v = h[0], m = Math.min(g.length, v.length); d < m && g.charCodeAt(d) == v.charCodeAt(d);) ++d;
                        for (var y = Z(f), b = Z(h), w = Math.min(y.length - (1 == f.length ? d : 0), b.length - (1 == h.length ? d : 0)); p < w && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) ++p;
                        if (1 == f.length && 1 == h.length && t == a.line)
                            for (; d && d > a.ch && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) d--, p++;
                        f[f.length - 1] = y.slice(0, y.length - p).replace(/^\u200b+/, ""), f[0] = f[0].slice(d).replace(/\u200b+$/, "");
                        var S = nt(t, d),
                            x = nt(s, h.length ? Z(h).length - p : 0);
                        return f.length > 1 || f[0] || it(S, x) ? (bo(n.doc, f, S, x, "+input"), !0) : void 0
                    }, Ga.prototype.ensurePolled = function() {
                        this.forceCompositionEnd()
                    }, Ga.prototype.reset = function() {
                        this.forceCompositionEnd()
                    }, Ga.prototype.forceCompositionEnd = function() {
                        this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus())
                    }, Ga.prototype.readFromDOMSoon = function() {
                        var e = this;
                        null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout((function() {
                            if (e.readDOMTimeout = null, e.composing) {
                                if (!e.composing.done) return;
                                e.composing = null
                            }
                            e.updateFromDOM()
                        }), 80))
                    }, Ga.prototype.updateFromDOM = function() {
                        var e = this;
                        !this.cm.isReadOnly() && this.pollContent() || ri(this.cm, (function() {
                            return pn(e.cm)
                        }))
                    }, Ga.prototype.setUneditable = function(e) {
                        e.contentEditable = "false"
                    }, Ga.prototype.onKeyPress = function(e) {
                        0 == e.charCode || this.composing || (e.preventDefault(), this.cm.isReadOnly() || ni(this.cm, Ia)(this.cm, String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), 0))
                    }, Ga.prototype.readOnlyChanged = function(e) {
                        this.div.contentEditable = String("nocursor" != e)
                    }, Ga.prototype.onContextMenu = function() {}, Ga.prototype.resetPosition = function() {}, Ga.prototype.needsContentAttribute = !0;
                    var $a = function(e) {
                        this.cm = e, this.prevInput = "", this.pollingFast = !1, this.polling = new z, this.hasSelection = !1, this.composing = null
                    };
                    $a.prototype.init = function(e) {
                            var t = this,
                                r = this,
                                n = this.cm;
                            this.createField(e);
                            var i = this.textarea;

                            function o(e) {
                                if (!ye(n, e)) {
                                    if (n.somethingSelected()) Ra({
                                        lineWise: !1,
                                        text: n.getSelections()
                                    });
                                    else {
                                        if (!n.options.lineWiseCopyCut) return;
                                        var t = Ba(n);
                                        Ra({
                                            lineWise: !0,
                                            text: t.text
                                        }), "cut" == e.type ? n.setSelections(t.ranges, null, V) : (r.prevInput = "", i.value = t.text.join("\n"), I(i))
                                    }
                                    "cut" == e.type && (n.state.cutIncoming = +new Date)
                                }
                            }
                            e.wrapper.insertBefore(this.wrapper, e.wrapper.firstChild), v && (i.style.width = "0px"), pe(i, "input", (function() {
                                a && l >= 9 && t.hasSelection && (t.hasSelection = null), r.poll()
                            })), pe(i, "paste", (function(e) {
                                ye(n, e) || _a(e, n) || (n.state.pasteIncoming = +new Date, r.fastPoll())
                            })), pe(i, "cut", o), pe(i, "copy", o), pe(e.scroller, "paste", (function(t) {
                                if (!Ar(e, t) && !ye(n, t)) {
                                    if (!i.dispatchEvent) return n.state.pasteIncoming = +new Date, void r.focus();
                                    var o = new Event("paste");
                                    o.clipboardData = t.clipboardData, i.dispatchEvent(o)
                                }
                            })), pe(e.lineSpace, "selectstart", (function(t) {
                                Ar(e, t) || xe(t)
                            })), pe(i, "compositionstart", (function() {
                                var e = n.getCursor("from");
                                r.composing && r.composing.range.clear(), r.composing = {
                                    start: e,
                                    range: n.markText(e, n.getCursor("to"), {
                                        className: "CodeMirror-composing"
                                    })
                                }
                            })), pe(i, "compositionend", (function() {
                                r.composing && (r.poll(), r.composing.range.clear(), r.composing = null)
                            }))
                        }, $a.prototype.createField = function(e) {
                            this.wrapper = ja(), this.textarea = this.wrapper.firstChild
                        }, $a.prototype.screenReaderLabelChanged = function(e) {
                            e ? this.textarea.setAttribute("aria-label", e) : this.textarea.removeAttribute("aria-label")
                        }, $a.prototype.prepareSelection = function() {
                            var e = this.cm,
                                t = e.display,
                                r = e.doc,
                                n = wn(e);
                            if (e.options.moveInputWithCursor) {
                                var i = $r(e, r.sel.primary().head, "div"),
                                    o = t.wrapper.getBoundingClientRect(),
                                    a = t.lineDiv.getBoundingClientRect();
                                n.teTop = Math.max(0, Math.min(t.wrapper.clientHeight - 10, i.top + a.top - o.top)), n.teLeft = Math.max(0, Math.min(t.wrapper.clientWidth - 10, i.left + a.left - o.left))
                            }
                            return n
                        }, $a.prototype.showSelection = function(e) {
                            var t = this.cm.display;
                            O(t.cursorDiv, e.cursors), O(t.selectionDiv, e.selection), null != e.teTop && (this.wrapper.style.top = e.teTop + "px", this.wrapper.style.left = e.teLeft + "px")
                        }, $a.prototype.reset = function(e) {
                            if (!this.contextMenuPending && !this.composing) {
                                var t = this.cm;
                                if (t.somethingSelected()) {
                                    this.prevInput = "";
                                    var r = t.getSelection();
                                    this.textarea.value = r, t.state.focused && I(this.textarea), a && l >= 9 && (this.hasSelection = r)
                                } else e || (this.prevInput = this.textarea.value = "", a && l >= 9 && (this.hasSelection = null))
                            }
                        }, $a.prototype.getField = function() {
                            return this.textarea
                        }, $a.prototype.supportsTouch = function() {
                            return !1
                        }, $a.prototype.focus = function() {
                            if ("nocursor" != this.cm.options.readOnly && (!y || W(this.textarea.ownerDocument) != this.textarea)) try {
                                this.textarea.focus()
                            } catch (e) {}
                        }, $a.prototype.blur = function() {
                            this.textarea.blur()
                        }, $a.prototype.resetPosition = function() {
                            this.wrapper.style.top = this.wrapper.style.left = 0
                        }, $a.prototype.receivedFocus = function() {
                            this.slowPoll()
                        }, $a.prototype.slowPoll = function() {
                            var e = this;
                            this.pollingFast || this.polling.set(this.cm.options.pollInterval, (function() {
                                e.poll(), e.cm.state.focused && e.slowPoll()
                            }))
                        }, $a.prototype.fastPoll = function() {
                            var e = !1,
                                t = this;
                            t.pollingFast = !0, t.polling.set(20, (function r() {
                                t.poll() || e ? (t.pollingFast = !1, t.slowPoll()) : (e = !0, t.polling.set(60, r))
                            }))
                        }, $a.prototype.poll = function() {
                            var e = this,
                                t = this.cm,
                                r = this.textarea,
                                n = this.prevInput;
                            if (this.contextMenuPending || !t.state.focused || Re(r) && !n && !this.composing || t.isReadOnly() || t.options.disableInput || t.state.keySeq) return !1;
                            var i = r.value;
                            if (i == n && !t.somethingSelected()) return !1;
                            if (a && l >= 9 && this.hasSelection === i || b && /[\uf700-\uf7ff]/.test(i)) return t.display.input.reset(), !1;
                            if (t.doc.sel == t.display.selForContextMenu) {
                                var o = i.charCodeAt(0);
                                if (8203 != o || n || (n = "​"), 8666 == o) return this.reset(), this.cm.execCommand("undo")
                            }
                            for (var s = 0, c = Math.min(n.length, i.length); s < c && n.charCodeAt(s) == i.charCodeAt(s);) ++s;
                            return ri(t, (function() {
                                Ia(t, i.slice(s), n.length - s, null, e.composing ? "*compose" : null), i.length > 1e3 || i.indexOf("\n") > -1 ? r.value = e.prevInput = "" : e.prevInput = i, e.composing && (e.composing.range.clear(), e.composing.range = t.markText(e.composing.start, t.getCursor("to"), {
                                    className: "CodeMirror-composing"
                                }))
                            })), !0
                        }, $a.prototype.ensurePolled = function() {
                            this.pollingFast && this.poll() && (this.pollingFast = !1)
                        }, $a.prototype.onKeyPress = function() {
                            a && l >= 9 && (this.hasSelection = null), this.fastPoll()
                        }, $a.prototype.onContextMenu = function(e) {
                            var t = this,
                                r = t.cm,
                                n = r.display,
                                i = t.textarea;
                            t.contextMenuPending && t.contextMenuPending();
                            var o = hn(r, e),
                                c = n.scroller.scrollTop;
                            if (o && !h) {
                                r.options.resetSelectionOnContextMenu && -1 == r.doc.sel.contains(o) && ni(r, no)(r.doc, Oi(o), V);
                                var u, f = i.style.cssText,
                                    d = t.wrapper.style.cssText,
                                    p = t.wrapper.offsetParent.getBoundingClientRect();
                                if (t.wrapper.style.cssText = "position: static", i.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - p.top - 5) + "px; left: " + (e.clientX - p.left - 5) + "px;\n      z-index: 1000; background: " + (a ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", s && (u = i.ownerDocument.defaultView.scrollY), n.input.focus(), s && i.ownerDocument.defaultView.scrollTo(null, u), n.input.reset(), r.somethingSelected() || (i.value = t.prevInput = " "), t.contextMenuPending = m, n.selForContextMenu = r.doc.sel, clearTimeout(n.detectingSelectAll), a && l >= 9 && v(), A) {
                                    ke(e);
                                    var g = function() {
                                        ve(window, "mouseup", g), setTimeout(m, 20)
                                    };
                                    pe(window, "mouseup", g)
                                } else setTimeout(m, 50)
                            }

                            function v() {
                                if (null != i.selectionStart) {
                                    var e = r.somethingSelected(),
                                        o = "​" + (e ? i.value : "");
                                    i.value = "⇚", i.value = o, t.prevInput = e ? "" : "​", i.selectionStart = 1, i.selectionEnd = o.length, n.selForContextMenu = r.doc.sel
                                }
                            }

                            function m() {
                                if (t.contextMenuPending == m && (t.contextMenuPending = !1, t.wrapper.style.cssText = d, i.style.cssText = f, a && l < 9 && n.scrollbars.setScrollTop(n.scroller.scrollTop = c), null != i.selectionStart)) {
                                    (!a || a && l < 9) && v();
                                    var e = 0,
                                        o = function() {
                                            n.selForContextMenu == r.doc.sel && 0 == i.selectionStart && i.selectionEnd > 0 && "​" == t.prevInput ? ni(r, fo)(r) : e++ < 10 ? n.detectingSelectAll = setTimeout(o, 500) : (n.selForContextMenu = null, n.input.reset())
                                        };
                                    n.detectingSelectAll = setTimeout(o, 200)
                                }
                            }
                        }, $a.prototype.readOnlyChanged = function(e) {
                            e || this.reset(), this.textarea.disabled = "nocursor" == e, this.textarea.readOnly = !!e
                        }, $a.prototype.setUneditable = function() {}, $a.prototype.needsContentAttribute = !1,
                        function(e) {
                            var t = e.optionHandlers;

                            function r(r, n, i, o) {
                                e.defaults[r] = n, i && (t[r] = o ? function(e, t, r) {
                                    r != La && i(e, t, r)
                                } : i)
                            }
                            e.defineOption = r, e.Init = La, r("value", "", (function(e, t) {
                                return e.setValue(t)
                            }), !0), r("mode", null, (function(e, t) {
                                e.doc.modeOption = t, Di(e)
                            }), !0), r("indentUnit", 2, Di, !0), r("indentWithTabs", !1), r("smartIndent", !0), r("tabSize", 4, (function(e) {
                                Ri(e), zr(e), pn(e)
                            }), !0), r("lineSeparator", null, (function(e, t) {
                                if (e.doc.lineSep = t, t) {
                                    var r = [],
                                        n = e.doc.first;
                                    e.doc.iter((function(e) {
                                        for (var i = 0;;) {
                                            var o = e.text.indexOf(t, i);
                                            if (-1 == o) break;
                                            i = o + t.length, r.push(nt(n, o))
                                        }
                                        n++
                                    }));
                                    for (var i = r.length - 1; i >= 0; i--) bo(e.doc, t, r[i], nt(r[i].line, r[i].ch + t.length))
                                }
                            })), r("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, (function(e, t, r) {
                                e.state.specialChars = new RegExp(t.source + (t.test("\t") ? "" : "|\t"), "g"), r != La && e.refresh()
                            })), r("specialCharPlaceholder", tr, (function(e) {
                                return e.refresh()
                            }), !0), r("electricChars", !0), r("inputStyle", y ? "contenteditable" : "textarea", (function() {
                                throw new Error("inputStyle can not (yet) be changed in a running editor")
                            }), !0), r("spellcheck", !1, (function(e, t) {
                                return e.getInputField().spellcheck = t
                            }), !0), r("autocorrect", !1, (function(e, t) {
                                return e.getInputField().autocorrect = t
                            }), !0), r("autocapitalize", !1, (function(e, t) {
                                return e.getInputField().autocapitalize = t
                            }), !0), r("rtlMoveVisually", !S), r("wholeLineUpdateBefore", !0), r("theme", "default", (function(e) {
                                ka(e), bi(e)
                            }), !0), r("keyMap", "default", (function(e, t, r) {
                                var n = ea(t),
                                    i = r != La && ea(r);
                                i && i.detach && i.detach(e, n), n.attach && n.attach(e, i || null)
                            })), r("extraKeys", null), r("configureMouse", null), r("lineWrapping", !1, Na, !0), r("gutters", [], (function(e, t) {
                                e.display.gutterSpecs = mi(t, e.options.lineNumbers), bi(e)
                            }), !0), r("fixedGutter", !0, (function(e, t) {
                                e.display.gutters.style.left = t ? cn(e.display) + "px" : "0", e.refresh()
                            }), !0), r("coverGutterNextToScrollbar", !1, (function(e) {
                                return Gn(e)
                            }), !0), r("scrollbarStyle", "native", (function(e) {
                                Kn(e), Gn(e), e.display.scrollbars.setScrollTop(e.doc.scrollTop), e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)
                            }), !0), r("lineNumbers", !1, (function(e, t) {
                                e.display.gutterSpecs = mi(e.options.gutters, t), bi(e)
                            }), !0), r("firstLineNumber", 1, bi, !0), r("lineNumberFormatter", (function(e) {
                                return e
                            }), bi, !0), r("showCursorWhenSelecting", !1, bn, !0), r("resetSelectionOnContextMenu", !0), r("lineWiseCopyCut", !0), r("pasteLinesPerSelection", !0), r("selectionsMayTouch", !1), r("readOnly", !1, (function(e, t) {
                                "nocursor" == t && (En(e), e.display.input.blur()), e.display.input.readOnlyChanged(t)
                            })), r("screenReaderLabel", null, (function(e, t) {
                                t = "" === t ? null : t, e.display.input.screenReaderLabelChanged(t)
                            })), r("disableInput", !1, (function(e, t) {
                                t || e.display.input.reset()
                            }), !0), r("dragDrop", !0, Oa), r("allowDropFileTypes", null), r("cursorBlinkRate", 530), r("cursorScrollMargin", 0), r("cursorHeight", 1, bn, !0), r("singleCursorHeightPerLine", !0, bn, !0), r("workTime", 100), r("workDelay", 100), r("flattenSpans", !0, Ri, !0), r("addModeClass", !1, Ri, !0), r("pollInterval", 100), r("undoDepth", 200, (function(e, t) {
                                return e.doc.history.undoDepth = t
                            })), r("historyEventDelay", 1250), r("viewportMargin", 10, (function(e) {
                                return e.refresh()
                            }), !0), r("maxHighlightLength", 1e4, Ri, !0), r("moveInputWithCursor", !0, (function(e, t) {
                                t || e.display.input.resetPosition()
                            })), r("tabindex", null, (function(e, t) {
                                return e.display.input.getField().tabIndex = t || ""
                            })), r("autofocus", null), r("direction", "ltr", (function(e, t) {
                                return e.doc.setDirection(t)
                            }), !0), r("phrases", null)
                        }(Ma),
                        function(e) {
                            var t = e.optionHandlers,
                                r = e.helpers = {};
                            e.prototype = {
                                constructor: e,
                                focus: function() {
                                    F(this).focus(), this.display.input.focus()
                                },
                                setOption: function(e, r) {
                                    var n = this.options,
                                        i = n[e];
                                    n[e] == r && "mode" != e || (n[e] = r, t.hasOwnProperty(e) && ni(this, t[e])(this, r, i), me(this, "optionChange", this, e))
                                },
                                getOption: function(e) {
                                    return this.options[e]
                                },
                                getDoc: function() {
                                    return this.doc
                                },
                                addKeyMap: function(e, t) {
                                    this.state.keyMaps[t ? "push" : "unshift"](ea(e))
                                },
                                removeKeyMap: function(e) {
                                    for (var t = this.state.keyMaps, r = 0; r < t.length; ++r)
                                        if (t[r] == e || t[r].name == e) return t.splice(r, 1), !0
                                },
                                addOverlay: ii((function(t, r) {
                                    var n = t.token ? t : e.getMode(this.options, t);
                                    if (n.startState) throw new Error("Overlays may not be stateful.");
                                    (function(e, t, r) {
                                        for (var n = 0, i = r(t); n < e.length && r(e[n]) <= i;) n++;
                                        e.splice(n, 0, t)
                                    })(this.state.overlays, {
                                        mode: n,
                                        modeSpec: t,
                                        opaque: r && r.opaque,
                                        priority: r && r.priority || 0
                                    }, (function(e) {
                                        return e.priority
                                    })), this.state.modeGen++, pn(this)
                                })),
                                removeOverlay: ii((function(e) {
                                    for (var t = this.state.overlays, r = 0; r < t.length; ++r) {
                                        var n = t[r].modeSpec;
                                        if (n == e || "string" == typeof e && n.name == e) return t.splice(r, 1), this.state.modeGen++, void pn(this)
                                    }
                                })),
                                indentLine: ii((function(e, t, r) {
                                    "string" != typeof t && "number" != typeof t && (t = null == t ? this.options.smartIndent ? "smart" : "prev" : t ? "add" : "subtract"), tt(this.doc, e) && Wa(this, e, t, r)
                                })),
                                indentSelection: ii((function(e) {
                                    for (var t = this.doc.sel.ranges, r = -1, n = 0; n < t.length; n++) {
                                        var i = t[n];
                                        if (i.empty()) i.head.line > r && (Wa(this, i.head.line, e, !0), r = i.head.line, n == this.doc.sel.primIndex && Dn(this));
                                        else {
                                            var o = i.from(),
                                                a = i.to(),
                                                l = Math.max(r, o.line);
                                            r = Math.min(this.lastLine(), a.line - (a.ch ? 0 : 1)) + 1;
                                            for (var s = l; s < r; ++s) Wa(this, s, e);
                                            var c = this.doc.sel.ranges;
                                            0 == o.ch && t.length == c.length && c[n].from().ch > 0 && eo(this.doc, n, new Ti(o, c[n].to()), V)
                                        }
                                    }
                                })),
                                getTokenAt: function(e, t) {
                                    return St(this, e, t)
                                },
                                getLineTokens: function(e, t) {
                                    return St(this, nt(e), t, !0)
                                },
                                getTokenTypeAt: function(e) {
                                    e = ut(this.doc, e);
                                    var t, r = gt(this, $e(this.doc, e.line)),
                                        n = 0,
                                        i = (r.length - 1) / 2,
                                        o = e.ch;
                                    if (0 == o) t = r[2];
                                    else
                                        for (;;) {
                                            var a = n + i >> 1;
                                            if ((a ? r[2 * a - 1] : 0) >= o) i = a;
                                            else {
                                                if (!(r[2 * a + 1] < o)) {
                                                    t = r[2 * a + 2];
                                                    break
                                                }
                                                n = a + 1
                                            }
                                        }
                                    var l = t ? t.indexOf("overlay ") : -1;
                                    return l < 0 ? t : 0 == l ? null : t.slice(0, l - 1)
                                },
                                getModeAt: function(t) {
                                    var r = this.doc.mode;
                                    return r.innerMode ? e.innerMode(r, this.getTokenAt(t).state).mode : r
                                },
                                getHelper: function(e, t) {
                                    return this.getHelpers(e, t)[0]
                                },
                                getHelpers: function(e, t) {
                                    var n = [];
                                    if (!r.hasOwnProperty(t)) return n;
                                    var i = r[t],
                                        o = this.getModeAt(e);
                                    if ("string" == typeof o[t]) i[o[t]] && n.push(i[o[t]]);
                                    else if (o[t])
                                        for (var a = 0; a < o[t].length; a++) {
                                            var l = i[o[t][a]];
                                            l && n.push(l)
                                        } else o.helperType && i[o.helperType] ? n.push(i[o.helperType]) : i[o.name] && n.push(i[o.name]);
                                    for (var s = 0; s < i._global.length; s++) {
                                        var c = i._global[s];
                                        c.pred(o, this) && -1 == U(n, c.val) && n.push(c.val)
                                    }
                                    return n
                                },
                                getStateAfter: function(e, t) {
                                    var r = this.doc;
                                    return vt(this, (e = ct(r, null == e ? r.first + r.size - 1 : e)) + 1, t).state
                                },
                                cursorCoords: function(e, t) {
                                    var r = this.doc.sel.primary();
                                    return $r(this, null == e ? r.head : "object" == typeof e ? ut(this.doc, e) : e ? r.from() : r.to(), t || "page")
                                },
                                charCoords: function(e, t) {
                                    return Xr(this, ut(this.doc, e), t || "page")
                                },
                                coordsChar: function(e, t) {
                                    return Jr(this, (e = Kr(this, e, t || "page")).left, e.top)
                                },
                                lineAtHeight: function(e, t) {
                                    return e = Kr(this, {
                                        top: e,
                                        left: 0
                                    }, t || "page").top, et(this.doc, e + this.display.viewOffset)
                                },
                                heightAtLine: function(e, t, r) {
                                    var n, i = !1;
                                    if ("number" == typeof e) {
                                        var o = this.doc.first + this.doc.size - 1;
                                        e < this.doc.first ? e = this.doc.first : e > o && (e = o, i = !0), n = $e(this.doc, e)
                                    } else n = e;
                                    return qr(this, n, {
                                        top: 0,
                                        left: 0
                                    }, t || "page", r || i).top + (i ? this.doc.height - qt(n) : 0)
                                },
                                defaultTextHeight: function() {
                                    return an(this.display)
                                },
                                defaultCharWidth: function() {
                                    return ln(this.display)
                                },
                                getViewport: function() {
                                    return {
                                        from: this.display.viewFrom,
                                        to: this.display.viewTo
                                    }
                                },
                                addWidget: function(e, t, r, n, i) {
                                    var o, a, l, s = this.display,
                                        c = (e = $r(this, ut(this.doc, e))).bottom,
                                        u = e.left;
                                    if (t.style.position = "absolute", t.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(t), s.sizer.appendChild(t), "over" == n) c = e.top;
                                    else if ("above" == n || "near" == n) {
                                        var f = Math.max(s.wrapper.clientHeight, this.doc.height),
                                            h = Math.max(s.sizer.clientWidth, s.lineSpace.clientWidth);
                                        ("above" == n || e.bottom + t.offsetHeight > f) && e.top > t.offsetHeight ? c = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= f && (c = e.bottom), u + t.offsetWidth > h && (u = h - t.offsetWidth)
                                    }
                                    t.style.top = c + "px", t.style.left = t.style.right = "", "right" == i ? (u = s.sizer.clientWidth - t.offsetWidth, t.style.right = "0px") : ("left" == i ? u = 0 : "middle" == i && (u = (s.sizer.clientWidth - t.offsetWidth) / 2), t.style.left = u + "px"), r && (o = this, a = {
                                        left: u,
                                        top: c,
                                        right: u + t.offsetWidth,
                                        bottom: c + t.offsetHeight
                                    }, null != (l = Pn(o, a)).scrollTop && Fn(o, l.scrollTop), null != l.scrollLeft && Hn(o, l.scrollLeft))
                                },
                                triggerOnKeyDown: ii(pa),
                                triggerOnKeyPress: ii(va),
                                triggerOnKeyUp: ga,
                                triggerOnMouseDown: ii(wa),
                                execCommand: function(e) {
                                    if (oa.hasOwnProperty(e)) return oa[e].call(null, this)
                                },
                                triggerElectric: ii((function(e) {
                                    Fa(this, e)
                                })),
                                findPosH: function(e, t, r, n) {
                                    var i = 1;
                                    t < 0 && (i = -1, t = -t);
                                    for (var o = ut(this.doc, e), a = 0; a < t && !(o = za(this.doc, o, i, r, n)).hitSide; ++a);
                                    return o
                                },
                                moveH: ii((function(e, t) {
                                    var r = this;
                                    this.extendSelectionsBy((function(n) {
                                        return r.display.shift || r.doc.extend || n.empty() ? za(r.doc, n.head, e, t, r.options.rtlMoveVisually) : e < 0 ? n.from() : n.to()
                                    }), K)
                                })),
                                deleteH: ii((function(e, t) {
                                    var r = this.doc.sel,
                                        n = this.doc;
                                    r.somethingSelected() ? n.replaceSelection("", null, "+delete") : ta(this, (function(r) {
                                        var i = za(n, r.head, e, t, !1);
                                        return e < 0 ? {
                                            from: i,
                                            to: r.head
                                        } : {
                                            from: r.head,
                                            to: i
                                        }
                                    }))
                                })),
                                findPosV: function(e, t, r, n) {
                                    var i = 1,
                                        o = n;
                                    t < 0 && (i = -1, t = -t);
                                    for (var a = ut(this.doc, e), l = 0; l < t; ++l) {
                                        var s = $r(this, a, "div");
                                        if (null == o ? o = s.left : s.left = o, (a = Ua(this, s, i, r)).hitSide) break
                                    }
                                    return a
                                },
                                moveV: ii((function(e, t) {
                                    var r = this,
                                        n = this.doc,
                                        i = [],
                                        o = !this.display.shift && !n.extend && n.sel.somethingSelected();
                                    if (n.extendSelectionsBy((function(a) {
                                            if (o) return e < 0 ? a.from() : a.to();
                                            var l = $r(r, a.head, "div");
                                            null != a.goalColumn && (l.left = a.goalColumn), i.push(l.left);
                                            var s = Ua(r, l, e, t);
                                            return "page" == t && a == n.sel.primary() && Wn(r, Xr(r, s, "div").top - l.top), s
                                        }), K), i.length)
                                        for (var a = 0; a < n.sel.ranges.length; a++) n.sel.ranges[a].goalColumn = i[a]
                                })),
                                findWordAt: function(e) {
                                    var t = $e(this.doc, e.line).text,
                                        r = e.ch,
                                        n = e.ch;
                                    if (t) {
                                        var i = this.getHelper(e, "wordChars");
                                        "before" != e.sticky && n != t.length || !r ? ++n : --r;
                                        for (var o = t.charAt(r), a = ne(o, i) ? function(e) {
                                                return ne(e, i)
                                            } : /\s/.test(o) ? function(e) {
                                                return /\s/.test(e)
                                            } : function(e) {
                                                return !/\s/.test(e) && !ne(e)
                                            }; r > 0 && a(t.charAt(r - 1));) --r;
                                        for (; n < t.length && a(t.charAt(n));) ++n
                                    }
                                    return new Ti(nt(e.line, r), nt(e.line, n))
                                },
                                toggleOverwrite: function(e) {
                                    null != e && e == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? D(this.display.cursorDiv, "CodeMirror-overwrite") : T(this.display.cursorDiv, "CodeMirror-overwrite"), me(this, "overwriteToggle", this, this.state.overwrite))
                                },
                                hasFocus: function() {
                                    return this.display.input.getField() == W(_(this))
                                },
                                isReadOnly: function() {
                                    return !(!this.options.readOnly && !this.doc.cantEdit)
                                },
                                scrollTo: ii((function(e, t) {
                                    Rn(this, e, t)
                                })),
                                getScrollInfo: function() {
                                    var e = this.display.scroller;
                                    return {
                                        left: e.scrollLeft,
                                        top: e.scrollTop,
                                        height: e.scrollHeight - Er(this) - this.display.barHeight,
                                        width: e.scrollWidth - Er(this) - this.display.barWidth,
                                        clientHeight: Nr(this),
                                        clientWidth: Or(this)
                                    }
                                },
                                scrollIntoView: ii((function(e, t) {
                                    null == e ? (e = {
                                        from: this.doc.sel.primary().head,
                                        to: null
                                    }, null == t && (t = this.options.cursorScrollMargin)) : "number" == typeof e ? e = {
                                        from: nt(e, 0),
                                        to: null
                                    } : null == e.from && (e = {
                                        from: e,
                                        to: null
                                    }), e.to || (e.to = e.from), e.margin = t || 0, null != e.from.line ? function(e, t) {
                                        In(e), e.curOp.scrollToPos = t
                                    }(this, e) : _n(this, e.from, e.to, e.margin)
                                })),
                                setSize: ii((function(e, t) {
                                    var r = this,
                                        n = function(e) {
                                            return "number" == typeof e || /^\d+$/.test(String(e)) ? e + "px" : e
                                        };
                                    null != e && (this.display.wrapper.style.width = n(e)), null != t && (this.display.wrapper.style.height = n(t)), this.options.lineWrapping && jr(this);
                                    var i = this.display.viewFrom;
                                    this.doc.iter(i, this.display.viewTo, (function(e) {
                                        if (e.widgets)
                                            for (var t = 0; t < e.widgets.length; t++)
                                                if (e.widgets[t].noHScroll) {
                                                    gn(r, i, "widget");
                                                    break
                                                }++ i
                                    })), this.curOp.forceUpdate = !0, me(this, "refresh", this)
                                })),
                                operation: function(e) {
                                    return ri(this, e)
                                },
                                startOperation: function() {
                                    return $n(this)
                                },
                                endOperation: function() {
                                    return Yn(this)
                                },
                                refresh: ii((function() {
                                    var e = this.display.cachedTextHeight;
                                    pn(this), this.curOp.forceUpdate = !0, zr(this), Rn(this, this.doc.scrollLeft, this.doc.scrollTop), di(this.display), (null == e || Math.abs(e - an(this.display)) > .5 || this.options.lineWrapping) && fn(this), me(this, "refresh", this)
                                })),
                                swapDoc: ii((function(e) {
                                    var t = this.doc;
                                    return t.cm = null, this.state.selectingText && this.state.selectingText(), Bi(this, e), zr(this), this.display.input.reset(), Rn(this, e.scrollLeft, e.scrollTop), this.curOp.forceScroll = !0, ur(this, "swapDoc", this, t), t
                                })),
                                phrase: function(e) {
                                    var t = this.options.phrases;
                                    return t && Object.prototype.hasOwnProperty.call(t, e) ? t[e] : e
                                },
                                getInputField: function() {
                                    return this.display.input.getField()
                                },
                                getWrapperElement: function() {
                                    return this.display.wrapper
                                },
                                getScrollerElement: function() {
                                    return this.display.scroller
                                },
                                getGutterElement: function() {
                                    return this.display.gutters
                                }
                            }, Se(e), e.registerHelper = function(t, n, i) {
                                r.hasOwnProperty(t) || (r[t] = e[t] = {
                                    _global: []
                                }), r[t][n] = i
                            }, e.registerGlobalHelper = function(t, n, i, o) {
                                e.registerHelper(t, n, o), r[t]._global.push({
                                    pred: i,
                                    val: o
                                })
                            }
                        }(Ma);
                    var Ya = "iter insert remove copy getEditor constructor".split(" ");
                    for (var Za in Ro.prototype) Ro.prototype.hasOwnProperty(Za) && U(Ya, Za) < 0 && (Ma.prototype[Za] = function(e) {
                        return function() {
                            return e.apply(this.doc, arguments)
                        }
                    }(Ro.prototype[Za]));
                    return Se(Ro), Ma.inputStyles = {
                            textarea: $a,
                            contenteditable: Ga
                        }, Ma.defineMode = function(e) {
                            Ma.defaults.mode || "null" == e || (Ma.defaults.mode = e), He.apply(this, arguments)
                        }, Ma.defineMIME = function(e, t) {
                            Be[e] = t
                        }, Ma.defineMode("null", (function() {
                            return {
                                token: function(e) {
                                    return e.skipToEnd()
                                }
                            }
                        })), Ma.defineMIME("text/plain", "null"), Ma.defineExtension = function(e, t) {
                            Ma.prototype[e] = t
                        }, Ma.defineDocExtension = function(e, t) {
                            Ro.prototype[e] = t
                        }, Ma.fromTextArea = function(e, t) {
                            if ((t = t ? H(t) : {}).value = e.value, !t.tabindex && e.tabIndex && (t.tabindex = e.tabIndex), !t.placeholder && e.placeholder && (t.placeholder = e.placeholder), null == t.autofocus) {
                                var r = W(e.ownerDocument);
                                t.autofocus = r == e || null != e.getAttribute("autofocus") && r == document.body
                            }

                            function n() {
                                e.value = l.getValue()
                            }
                            var i;
                            if (e.form && (pe(e.form, "submit", n), !t.leaveSubmitMethodAlone)) {
                                var o = e.form;
                                i = o.submit;
                                try {
                                    var a = o.submit = function() {
                                        n(), o.submit = i, o.submit(), o.submit = a
                                    }
                                } catch (e) {}
                            }
                            t.finishInit = function(r) {
                                r.save = n, r.getTextArea = function() {
                                    return e
                                }, r.toTextArea = function() {
                                    r.toTextArea = isNaN, n(), e.parentNode.removeChild(r.getWrapperElement()), e.style.display = "", e.form && (ve(e.form, "submit", n), t.leaveSubmitMethodAlone || "function" != typeof e.form.submit || (e.form.submit = i))
                                }
                            }, e.style.display = "none";
                            var l = Ma((function(t) {
                                return e.parentNode.insertBefore(t, e.nextSibling)
                            }), t);
                            return l
                        },
                        function(e) {
                            e.off = ve, e.on = pe, e.wheelEventPixels = Ai, e.Doc = Ro, e.splitLines = De, e.countColumn = j, e.findColumn = X, e.isWordChar = re, e.Pass = G, e.signal = me, e.Line = $t, e.changeEnd = Ni, e.scrollbarModel = qn, e.Pos = nt, e.cmpPos = it, e.modes = Fe, e.mimeModes = Be, e.resolveMode = je, e.getMode = ze, e.modeExtensions = Ue, e.extendMode = Ge, e.copyState = Ve, e.startState = Ke, e.innerMode = qe, e.commands = oa, e.keyMap = Ko, e.keyName = Qo, e.isModifierKey = Zo, e.lookupKey = Yo, e.normalizeKeyMap = $o, e.StringStream = Xe, e.SharedTextMarker = Mo, e.TextMarker = Oo, e.LineWidget = Lo, e.e_preventDefault = xe, e.e_stopPropagation = Ce, e.e_stop = ke, e.addClass = D, e.contains = P, e.rmClass = T, e.keyNames = Uo
                        }(Ma), Ma.version = "5.65.7", Ma
                }()
            },
            648: e => {
                "use strict";
                var t = "Function.prototype.bind called on incompatible ",
                    r = Array.prototype.slice,
                    n = Object.prototype.toString,
                    i = "[object Function]";
                e.exports = function(e) {
                    var o = this;
                    if ("function" != typeof o || n.call(o) !== i) throw new TypeError(t + o);
                    for (var a, l = r.call(arguments, 1), s = function() {
                            if (this instanceof a) {
                                var t = o.apply(this, l.concat(r.call(arguments)));
                                return Object(t) === t ? t : this
                            }
                            return o.apply(e, l.concat(r.call(arguments)))
                        }, c = Math.max(0, o.length - l.length), u = [], f = 0; f < c; f++) u.push("$" + f);
                    if (a = Function("binder", "return function (" + u.join(",") + "){ return binder.apply(this,arguments); }")(s), o.prototype) {
                        var h = function() {};
                        h.prototype = o.prototype, a.prototype = new h, h.prototype = null
                    }
                    return a
                }
            },
            612: (e, t, r) => {
                "use strict";
                var n = r(648);
                e.exports = Function.prototype.bind || n
            },
            210: (e, t, r) => {
                "use strict";
                var n, i = SyntaxError,
                    o = Function,
                    a = TypeError,
                    l = function(e) {
                        try {
                            return o('"use strict"; return (' + e + ").constructor;")()
                        } catch (e) {}
                    },
                    s = Object.getOwnPropertyDescriptor;
                if (s) try {
                    s({}, "")
                } catch (e) {
                    s = null
                }
                var c = function() {
                        throw new a
                    },
                    u = s ? function() {
                        try {
                            return c
                        } catch (e) {
                            try {
                                return s(arguments, "callee").get
                            } catch (e) {
                                return c
                            }
                        }
                    }() : c,
                    f = r(405)(),
                    h = Object.getPrototypeOf || function(e) {
                        return e.__proto__
                    },
                    d = {},
                    p = "undefined" == typeof Uint8Array ? n : h(Uint8Array),
                    g = {
                        "%AggregateError%": "undefined" == typeof AggregateError ? n : AggregateError,
                        "%Array%": Array,
                        "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? n : ArrayBuffer,
                        "%ArrayIteratorPrototype%": f ? h([][Symbol.iterator]()) : n,
                        "%AsyncFromSyncIteratorPrototype%": n,
                        "%AsyncFunction%": d,
                        "%AsyncGenerator%": d,
                        "%AsyncGeneratorFunction%": d,
                        "%AsyncIteratorPrototype%": d,
                        "%Atomics%": "undefined" == typeof Atomics ? n : Atomics,
                        "%BigInt%": "undefined" == typeof BigInt ? n : BigInt,
                        "%Boolean%": Boolean,
                        "%DataView%": "undefined" == typeof DataView ? n : DataView,
                        "%Date%": Date,
                        "%decodeURI%": decodeURI,
                        "%decodeURIComponent%": decodeURIComponent,
                        "%encodeURI%": encodeURI,
                        "%encodeURIComponent%": encodeURIComponent,
                        "%Error%": Error,
                        "%eval%": eval,
                        "%EvalError%": EvalError,
                        "%Float32Array%": "undefined" == typeof Float32Array ? n : Float32Array,
                        "%Float64Array%": "undefined" == typeof Float64Array ? n : Float64Array,
                        "%FinalizationRegistry%": "undefined" == typeof FinalizationRegistry ? n : FinalizationRegistry,
                        "%Function%": o,
                        "%GeneratorFunction%": d,
                        "%Int8Array%": "undefined" == typeof Int8Array ? n : Int8Array,
                        "%Int16Array%": "undefined" == typeof Int16Array ? n : Int16Array,
                        "%Int32Array%": "undefined" == typeof Int32Array ? n : Int32Array,
                        "%isFinite%": isFinite,
                        "%isNaN%": isNaN,
                        "%IteratorPrototype%": f ? h(h([][Symbol.iterator]())) : n,
                        "%JSON%": "object" == typeof JSON ? JSON : n,
                        "%Map%": "undefined" == typeof Map ? n : Map,
                        "%MapIteratorPrototype%": "undefined" != typeof Map && f ? h((new Map)[Symbol.iterator]()) : n,
                        "%Math%": Math,
                        "%Number%": Number,
                        "%Object%": Object,
                        "%parseFloat%": parseFloat,
                        "%parseInt%": parseInt,
                        "%Promise%": "undefined" == typeof Promise ? n : Promise,
                        "%Proxy%": "undefined" == typeof Proxy ? n : Proxy,
                        "%RangeError%": RangeError,
                        "%ReferenceError%": ReferenceError,
                        "%Reflect%": "undefined" == typeof Reflect ? n : Reflect,
                        "%RegExp%": RegExp,
                        "%Set%": "undefined" == typeof Set ? n : Set,
                        "%SetIteratorPrototype%": "undefined" != typeof Set && f ? h((new Set)[Symbol.iterator]()) : n,
                        "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? n : SharedArrayBuffer,
                        "%String%": String,
                        "%StringIteratorPrototype%": f ? h("" [Symbol.iterator]()) : n,
                        "%Symbol%": f ? Symbol : n,
                        "%SyntaxError%": i,
                        "%ThrowTypeError%": u,
                        "%TypedArray%": p,
                        "%TypeError%": a,
                        "%Uint8Array%": "undefined" == typeof Uint8Array ? n : Uint8Array,
                        "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? n : Uint8ClampedArray,
                        "%Uint16Array%": "undefined" == typeof Uint16Array ? n : Uint16Array,
                        "%Uint32Array%": "undefined" == typeof Uint32Array ? n : Uint32Array,
                        "%URIError%": URIError,
                        "%WeakMap%": "undefined" == typeof WeakMap ? n : WeakMap,
                        "%WeakRef%": "undefined" == typeof WeakRef ? n : WeakRef,
                        "%WeakSet%": "undefined" == typeof WeakSet ? n : WeakSet
                    },
                    v = function e(t) {
                        var r;
                        if ("%AsyncFunction%" === t) r = l("async function () {}");
                        else if ("%GeneratorFunction%" === t) r = l("function* () {}");
                        else if ("%AsyncGeneratorFunction%" === t) r = l("async function* () {}");
                        else if ("%AsyncGenerator%" === t) {
                            var n = e("%AsyncGeneratorFunction%");
                            n && (r = n.prototype)
                        } else if ("%AsyncIteratorPrototype%" === t) {
                            var i = e("%AsyncGenerator%");
                            i && (r = h(i.prototype))
                        }
                        return g[t] = r, r
                    },
                    m = {
                        "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
                        "%ArrayPrototype%": ["Array", "prototype"],
                        "%ArrayProto_entries%": ["Array", "prototype", "entries"],
                        "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
                        "%ArrayProto_keys%": ["Array", "prototype", "keys"],
                        "%ArrayProto_values%": ["Array", "prototype", "values"],
                        "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
                        "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
                        "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
                        "%BooleanPrototype%": ["Boolean", "prototype"],
                        "%DataViewPrototype%": ["DataView", "prototype"],
                        "%DatePrototype%": ["Date", "prototype"],
                        "%ErrorPrototype%": ["Error", "prototype"],
                        "%EvalErrorPrototype%": ["EvalError", "prototype"],
                        "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
                        "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
                        "%FunctionPrototype%": ["Function", "prototype"],
                        "%Generator%": ["GeneratorFunction", "prototype"],
                        "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
                        "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
                        "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
                        "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
                        "%JSONParse%": ["JSON", "parse"],
                        "%JSONStringify%": ["JSON", "stringify"],
                        "%MapPrototype%": ["Map", "prototype"],
                        "%NumberPrototype%": ["Number", "prototype"],
                        "%ObjectPrototype%": ["Object", "prototype"],
                        "%ObjProto_toString%": ["Object", "prototype", "toString"],
                        "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
                        "%PromisePrototype%": ["Promise", "prototype"],
                        "%PromiseProto_then%": ["Promise", "prototype", "then"],
                        "%Promise_all%": ["Promise", "all"],
                        "%Promise_reject%": ["Promise", "reject"],
                        "%Promise_resolve%": ["Promise", "resolve"],
                        "%RangeErrorPrototype%": ["RangeError", "prototype"],
                        "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
                        "%RegExpPrototype%": ["RegExp", "prototype"],
                        "%SetPrototype%": ["Set", "prototype"],
                        "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
                        "%StringPrototype%": ["String", "prototype"],
                        "%SymbolPrototype%": ["Symbol", "prototype"],
                        "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
                        "%TypedArrayPrototype%": ["TypedArray", "prototype"],
                        "%TypeErrorPrototype%": ["TypeError", "prototype"],
                        "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
                        "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
                        "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
                        "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
                        "%URIErrorPrototype%": ["URIError", "prototype"],
                        "%WeakMapPrototype%": ["WeakMap", "prototype"],
                        "%WeakSetPrototype%": ["WeakSet", "prototype"]
                    },
                    y = r(612),
                    b = r(642),
                    w = y.call(Function.call, Array.prototype.concat),
                    S = y.call(Function.apply, Array.prototype.splice),
                    x = y.call(Function.call, String.prototype.replace),
                    C = y.call(Function.call, String.prototype.slice),
                    A = y.call(Function.call, RegExp.prototype.exec),
                    k = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
                    L = /\\(\\)?/g,
                    T = function(e) {
                        var t = C(e, 0, 1),
                            r = C(e, -1);
                        if ("%" === t && "%" !== r) throw new i("invalid intrinsic syntax, expected closing `%`");
                        if ("%" === r && "%" !== t) throw new i("invalid intrinsic syntax, expected opening `%`");
                        var n = [];
                        return x(e, k, (function(e, t, r, i) {
                            n[n.length] = r ? x(i, L, "$1") : t || e
                        })), n
                    },
                    E = function(e, t) {
                        var r, n = e;
                        if (b(m, n) && (n = "%" + (r = m[n])[0] + "%"), b(g, n)) {
                            var o = g[n];
                            if (o === d && (o = v(n)), void 0 === o && !t) throw new a("intrinsic " + e + " exists, but is not available. Please file an issue!");
                            return {
                                alias: r,
                                name: n,
                                value: o
                            }
                        }
                        throw new i("intrinsic " + e + " does not exist!")
                    };
                e.exports = function(e, t) {
                    if ("string" != typeof e || 0 === e.length) throw new a("intrinsic name must be a non-empty string");
                    if (arguments.length > 1 && "boolean" != typeof t) throw new a('"allowMissing" argument must be a boolean');
                    if (null === A(/^%?[^%]*%?$/g, e)) throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
                    var r = T(e),
                        n = r.length > 0 ? r[0] : "",
                        o = E("%" + n + "%", t),
                        l = o.name,
                        c = o.value,
                        u = !1,
                        f = o.alias;
                    f && (n = f[0], S(r, w([0, 1], f)));
                    for (var h = 1, d = !0; h < r.length; h += 1) {
                        var p = r[h],
                            v = C(p, 0, 1),
                            m = C(p, -1);
                        if (('"' === v || "'" === v || "`" === v || '"' === m || "'" === m || "`" === m) && v !== m) throw new i("property names with quotes must have matching quotes");
                        if ("constructor" !== p && d || (u = !0), b(g, l = "%" + (n += "." + p) + "%")) c = g[l];
                        else if (null != c) {
                            if (!(p in c)) {
                                if (!t) throw new a("base intrinsic for " + e + " exists, but the property is not available.");
                                return
                            }
                            if (s && h + 1 >= r.length) {
                                var y = s(c, p);
                                c = (d = !!y) && "get" in y && !("originalValue" in y.get) ? y.get : c[p]
                            } else d = b(c, p), c = c[p];
                            d && !u && (g[l] = c)
                        }
                    }
                    return c
                }
            },
            405: (e, t, r) => {
                "use strict";
                var n = "undefined" != typeof Symbol && Symbol,
                    i = r(419);
                e.exports = function() {
                    return "function" == typeof n && "function" == typeof Symbol && "symbol" == typeof n("foo") && "symbol" == typeof Symbol("bar") && i()
                }
            },
            419: e => {
                "use strict";
                e.exports = function() {
                    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols) return !1;
                    if ("symbol" == typeof Symbol.iterator) return !0;
                    var e = {},
                        t = Symbol("test"),
                        r = Object(t);
                    if ("string" == typeof t) return !1;
                    if ("[object Symbol]" !== Object.prototype.toString.call(t)) return !1;
                    if ("[object Symbol]" !== Object.prototype.toString.call(r)) return !1;
                    for (t in e[t] = 42, e) return !1;
                    if ("function" == typeof Object.keys && 0 !== Object.keys(e).length) return !1;
                    if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(e).length) return !1;
                    var n = Object.getOwnPropertySymbols(e);
                    if (1 !== n.length || n[0] !== t) return !1;
                    if (!Object.prototype.propertyIsEnumerable.call(e, t)) return !1;
                    if ("function" == typeof Object.getOwnPropertyDescriptor) {
                        var i = Object.getOwnPropertyDescriptor(e, t);
                        if (42 !== i.value || !0 !== i.enumerable) return !1
                    }
                    return !0
                }
            },
            642: (e, t, r) => {
                "use strict";
                var n = r(612);
                e.exports = n.call(Function.call, Object.prototype.hasOwnProperty)
            },
            12: (e, t, r) => {
                var n = "function" == typeof Map && Map.prototype,
                    i = Object.getOwnPropertyDescriptor && n ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null,
                    o = n && i && "function" == typeof i.get ? i.get : null,
                    a = n && Map.prototype.forEach,
                    l = "function" == typeof Set && Set.prototype,
                    s = Object.getOwnPropertyDescriptor && l ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null,
                    c = l && s && "function" == typeof s.get ? s.get : null,
                    u = l && Set.prototype.forEach,
                    f = "function" == typeof WeakMap && WeakMap.prototype ? WeakMap.prototype.has : null,
                    h = "function" == typeof WeakSet && WeakSet.prototype ? WeakSet.prototype.has : null,
                    d = "function" == typeof WeakRef && WeakRef.prototype ? WeakRef.prototype.deref : null,
                    p = Boolean.prototype.valueOf,
                    g = Object.prototype.toString,
                    v = Function.prototype.toString,
                    m = String.prototype.match,
                    y = String.prototype.slice,
                    b = String.prototype.replace,
                    w = String.prototype.toUpperCase,
                    S = String.prototype.toLowerCase,
                    x = RegExp.prototype.test,
                    C = Array.prototype.concat,
                    A = Array.prototype.join,
                    k = Array.prototype.slice,
                    L = Math.floor,
                    T = "function" == typeof BigInt ? BigInt.prototype.valueOf : null,
                    E = Object.getOwnPropertySymbols,
                    O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol.prototype.toString : null,
                    N = "function" == typeof Symbol && "object" == typeof Symbol.iterator,
                    M = "function" == typeof Symbol && Symbol.toStringTag && (Symbol.toStringTag, 1) ? Symbol.toStringTag : null,
                    P = Object.prototype.propertyIsEnumerable,
                    W = ("function" == typeof Reflect ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(e) {
                        return e.__proto__
                    } : null);

                function D(e, t) {
                    if (e === 1 / 0 || e === -1 / 0 || e != e || e && e > -1e3 && e < 1e3 || x.call(/e/, t)) return t;
                    var r = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
                    if ("number" == typeof e) {
                        var n = e < 0 ? -L(-e) : L(e);
                        if (n !== e) {
                            var i = String(n),
                                o = y.call(t, i.length + 1);
                            return b.call(i, r, "$&_") + "." + b.call(b.call(o, /([0-9]{3})/g, "$&_"), /_$/, "")
                        }
                    }
                    return b.call(t, r, "$&_")
                }
                var R = r(654),
                    I = R.custom,
                    _ = z(I) ? I : null;

                function F(e, t, r) {
                    var n = "double" === (r.quoteStyle || t) ? '"' : "'";
                    return n + e + n
                }

                function B(e) {
                    return b.call(String(e), /"/g, "&quot;")
                }

                function H(e) {
                    return !("[object Array]" !== V(e) || M && "object" == typeof e && M in e)
                }

                function j(e) {
                    return !("[object RegExp]" !== V(e) || M && "object" == typeof e && M in e)
                }

                function z(e) {
                    if (N) return e && "object" == typeof e && e instanceof Symbol;
                    if ("symbol" == typeof e) return !0;
                    if (!e || "object" != typeof e || !O) return !1;
                    try {
                        return O.call(e), !0
                    } catch (e) {}
                    return !1
                }
                e.exports = function e(t, r, n, i) {
                    var l = r || {};
                    if (G(l, "quoteStyle") && "single" !== l.quoteStyle && "double" !== l.quoteStyle) throw new TypeError('option "quoteStyle" must be "single" or "double"');
                    if (G(l, "maxStringLength") && ("number" == typeof l.maxStringLength ? l.maxStringLength < 0 && l.maxStringLength !== 1 / 0 : null !== l.maxStringLength)) throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
                    var s = !G(l, "customInspect") || l.customInspect;
                    if ("boolean" != typeof s && "symbol" !== s) throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
                    if (G(l, "indent") && null !== l.indent && "\t" !== l.indent && !(parseInt(l.indent, 10) === l.indent && l.indent > 0)) throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
                    if (G(l, "numericSeparator") && "boolean" != typeof l.numericSeparator) throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
                    var g = l.numericSeparator;
                    if (void 0 === t) return "undefined";
                    if (null === t) return "null";
                    if ("boolean" == typeof t) return t ? "true" : "false";
                    if ("string" == typeof t) return K(t, l);
                    if ("number" == typeof t) {
                        if (0 === t) return 1 / 0 / t > 0 ? "0" : "-0";
                        var w = String(t);
                        return g ? D(t, w) : w
                    }
                    if ("bigint" == typeof t) {
                        var x = String(t) + "n";
                        return g ? D(t, x) : x
                    }
                    var L = void 0 === l.depth ? 5 : l.depth;
                    if (void 0 === n && (n = 0), n >= L && L > 0 && "object" == typeof t) return H(t) ? "[Array]" : "[Object]";
                    var E, I = function(e, t) {
                        var r;
                        if ("\t" === e.indent) r = "\t";
                        else {
                            if (!("number" == typeof e.indent && e.indent > 0)) return null;
                            r = A.call(Array(e.indent + 1), " ")
                        }
                        return {
                            base: r,
                            prev: A.call(Array(t + 1), r)
                        }
                    }(l, n);
                    if (void 0 === i) i = [];
                    else if (q(i, t) >= 0) return "[Circular]";

                    function U(t, r, o) {
                        if (r && (i = k.call(i)).push(r), o) {
                            var a = {
                                depth: l.depth
                            };
                            return G(l, "quoteStyle") && (a.quoteStyle = l.quoteStyle), e(t, a, n + 1, i)
                        }
                        return e(t, l, n + 1, i)
                    }
                    if ("function" == typeof t && !j(t)) {
                        var X = function(e) {
                                if (e.name) return e.name;
                                var t = m.call(v.call(e), /^function\s*([\w$]+)/);
                                return t ? t[1] : null
                            }(t),
                            ee = Q(t, U);
                        return "[Function" + (X ? ": " + X : " (anonymous)") + "]" + (ee.length > 0 ? " { " + A.call(ee, ", ") + " }" : "")
                    }
                    if (z(t)) {
                        var te = N ? b.call(String(t), /^(Symbol\(.*\))_[^)]*$/, "$1") : O.call(t);
                        return "object" != typeof t || N ? te : $(te)
                    }
                    if ((E = t) && "object" == typeof E && ("undefined" != typeof HTMLElement && E instanceof HTMLElement || "string" == typeof E.nodeName && "function" == typeof E.getAttribute)) {
                        for (var re = "<" + S.call(String(t.nodeName)), ne = t.attributes || [], ie = 0; ie < ne.length; ie++) re += " " + ne[ie].name + "=" + F(B(ne[ie].value), "double", l);
                        return re += ">", t.childNodes && t.childNodes.length && (re += "..."), re + "</" + S.call(String(t.nodeName)) + ">"
                    }
                    if (H(t)) {
                        if (0 === t.length) return "[]";
                        var oe = Q(t, U);
                        return I && ! function(e) {
                            for (var t = 0; t < e.length; t++)
                                if (q(e[t], "\n") >= 0) return !1;
                            return !0
                        }(oe) ? "[" + J(oe, I) + "]" : "[ " + A.call(oe, ", ") + " ]"
                    }
                    if (function(e) {
                            return !("[object Error]" !== V(e) || M && "object" == typeof e && M in e)
                        }(t)) {
                        var ae = Q(t, U);
                        return "cause" in Error.prototype || !("cause" in t) || P.call(t, "cause") ? 0 === ae.length ? "[" + String(t) + "]" : "{ [" + String(t) + "] " + A.call(ae, ", ") + " }" : "{ [" + String(t) + "] " + A.call(C.call("[cause]: " + U(t.cause), ae), ", ") + " }"
                    }
                    if ("object" == typeof t && s) {
                        if (_ && "function" == typeof t[_] && R) return R(t, {
                            depth: L - n
                        });
                        if ("symbol" !== s && "function" == typeof t.inspect) return t.inspect()
                    }
                    if (function(e) {
                            if (!o || !e || "object" != typeof e) return !1;
                            try {
                                o.call(e);
                                try {
                                    c.call(e)
                                } catch (e) {
                                    return !0
                                }
                                return e instanceof Map
                            } catch (e) {}
                            return !1
                        }(t)) {
                        var le = [];
                        return a.call(t, (function(e, r) {
                            le.push(U(r, t, !0) + " => " + U(e, t))
                        })), Z("Map", o.call(t), le, I)
                    }
                    if (function(e) {
                            if (!c || !e || "object" != typeof e) return !1;
                            try {
                                c.call(e);
                                try {
                                    o.call(e)
                                } catch (e) {
                                    return !0
                                }
                                return e instanceof Set
                            } catch (e) {}
                            return !1
                        }(t)) {
                        var se = [];
                        return u.call(t, (function(e) {
                            se.push(U(e, t))
                        })), Z("Set", c.call(t), se, I)
                    }
                    if (function(e) {
                            if (!f || !e || "object" != typeof e) return !1;
                            try {
                                f.call(e, f);
                                try {
                                    h.call(e, h)
                                } catch (e) {
                                    return !0
                                }
                                return e instanceof WeakMap
                            } catch (e) {}
                            return !1
                        }(t)) return Y("WeakMap");
                    if (function(e) {
                            if (!h || !e || "object" != typeof e) return !1;
                            try {
                                h.call(e, h);
                                try {
                                    f.call(e, f)
                                } catch (e) {
                                    return !0
                                }
                                return e instanceof WeakSet
                            } catch (e) {}
                            return !1
                        }(t)) return Y("WeakSet");
                    if (function(e) {
                            if (!d || !e || "object" != typeof e) return !1;
                            try {
                                return d.call(e), !0
                            } catch (e) {}
                            return !1
                        }(t)) return Y("WeakRef");
                    if (function(e) {
                            return !("[object Number]" !== V(e) || M && "object" == typeof e && M in e)
                        }(t)) return $(U(Number(t)));
                    if (function(e) {
                            if (!e || "object" != typeof e || !T) return !1;
                            try {
                                return T.call(e), !0
                            } catch (e) {}
                            return !1
                        }(t)) return $(U(T.call(t)));
                    if (function(e) {
                            return !("[object Boolean]" !== V(e) || M && "object" == typeof e && M in e)
                        }(t)) return $(p.call(t));
                    if (function(e) {
                            return !("[object String]" !== V(e) || M && "object" == typeof e && M in e)
                        }(t)) return $(U(String(t)));
                    if (! function(e) {
                            return !("[object Date]" !== V(e) || M && "object" == typeof e && M in e)
                        }(t) && !j(t)) {
                        var ce = Q(t, U),
                            ue = W ? W(t) === Object.prototype : t instanceof Object || t.constructor === Object,
                            fe = t instanceof Object ? "" : "null prototype",
                            he = !ue && M && Object(t) === t && M in t ? y.call(V(t), 8, -1) : fe ? "Object" : "",
                            de = (ue || "function" != typeof t.constructor ? "" : t.constructor.name ? t.constructor.name + " " : "") + (he || fe ? "[" + A.call(C.call([], he || [], fe || []), ": ") + "] " : "");
                        return 0 === ce.length ? de + "{}" : I ? de + "{" + J(ce, I) + "}" : de + "{ " + A.call(ce, ", ") + " }"
                    }
                    return String(t)
                };
                var U = Object.prototype.hasOwnProperty || function(e) {
                    return e in this
                };

                function G(e, t) {
                    return U.call(e, t)
                }

                function V(e) {
                    return g.call(e)
                }

                function q(e, t) {
                    if (e.indexOf) return e.indexOf(t);
                    for (var r = 0, n = e.length; r < n; r++)
                        if (e[r] === t) return r;
                    return -1
                }

                function K(e, t) {
                    if (e.length > t.maxStringLength) {
                        var r = e.length - t.maxStringLength,
                            n = "... " + r + " more character" + (r > 1 ? "s" : "");
                        return K(y.call(e, 0, t.maxStringLength), t) + n
                    }
                    return F(b.call(b.call(e, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, X), "single", t)
                }

                function X(e) {
                    var t = e.charCodeAt(0),
                        r = {
                            8: "b",
                            9: "t",
                            10: "n",
                            12: "f",
                            13: "r"
                        } [t];
                    return r ? "\\" + r : "\\x" + (t < 16 ? "0" : "") + w.call(t.toString(16))
                }

                function $(e) {
                    return "Object(" + e + ")"
                }

                function Y(e) {
                    return e + " { ? }"
                }

                function Z(e, t, r, n) {
                    return e + " (" + t + ") {" + (n ? J(r, n) : A.call(r, ", ")) + "}"
                }

                function J(e, t) {
                    if (0 === e.length) return "";
                    var r = "\n" + t.prev + t.base;
                    return r + A.call(e, "," + r) + "\n" + t.prev
                }

                function Q(e, t) {
                    var r = H(e),
                        n = [];
                    if (r) {
                        n.length = e.length;
                        for (var i = 0; i < e.length; i++) n[i] = G(e, i) ? t(e[i], e) : ""
                    }
                    var o, a = "function" == typeof E ? E(e) : [];
                    if (N) {
                        o = {};
                        for (var l = 0; l < a.length; l++) o["$" + a[l]] = a[l]
                    }
                    for (var s in e) G(e, s) && (r && String(Number(s)) === s && s < e.length || N && o["$" + s] instanceof Symbol || (x.call(/[^\w$]/, s) ? n.push(t(s, e) + ": " + t(e[s], e)) : n.push(s + ": " + t(e[s], e))));
                    if ("function" == typeof E)
                        for (var c = 0; c < a.length; c++) P.call(e, a[c]) && n.push("[" + t(a[c]) + "]: " + t(e[a[c]], e));
                    return n
                }
            },
            798: e => {
                "use strict";
                var t = String.prototype.replace,
                    r = /%20/g,
                    n = "RFC3986";
                e.exports = {
                    default: n,
                    formatters: {
                        RFC1738: function(e) {
                            return t.call(e, r, "+")
                        },
                        RFC3986: function(e) {
                            return String(e)
                        }
                    },
                    RFC1738: "RFC1738",
                    RFC3986: n
                }
            },
            129: (e, t, r) => {
                "use strict";
                var n = r(261),
                    i = r(235),
                    o = r(798);
                e.exports = {
                    formats: o,
                    parse: i,
                    stringify: n
                }
            },
            235: (e, t, r) => {
                "use strict";
                var n = r(769),
                    i = Object.prototype.hasOwnProperty,
                    o = Array.isArray,
                    a = {
                        allowDots: !1,
                        allowPrototypes: !1,
                        allowSparse: !1,
                        arrayLimit: 20,
                        charset: "utf-8",
                        charsetSentinel: !1,
                        comma: !1,
                        decoder: n.decode,
                        delimiter: "&",
                        depth: 5,
                        ignoreQueryPrefix: !1,
                        interpretNumericEntities: !1,
                        parameterLimit: 1e3,
                        parseArrays: !0,
                        plainObjects: !1,
                        strictNullHandling: !1
                    },
                    l = function(e) {
                        return e.replace(/&#(\d+);/g, (function(e, t) {
                            return String.fromCharCode(parseInt(t, 10))
                        }))
                    },
                    s = function(e, t) {
                        return e && "string" == typeof e && t.comma && e.indexOf(",") > -1 ? e.split(",") : e
                    },
                    c = function(e, t, r, n) {
                        if (e) {
                            var o = r.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e,
                                a = /(\[[^[\]]*])/g,
                                l = r.depth > 0 && /(\[[^[\]]*])/.exec(o),
                                c = l ? o.slice(0, l.index) : o,
                                u = [];
                            if (c) {
                                if (!r.plainObjects && i.call(Object.prototype, c) && !r.allowPrototypes) return;
                                u.push(c)
                            }
                            for (var f = 0; r.depth > 0 && null !== (l = a.exec(o)) && f < r.depth;) {
                                if (f += 1, !r.plainObjects && i.call(Object.prototype, l[1].slice(1, -1)) && !r.allowPrototypes) return;
                                u.push(l[1])
                            }
                            return l && u.push("[" + o.slice(l.index) + "]"),
                                function(e, t, r, n) {
                                    for (var i = n ? t : s(t, r), o = e.length - 1; o >= 0; --o) {
                                        var a, l = e[o];
                                        if ("[]" === l && r.parseArrays) a = [].concat(i);
                                        else {
                                            a = r.plainObjects ? Object.create(null) : {};
                                            var c = "[" === l.charAt(0) && "]" === l.charAt(l.length - 1) ? l.slice(1, -1) : l,
                                                u = parseInt(c, 10);
                                            r.parseArrays || "" !== c ? !isNaN(u) && l !== c && String(u) === c && u >= 0 && r.parseArrays && u <= r.arrayLimit ? (a = [])[u] = i : "__proto__" !== c && (a[c] = i) : a = {
                                                0: i
                                            }
                                        }
                                        i = a
                                    }
                                    return i
                                }(u, t, r, n)
                        }
                    };
                e.exports = function(e, t) {
                    var r = function(e) {
                        if (!e) return a;
                        if (null !== e.decoder && void 0 !== e.decoder && "function" != typeof e.decoder) throw new TypeError("Decoder has to be a function.");
                        if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
                        var t = void 0 === e.charset ? a.charset : e.charset;
                        return {
                            allowDots: void 0 === e.allowDots ? a.allowDots : !!e.allowDots,
                            allowPrototypes: "boolean" == typeof e.allowPrototypes ? e.allowPrototypes : a.allowPrototypes,
                            allowSparse: "boolean" == typeof e.allowSparse ? e.allowSparse : a.allowSparse,
                            arrayLimit: "number" == typeof e.arrayLimit ? e.arrayLimit : a.arrayLimit,
                            charset: t,
                            charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : a.charsetSentinel,
                            comma: "boolean" == typeof e.comma ? e.comma : a.comma,
                            decoder: "function" == typeof e.decoder ? e.decoder : a.decoder,
                            delimiter: "string" == typeof e.delimiter || n.isRegExp(e.delimiter) ? e.delimiter : a.delimiter,
                            depth: "number" == typeof e.depth || !1 === e.depth ? +e.depth : a.depth,
                            ignoreQueryPrefix: !0 === e.ignoreQueryPrefix,
                            interpretNumericEntities: "boolean" == typeof e.interpretNumericEntities ? e.interpretNumericEntities : a.interpretNumericEntities,
                            parameterLimit: "number" == typeof e.parameterLimit ? e.parameterLimit : a.parameterLimit,
                            parseArrays: !1 !== e.parseArrays,
                            plainObjects: "boolean" == typeof e.plainObjects ? e.plainObjects : a.plainObjects,
                            strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : a.strictNullHandling
                        }
                    }(t);
                    if ("" === e || null == e) return r.plainObjects ? Object.create(null) : {};
                    for (var u = "string" == typeof e ? function(e, t) {
                            var r, c = {},
                                u = t.ignoreQueryPrefix ? e.replace(/^\?/, "") : e,
                                f = t.parameterLimit === 1 / 0 ? void 0 : t.parameterLimit,
                                h = u.split(t.delimiter, f),
                                d = -1,
                                p = t.charset;
                            if (t.charsetSentinel)
                                for (r = 0; r < h.length; ++r) 0 === h[r].indexOf("utf8=") && ("utf8=%E2%9C%93" === h[r] ? p = "utf-8" : "utf8=%26%2310003%3B" === h[r] && (p = "iso-8859-1"), d = r, r = h.length);
                            for (r = 0; r < h.length; ++r)
                                if (r !== d) {
                                    var g, v, m = h[r],
                                        y = m.indexOf("]="),
                                        b = -1 === y ? m.indexOf("=") : y + 1; - 1 === b ? (g = t.decoder(m, a.decoder, p, "key"), v = t.strictNullHandling ? null : "") : (g = t.decoder(m.slice(0, b), a.decoder, p, "key"), v = n.maybeMap(s(m.slice(b + 1), t), (function(e) {
                                        return t.decoder(e, a.decoder, p, "value")
                                    }))), v && t.interpretNumericEntities && "iso-8859-1" === p && (v = l(v)), m.indexOf("[]=") > -1 && (v = o(v) ? [v] : v), i.call(c, g) ? c[g] = n.combine(c[g], v) : c[g] = v
                                } return c
                        }(e, r) : e, f = r.plainObjects ? Object.create(null) : {}, h = Object.keys(u), d = 0; d < h.length; ++d) {
                        var p = h[d],
                            g = c(p, u[p], r, "string" == typeof e);
                        f = n.merge(f, g, r)
                    }
                    return !0 === r.allowSparse ? f : n.compact(f)
                }
            },
            261: (e, t, r) => {
                "use strict";
                var n = r(478),
                    i = r(769),
                    o = r(798),
                    a = Object.prototype.hasOwnProperty,
                    l = {
                        brackets: function(e) {
                            return e + "[]"
                        },
                        comma: "comma",
                        indices: function(e, t) {
                            return e + "[" + t + "]"
                        },
                        repeat: function(e) {
                            return e
                        }
                    },
                    s = Array.isArray,
                    c = String.prototype.split,
                    u = Array.prototype.push,
                    f = function(e, t) {
                        u.apply(e, s(t) ? t : [t])
                    },
                    h = Date.prototype.toISOString,
                    d = o.default,
                    p = {
                        addQueryPrefix: !1,
                        allowDots: !1,
                        charset: "utf-8",
                        charsetSentinel: !1,
                        delimiter: "&",
                        encode: !0,
                        encoder: i.encode,
                        encodeValuesOnly: !1,
                        format: d,
                        formatter: o.formatters[d],
                        indices: !1,
                        serializeDate: function(e) {
                            return h.call(e)
                        },
                        skipNulls: !1,
                        strictNullHandling: !1
                    },
                    g = {},
                    v = function e(t, r, o, a, l, u, h, d, v, m, y, b, w, S, x, C) {
                        for (var A, k = t, L = C, T = 0, E = !1; void 0 !== (L = L.get(g)) && !E;) {
                            var O = L.get(t);
                            if (T += 1, void 0 !== O) {
                                if (O === T) throw new RangeError("Cyclic object value");
                                E = !0
                            }
                            void 0 === L.get(g) && (T = 0)
                        }
                        if ("function" == typeof d ? k = d(r, k) : k instanceof Date ? k = y(k) : "comma" === o && s(k) && (k = i.maybeMap(k, (function(e) {
                                return e instanceof Date ? y(e) : e
                            }))), null === k) {
                            if (l) return h && !S ? h(r, p.encoder, x, "key", b) : r;
                            k = ""
                        }
                        if ("string" == typeof(A = k) || "number" == typeof A || "boolean" == typeof A || "symbol" == typeof A || "bigint" == typeof A || i.isBuffer(k)) {
                            if (h) {
                                var N = S ? r : h(r, p.encoder, x, "key", b);
                                if ("comma" === o && S) {
                                    for (var M = c.call(String(k), ","), P = "", W = 0; W < M.length; ++W) P += (0 === W ? "" : ",") + w(h(M[W], p.encoder, x, "value", b));
                                    return [w(N) + (a && s(k) && 1 === M.length ? "[]" : "") + "=" + P]
                                }
                                return [w(N) + "=" + w(h(k, p.encoder, x, "value", b))]
                            }
                            return [w(r) + "=" + w(String(k))]
                        }
                        var D, R = [];
                        if (void 0 === k) return R;
                        if ("comma" === o && s(k)) D = [{
                            value: k.length > 0 ? k.join(",") || null : void 0
                        }];
                        else if (s(d)) D = d;
                        else {
                            var I = Object.keys(k);
                            D = v ? I.sort(v) : I
                        }
                        for (var _ = a && s(k) && 1 === k.length ? r + "[]" : r, F = 0; F < D.length; ++F) {
                            var B = D[F],
                                H = "object" == typeof B && void 0 !== B.value ? B.value : k[B];
                            if (!u || null !== H) {
                                var j = s(k) ? "function" == typeof o ? o(_, B) : _ : _ + (m ? "." + B : "[" + B + "]");
                                C.set(t, T);
                                var z = n();
                                z.set(g, C), f(R, e(H, j, o, a, l, u, h, d, v, m, y, b, w, S, x, z))
                            }
                        }
                        return R
                    };
                e.exports = function(e, t) {
                    var r, i = e,
                        c = function(e) {
                            if (!e) return p;
                            if (null !== e.encoder && void 0 !== e.encoder && "function" != typeof e.encoder) throw new TypeError("Encoder has to be a function.");
                            var t = e.charset || p.charset;
                            if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset) throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
                            var r = o.default;
                            if (void 0 !== e.format) {
                                if (!a.call(o.formatters, e.format)) throw new TypeError("Unknown format option provided.");
                                r = e.format
                            }
                            var n = o.formatters[r],
                                i = p.filter;
                            return ("function" == typeof e.filter || s(e.filter)) && (i = e.filter), {
                                addQueryPrefix: "boolean" == typeof e.addQueryPrefix ? e.addQueryPrefix : p.addQueryPrefix,
                                allowDots: void 0 === e.allowDots ? p.allowDots : !!e.allowDots,
                                charset: t,
                                charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : p.charsetSentinel,
                                delimiter: void 0 === e.delimiter ? p.delimiter : e.delimiter,
                                encode: "boolean" == typeof e.encode ? e.encode : p.encode,
                                encoder: "function" == typeof e.encoder ? e.encoder : p.encoder,
                                encodeValuesOnly: "boolean" == typeof e.encodeValuesOnly ? e.encodeValuesOnly : p.encodeValuesOnly,
                                filter: i,
                                format: r,
                                formatter: n,
                                serializeDate: "function" == typeof e.serializeDate ? e.serializeDate : p.serializeDate,
                                skipNulls: "boolean" == typeof e.skipNulls ? e.skipNulls : p.skipNulls,
                                sort: "function" == typeof e.sort ? e.sort : null,
                                strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : p.strictNullHandling
                            }
                        }(t);
                    "function" == typeof c.filter ? i = (0, c.filter)("", i) : s(c.filter) && (r = c.filter);
                    var u, h = [];
                    if ("object" != typeof i || null === i) return "";
                    u = t && t.arrayFormat in l ? t.arrayFormat : t && "indices" in t ? t.indices ? "indices" : "repeat" : "indices";
                    var d = l[u];
                    if (t && "commaRoundTrip" in t && "boolean" != typeof t.commaRoundTrip) throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
                    var g = "comma" === d && t && t.commaRoundTrip;
                    r || (r = Object.keys(i)), c.sort && r.sort(c.sort);
                    for (var m = n(), y = 0; y < r.length; ++y) {
                        var b = r[y];
                        c.skipNulls && null === i[b] || f(h, v(i[b], b, d, g, c.strictNullHandling, c.skipNulls, c.encode ? c.encoder : null, c.filter, c.sort, c.allowDots, c.serializeDate, c.format, c.formatter, c.encodeValuesOnly, c.charset, m))
                    }
                    var w = h.join(c.delimiter),
                        S = !0 === c.addQueryPrefix ? "?" : "";
                    return c.charsetSentinel && ("iso-8859-1" === c.charset ? S += "utf8=%26%2310003%3B&" : S += "utf8=%E2%9C%93&"), w.length > 0 ? S + w : ""
                }
            },
            769: (e, t, r) => {
                "use strict";
                var n = r(798),
                    i = Object.prototype.hasOwnProperty,
                    o = Array.isArray,
                    a = function() {
                        for (var e = [], t = 0; t < 256; ++t) e.push("%" + ((t < 16 ? "0" : "") + t.toString(16)).toUpperCase());
                        return e
                    }(),
                    l = function(e, t) {
                        for (var r = t && t.plainObjects ? Object.create(null) : {}, n = 0; n < e.length; ++n) void 0 !== e[n] && (r[n] = e[n]);
                        return r
                    };
                e.exports = {
                    arrayToObject: l,
                    assign: function(e, t) {
                        return Object.keys(t).reduce((function(e, r) {
                            return e[r] = t[r], e
                        }), e)
                    },
                    combine: function(e, t) {
                        return [].concat(e, t)
                    },
                    compact: function(e) {
                        for (var t = [{
                                obj: {
                                    o: e
                                },
                                prop: "o"
                            }], r = [], n = 0; n < t.length; ++n)
                            for (var i = t[n], a = i.obj[i.prop], l = Object.keys(a), s = 0; s < l.length; ++s) {
                                var c = l[s],
                                    u = a[c];
                                "object" == typeof u && null !== u && -1 === r.indexOf(u) && (t.push({
                                    obj: a,
                                    prop: c
                                }), r.push(u))
                            }
                        return function(e) {
                            for (; e.length > 1;) {
                                var t = e.pop(),
                                    r = t.obj[t.prop];
                                if (o(r)) {
                                    for (var n = [], i = 0; i < r.length; ++i) void 0 !== r[i] && n.push(r[i]);
                                    t.obj[t.prop] = n
                                }
                            }
                        }(t), e
                    },
                    decode: function(e, t, r) {
                        var n = e.replace(/\+/g, " ");
                        if ("iso-8859-1" === r) return n.replace(/%[0-9a-f]{2}/gi, unescape);
                        try {
                            return decodeURIComponent(n)
                        } catch (e) {
                            return n
                        }
                    },
                    encode: function(e, t, r, i, o) {
                        if (0 === e.length) return e;
                        var l = e;
                        if ("symbol" == typeof e ? l = Symbol.prototype.toString.call(e) : "string" != typeof e && (l = String(e)), "iso-8859-1" === r) return escape(l).replace(/%u[0-9a-f]{4}/gi, (function(e) {
                            return "%26%23" + parseInt(e.slice(2), 16) + "%3B"
                        }));
                        for (var s = "", c = 0; c < l.length; ++c) {
                            var u = l.charCodeAt(c);
                            45 === u || 46 === u || 95 === u || 126 === u || u >= 48 && u <= 57 || u >= 65 && u <= 90 || u >= 97 && u <= 122 || o === n.RFC1738 && (40 === u || 41 === u) ? s += l.charAt(c) : u < 128 ? s += a[u] : u < 2048 ? s += a[192 | u >> 6] + a[128 | 63 & u] : u < 55296 || u >= 57344 ? s += a[224 | u >> 12] + a[128 | u >> 6 & 63] + a[128 | 63 & u] : (c += 1, u = 65536 + ((1023 & u) << 10 | 1023 & l.charCodeAt(c)), s += a[240 | u >> 18] + a[128 | u >> 12 & 63] + a[128 | u >> 6 & 63] + a[128 | 63 & u])
                        }
                        return s
                    },
                    isBuffer: function(e) {
                        return !(!e || "object" != typeof e || !(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e)))
                    },
                    isRegExp: function(e) {
                        return "[object RegExp]" === Object.prototype.toString.call(e)
                    },
                    maybeMap: function(e, t) {
                        if (o(e)) {
                            for (var r = [], n = 0; n < e.length; n += 1) r.push(t(e[n]));
                            return r
                        }
                        return t(e)
                    },
                    merge: function e(t, r, n) {
                        if (!r) return t;
                        if ("object" != typeof r) {
                            if (o(t)) t.push(r);
                            else {
                                if (!t || "object" != typeof t) return [t, r];
                                (n && (n.plainObjects || n.allowPrototypes) || !i.call(Object.prototype, r)) && (t[r] = !0)
                            }
                            return t
                        }
                        if (!t || "object" != typeof t) return [t].concat(r);
                        var a = t;
                        return o(t) && !o(r) && (a = l(t, n)), o(t) && o(r) ? (r.forEach((function(r, o) {
                            if (i.call(t, o)) {
                                var a = t[o];
                                a && "object" == typeof a && r && "object" == typeof r ? t[o] = e(a, r, n) : t.push(r)
                            } else t[o] = r
                        })), t) : Object.keys(r).reduce((function(t, o) {
                            var a = r[o];
                            return i.call(t, o) ? t[o] = e(t[o], a, n) : t[o] = a, t
                        }), a)
                    }
                }
            },
            478: (e, t, r) => {
                "use strict";
                var n = r(210),
                    i = r(924),
                    o = r(12),
                    a = n("%TypeError%"),
                    l = n("%WeakMap%", !0),
                    s = n("%Map%", !0),
                    c = i("WeakMap.prototype.get", !0),
                    u = i("WeakMap.prototype.set", !0),
                    f = i("WeakMap.prototype.has", !0),
                    h = i("Map.prototype.get", !0),
                    d = i("Map.prototype.set", !0),
                    p = i("Map.prototype.has", !0),
                    g = function(e, t) {
                        for (var r, n = e; null !== (r = n.next); n = r)
                            if (r.key === t) return n.next = r.next, r.next = e.next, e.next = r, r
                    };
                e.exports = function() {
                    var e, t, r, n = {
                        assert: function(e) {
                            if (!n.has(e)) throw new a("Side channel does not contain " + o(e))
                        },
                        get: function(n) {
                            if (l && n && ("object" == typeof n || "function" == typeof n)) {
                                if (e) return c(e, n)
                            } else if (s) {
                                if (t) return h(t, n)
                            } else if (r) return function(e, t) {
                                var r = g(e, t);
                                return r && r.value
                            }(r, n)
                        },
                        has: function(n) {
                            if (l && n && ("object" == typeof n || "function" == typeof n)) {
                                if (e) return f(e, n)
                            } else if (s) {
                                if (t) return p(t, n)
                            } else if (r) return function(e, t) {
                                return !!g(e, t)
                            }(r, n);
                            return !1
                        },
                        set: function(n, i) {
                            l && n && ("object" == typeof n || "function" == typeof n) ? (e || (e = new l), u(e, n, i)) : s ? (t || (t = new s), d(t, n, i)) : (r || (r = {
                                key: {},
                                next: null
                            }), function(e, t, r) {
                                var n = g(e, t);
                                n ? n.value = r : e.next = {
                                    key: t,
                                    next: e.next,
                                    value: r
                                }
                            }(r, n, i))
                        }
                    };
                    return n
                }
            },
            654: () => {},
            61: (e, t, r) => {
                var n = r(698).default;

                function i() {
                    "use strict";
                    e.exports = i = function() {
                        return t
                    }, e.exports.__esModule = !0, e.exports.default = e.exports;
                    var t = {},
                        r = Object.prototype,
                        o = r.hasOwnProperty,
                        a = "function" == typeof Symbol ? Symbol : {},
                        l = a.iterator || "@@iterator",
                        s = a.asyncIterator || "@@asyncIterator",
                        c = a.toStringTag || "@@toStringTag";

                    function u(e, t, r) {
                        return Object.defineProperty(e, t, {
                            value: r,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }), e[t]
                    }
                    try {
                        u({}, "")
                    } catch (e) {
                        u = function(e, t, r) {
                            return e[t] = r
                        }
                    }

                    function f(e, t, r, n) {
                        var i = t && t.prototype instanceof p ? t : p,
                            o = Object.create(i.prototype),
                            a = new L(n || []);
                        return o._invoke = function(e, t, r) {
                            var n = "suspendedStart";
                            return function(i, o) {
                                if ("executing" === n) throw new Error("Generator is already running");
                                if ("completed" === n) {
                                    if ("throw" === i) throw o;
                                    return {
                                        value: void 0,
                                        done: !0
                                    }
                                }
                                for (r.method = i, r.arg = o;;) {
                                    var a = r.delegate;
                                    if (a) {
                                        var l = C(a, r);
                                        if (l) {
                                            if (l === d) continue;
                                            return l
                                        }
                                    }
                                    if ("next" === r.method) r.sent = r._sent = r.arg;
                                    else if ("throw" === r.method) {
                                        if ("suspendedStart" === n) throw n = "completed", r.arg;
                                        r.dispatchException(r.arg)
                                    } else "return" === r.method && r.abrupt("return", r.arg);
                                    n = "executing";
                                    var s = h(e, t, r);
                                    if ("normal" === s.type) {
                                        if (n = r.done ? "completed" : "suspendedYield", s.arg === d) continue;
                                        return {
                                            value: s.arg,
                                            done: r.done
                                        }
                                    }
                                    "throw" === s.type && (n = "completed", r.method = "throw", r.arg = s.arg)
                                }
                            }
                        }(e, r, a), o
                    }

                    function h(e, t, r) {
                        try {
                            return {
                                type: "normal",
                                arg: e.call(t, r)
                            }
                        } catch (e) {
                            return {
                                type: "throw",
                                arg: e
                            }
                        }
                    }
                    t.wrap = f;
                    var d = {};

                    function p() {}

                    function g() {}

                    function v() {}
                    var m = {};
                    u(m, l, (function() {
                        return this
                    }));
                    var y = Object.getPrototypeOf,
                        b = y && y(y(T([])));
                    b && b !== r && o.call(b, l) && (m = b);
                    var w = v.prototype = p.prototype = Object.create(m);

                    function S(e) {
                        ["next", "throw", "return"].forEach((function(t) {
                            u(e, t, (function(e) {
                                return this._invoke(t, e)
                            }))
                        }))
                    }

                    function x(e, t) {
                        function r(i, a, l, s) {
                            var c = h(e[i], e, a);
                            if ("throw" !== c.type) {
                                var u = c.arg,
                                    f = u.value;
                                return f && "object" == n(f) && o.call(f, "__await") ? t.resolve(f.__await).then((function(e) {
                                    r("next", e, l, s)
                                }), (function(e) {
                                    r("throw", e, l, s)
                                })) : t.resolve(f).then((function(e) {
                                    u.value = e, l(u)
                                }), (function(e) {
                                    return r("throw", e, l, s)
                                }))
                            }
                            s(c.arg)
                        }
                        var i;
                        this._invoke = function(e, n) {
                            function o() {
                                return new t((function(t, i) {
                                    r(e, n, t, i)
                                }))
                            }
                            return i = i ? i.then(o, o) : o()
                        }
                    }

                    function C(e, t) {
                        var r = e.iterator[t.method];
                        if (void 0 === r) {
                            if (t.delegate = null, "throw" === t.method) {
                                if (e.iterator.return && (t.method = "return", t.arg = void 0, C(e, t), "throw" === t.method)) return d;
                                t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method")
                            }
                            return d
                        }
                        var n = h(r, e.iterator, t.arg);
                        if ("throw" === n.type) return t.method = "throw", t.arg = n.arg, t.delegate = null, d;
                        var i = n.arg;
                        return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, d) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, d)
                    }

                    function A(e) {
                        var t = {
                            tryLoc: e[0]
                        };
                        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
                    }

                    function k(e) {
                        var t = e.completion || {};
                        t.type = "normal", delete t.arg, e.completion = t
                    }

                    function L(e) {
                        this.tryEntries = [{
                            tryLoc: "root"
                        }], e.forEach(A, this), this.reset(!0)
                    }

                    function T(e) {
                        if (e) {
                            var t = e[l];
                            if (t) return t.call(e);
                            if ("function" == typeof e.next) return e;
                            if (!isNaN(e.length)) {
                                var r = -1,
                                    n = function t() {
                                        for (; ++r < e.length;)
                                            if (o.call(e, r)) return t.value = e[r], t.done = !1, t;
                                        return t.value = void 0, t.done = !0, t
                                    };
                                return n.next = n
                            }
                        }
                        return {
                            next: E
                        }
                    }

                    function E() {
                        return {
                            value: void 0,
                            done: !0
                        }
                    }
                    return g.prototype = v, u(w, "constructor", v), u(v, "constructor", g), g.displayName = u(v, c, "GeneratorFunction"), t.isGeneratorFunction = function(e) {
                        var t = "function" == typeof e && e.constructor;
                        return !!t && (t === g || "GeneratorFunction" === (t.displayName || t.name))
                    }, t.mark = function(e) {
                        return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v, u(e, c, "GeneratorFunction")), e.prototype = Object.create(w), e
                    }, t.awrap = function(e) {
                        return {
                            __await: e
                        }
                    }, S(x.prototype), u(x.prototype, s, (function() {
                        return this
                    })), t.AsyncIterator = x, t.async = function(e, r, n, i, o) {
                        void 0 === o && (o = Promise);
                        var a = new x(f(e, r, n, i), o);
                        return t.isGeneratorFunction(r) ? a : a.next().then((function(e) {
                            return e.done ? e.value : a.next()
                        }))
                    }, S(w), u(w, c, "Generator"), u(w, l, (function() {
                        return this
                    })), u(w, "toString", (function() {
                        return "[object Generator]"
                    })), t.keys = function(e) {
                        var t = [];
                        for (var r in e) t.push(r);
                        return t.reverse(),
                            function r() {
                                for (; t.length;) {
                                    var n = t.pop();
                                    if (n in e) return r.value = n, r.done = !1, r
                                }
                                return r.done = !0, r
                            }
                    }, t.values = T, L.prototype = {
                        constructor: L,
                        reset: function(e) {
                            if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(k), !e)
                                for (var t in this) "t" === t.charAt(0) && o.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0)
                        },
                        stop: function() {
                            this.done = !0;
                            var e = this.tryEntries[0].completion;
                            if ("throw" === e.type) throw e.arg;
                            return this.rval
                        },
                        dispatchException: function(e) {
                            if (this.done) throw e;
                            var t = this;

                            function r(r, n) {
                                return a.type = "throw", a.arg = e, t.next = r, n && (t.method = "next", t.arg = void 0), !!n
                            }
                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                var i = this.tryEntries[n],
                                    a = i.completion;
                                if ("root" === i.tryLoc) return r("end");
                                if (i.tryLoc <= this.prev) {
                                    var l = o.call(i, "catchLoc"),
                                        s = o.call(i, "finallyLoc");
                                    if (l && s) {
                                        if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                        if (this.prev < i.finallyLoc) return r(i.finallyLoc)
                                    } else if (l) {
                                        if (this.prev < i.catchLoc) return r(i.catchLoc, !0)
                                    } else {
                                        if (!s) throw new Error("try statement without catch or finally");
                                        if (this.prev < i.finallyLoc) return r(i.finallyLoc)
                                    }
                                }
                            }
                        },
                        abrupt: function(e, t) {
                            for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                var n = this.tryEntries[r];
                                if (n.tryLoc <= this.prev && o.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
                                    var i = n;
                                    break
                                }
                            }
                            i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                            var a = i ? i.completion : {};
                            return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, d) : this.complete(a)
                        },
                        complete: function(e, t) {
                            if ("throw" === e.type) throw e.arg;
                            return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), d
                        },
                        finish: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var r = this.tryEntries[t];
                                if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), k(r), d
                            }
                        },
                        catch: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var r = this.tryEntries[t];
                                if (r.tryLoc === e) {
                                    var n = r.completion;
                                    if ("throw" === n.type) {
                                        var i = n.arg;
                                        k(r)
                                    }
                                    return i
                                }
                            }
                            throw new Error("illegal catch attempt")
                        },
                        delegateYield: function(e, t, r) {
                            return this.delegate = {
                                iterator: T(e),
                                resultName: t,
                                nextLoc: r
                            }, "next" === this.method && (this.arg = void 0), d
                        }
                    }, t
                }
                e.exports = i, e.exports.__esModule = !0, e.exports.default = e.exports
            },
            698: e => {
                function t(r) {
                    return e.exports = t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e
                    } : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                    }, e.exports.__esModule = !0, e.exports.default = e.exports, t(r)
                }
                e.exports = t, e.exports.__esModule = !0, e.exports.default = e.exports
            },
            687: (e, t, r) => {
                var n = r(61)();
                e.exports = n;
                try {
                    regeneratorRuntime = n
                } catch (e) {
                    "object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n)
                }
            }
        },
        t = {};

    function r(n) {
        var i = t[n];
        if (void 0 !== i) return i.exports;
        var o = t[n] = {
            exports: {}
        };
        return e[n].call(o.exports, o, o.exports, r), o.exports
    }
    r.n = e => {
        var t = e && e.__esModule ? () => e.default : () => e;
        return r.d(t, {
            a: t
        }), t
    }, r.d = (e, t) => {
        for (var n in t) r.o(t, n) && !r.o(e, n) && Object.defineProperty(e, n, {
            enumerable: !0,
            get: t[n]
        })
    }, r.g = function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
            return this || new Function("return this")()
        } catch (e) {
            if ("object" == typeof window) return window
        }
    }(), r.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), (() => {
        var e;
        r.g.importScripts && (e = r.g.location + "");
        var t = r.g.document;
        if (!e && t && (t.currentScript && (e = t.currentScript.src), !e)) {
            var n = t.getElementsByTagName("script");
            n.length && (e = n[n.length - 1].src)
        }
        if (!e) throw new Error("Automatic publicPath is not supported in this browser");
        e = e.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/"), r.p = e
    })(), (() => {
        "use strict";

        function e(e, t, r, n, i, o, a) {
            try {
                var l = e[o](a),
                    s = l.value
            } catch (e) {
                return void r(e)
            }
            l.done ? t(s) : Promise.resolve(s).then(n, i)
        }

        function t(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function n(e, t) {
            for (var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
            }
        }

        function i(e, t, r) {
            return t && n(e.prototype, t), r && n(e, r), Object.defineProperty(e, "prototype", {
                writable: !1
            }), e
        }

        function o(e, t, r) {
            return t in e ? Object.defineProperty(e, t, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = r, e
        }
        var a = r(687),
            l = r.n(a),
            s = r(631),
            c = r.n(s),
            u = (r(386), 1);

        function f(e, t) {
            this.NON = 0, this.LCS = 1, this.DEL = 2, this.OLD = 3, this.INS = 4, this.NEW = 5, this.XOR = 6, this.ALL = 7, this.length = 0, this.weight = 0;
            for (var r = 0, n = e.length - 1, i = t.length - 1; n >= r && i >= r && e[r] === t[r];) this[this.length++] = {
                item: e[r],
                mark: this.LCS
            }, this.weight += e[r].length ? 2 * e[r].length : 1, r++;
            for (; n > r && i > r && e[n] === t[i];) n--, i--;
            for (var o = [], a = r; a <= n; a++) o.push(e[a]);
            var l = [];
            for (a = r; a <= i; a++) l.push(t[a]);
            var s = new Array(o.length + 1);
            for (a = 0; a <= o.length; a++) s[a] = new Array(l.length + 1), s[a][l.length] = 0;
            for (a = 0; a < l.length; a++) s[o.length][a] = 0;
            for (var c = o.length - 1; c >= 0; c--)
                for (var u = l.length - 1; u >= 0; u--) o[c] === l[u] ? s[c][u] = s[c + 1][u + 1] + (o[c].length ? 2 * o[c].length : 1) : s[c][u] = Math.max(s[c + 1][u], s[c][u + 1]);
            for (c = 0, u = 0; s[c][u] > 0;) s[c][u] == s[c + 1][u] ? this[this.length++] = {
                item: o[c++],
                mark: this.DEL
            } : s[c][u] == s[c][u + 1] ? this[this.length++] = {
                item: l[u++],
                mark: this.INS
            } : (this[this.length++] = {
                item: o[c],
                mark: this.LCS
            }, c++, u++);
            for (this.weight += s[0][0]; c < o.length; c++) this[this.length++] = {
                item: o[c],
                mark: this.DEL
            };
            for (; u < l.length; u++) this[this.length++] = {
                item: l[u],
                mark: this.INS
            };
            for (a = n + 1; a < e.length; a++) this[this.length++] = {
                item: e[a],
                mark: this.LCS
            }, this.weight += e[a].length ? 2 * e[a].length : 1;
            s = t = l = e = o = null, this.count = function(e) {
                for (var t = 0, r = 0; r < this.length; r++) e & this[r].mark && t++;
                return t
            }, this.select = function(e) {
                for (var t = [], r = 0; r < this.length; r++) e & this[r].mark && t.push(this[r].item);
                return t
            }, this.grouped = function() {
                for (var e = this.NON, t = [], r = -1, n = 0; n < this.length; n++) e !== this[n].mark && (e = this[n].mark, t[++r] = {
                    items: [],
                    mark: e
                }), t[r].items.push(this[n].item);
                return t
            }
        }
        const h = function(e, t) {
            this.NON = 0, this.LCS = 1, this.DEL = 2, this.OLD = 3, this.INS = 4, this.NEW = 5, this.XOR = 6, this.ALL = 7, this.length = 0;
            for (var r, n = 0, i = e.length - 1, o = t.length - 1; i >= n && o >= n && 0 === (r = new f(e[n], t[n])).count(r.XOR);) this[this.length++] = {
                diff: r,
                mark: this.LCS
            }, n++;
            for (var a = []; i > n && o > n && 0 === (r = new f(e[i], t[o])).count(r.XOR);) a.push({
                diff: r,
                mark: this.LCS
            }), i--, o--;
            for (var l = [], s = n; s <= i; s++) l.push(e[s]);
            var c = [];
            for (s = n; s <= o; s++) c.push(t[s]);
            var u = new Array(l.length);
            for (s = 0; s <= l.length; s++) u[s] = new Array(c.length), u[s][c.length] = 0;
            for (s = 0; s < c.length; s++) u[l.length][s] = 0;
            var h, d = [];
            for (s = 0; s < l.length; s++) d.push({});
            for (var p = l.length - 1; p >= 0; p--)
                for (var g = c.length - 1; g >= 0; g--) u[p][g] = Math.max(u[p + 1][g], u[p][g + 1]), r = new f(l[p], c[g]), (h = u[p + 1][g + 1] + r.weight) > u[p][g] && (u[p][g] = h, d[p][g] = r);
            for (p = 0, g = 0; u[p][g] > 0;) u[p][g] == u[p + 1][g] ? this[this.length++] = {
                list: l[p++],
                mark: this.DEL
            } : u[p][g] == u[p][g + 1] ? this[this.length++] = {
                list: c[g++],
                mark: this.INS
            } : this[this.length++] = {
                diff: d[p++][g++],
                mark: this.LCS
            };
            for (; p < l.length; p++) this[this.length++] = {
                list: l[p],
                mark: this.DEL
            };
            for (; g < c.length; g++) this[this.length++] = {
                list: c[g],
                mark: this.INS
            };
            for (s = a.length - 1; s >= 0; s--) this[this.length++] = a[s]
        };
        var d, p = document.getElementById("success-alert-template"),
            g = document.getElementById("fail-alert-template"),
            v = function() {
                function e(r, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 4e3;
                    t(this, e), o(this, "type", void 0), o(this, "message", void 0), o(this, "time", void 0), this.type = r || 2, this.message = n, this.time = i, this.init()
                }
                return i(e, [{
                    key: "init",
                    value: function() {
                        var t = this.createAlert();
                        e.ALERTS_WRAPPER.appendChild(t), e.fadeIn(t), setTimeout((function() {
                            e.fadeOut(t)
                        }), this.time)
                    }
                }, {
                    key: "createAlert",
                    value: function() {
                        var t = e.TEMPLATES[this.type].cloneNode(!0),
                            r = t.querySelector(".alert");
                        return t.querySelector(".alert__message").textContent = this.message, r
                    }
                }], [{
                    key: "fadeIn",
                    value: function(e) {
                        e.classList.add("fade-in")
                    }
                }, {
                    key: "fadeOut",
                    value: function(e) {
                        e.classList.remove("fade-in"), e.addEventListener("transitionend", this.removeAlert.bind(this, e))
                    }
                }, {
                    key: "removeAlert",
                    value: function(e) {
                        e.remove()
                    }
                }]), e
            }();

        function m(e) {
            return m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }, m(e)
        }
        o(v, "TEMPLATES", (o(d = {}, 1, p ? p.content : null), o(d, 2, g ? g.content : null), d)), o(v, "ALERTS_WRAPPER", document.querySelector(".corrector__alerts-wrapper"));
        var y = r(129),
            b = r.n(y),
            w = {
                GET_AUTH_DATA: "GET_AUTH_DATA",
                AUTH_DATA: "AUTH_DATA",
                RESIZE_IFRAME: "RESIZE_IFRAME"
            },
            S = function(e) {
                return e.replace(/\u200b/gm, "")
            },
            x = {
                ä: "ä",
                ö: "ö"
            },
            C = function(e) {
                var t = e;
                for (var r in x) {
                    var n = x[r];
                    t = t.replace(new RegExp(r), n)
                }
                return t
            };

        function A(e) {
            return e ? e.replace(/\\/gm, "") : ""
        }

        function k(e) {
            return e ? L(T(e.replace(/[\n*\t*]/gm, " "))).trim() : ""
        }

        function L(e) {
            return e ? e.replace(/  +/gm, " ") : ""
        }

        function T(e) {
            return e ? e.replace(/[\u202F\u00A0\u2000\u2001\u2003\u200b]/gm, "") : ""
        }

        function E(e) {
            return e ? e.replace(/((?![a-zA-züäöß0-9\s]).)+/gim, " ") : ""
        }

        function O(e) {
            return e ? L(T(A(E(S(k(e)))))).trim() : ""
        }

        function N(e) {
            //return e ? e.replace(/\\u/gm, "ü").replace(/\\a/gm, "ä").replace(/\\o/gm, "ö").replace(/\\s/gm, "ß").replace(/\\A/gm, "Ä").replace(/\\O/gm, "Ö").replace(/\\U/gm, "Ü") : ""
            return e ? e.replace(/u\//gm, "ü").replace(/a\//gm, "ä").replace(/o\//gm, "ö").replace(/s\//gm, "ß").replace(/A\//gm, "Ä").replace(/O\//gm, "Ö").replace(/U\//gm, "Ü") : ""
        }

        function M(e) {
            return !!e && /\\u|\\a|\\s|\\o/gim.test(e)
        }

        function P(e, t) {
            var r, n = function() {
                    var e = window.top;
                    if (e != window) return e;
                    console.log("%c No top windows were found", "color: pink")
                }(),
                i = null === (r = script_global_vars) || void 0 === r ? void 0 : r.course_site;
            if (function(e) {
                    e in w || console.warn("Message type of ".concat(e, " does not exist!"))
                }(e), n && i) {
                var o = new URL(i).origin,
                    a = {
                        type: e,
                        payload: t
                    };
                n.postMessage(a, o)
            }
        }

        function W(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n
        }
        var D = function() {
            function e(r) {
                t(this, e), o(this, "sentences", void 0), o(this, "englishTrans", void 0), o(this, "germanSentences", void 0), o(this, "insertId", void 0), this.sentences = r
            }
            return i(e, [{
                key: "getAPITranslation",
                value: function() {
                    var t = {
                        action: e.GLOBAL_VARS.ACTION,
                        textQuery: this.createTextQuery(),
                        nonce: e.GLOBAL_VARS.AJAX_NONCE,
                        user: oe.AUTH
                    };
                    return fetch(e.GLOBAL_VARS.AJAX_URL, {
                        body: b().stringify(t),
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        }
                    })
                }
            }, {
                key: "doAPISaveDiffs",
                value: function(t, r) {
                    if (t && r) {
                        var n = {
                            action: e.GLOBAL_VARS.SAVE_ACTION,
                            nonce: e.GLOBAL_VARS.AJAX_NONCE,
                            userAnswer: t,
                            correctAnswer: r,
                            englishTrans: this.englishTrans,
                            insertId: this.insertId,
                            user: oe.AUTH
                        };
                        fetch(e.GLOBAL_VARS.AJAX_URL, {
                            body: b().stringify(n),
                            method: "POST",
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            }
                        }).then((function(e) {
                            return e.json()
                        })).catch((function(e) {
                            console.log("Failed to save the diff markup!"), console.log(e)
                        }))
                    } else console.log("%cNo diff markups to save!", "background-color:darkred;color:white")
                }
            }, {
                key: "setTranslationData",
                value: function(t) {
                    var r = t.germanTrans,
                        n = t.englishTrans,
                        i = t.insertId;
                    this.germanTrans = r, this.englishTrans = n, this.insertId = i, this.germanSentences = e.getTransSentences(r)
                }
            }, {
                key: "createTextQuery",
                value: function() {
                    var e, t = "",
                        r = function(e, t) {
                            var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                            if (!r) {
                                if (Array.isArray(e) || (r = function(e, t) {
                                        if (e) {
                                            if ("string" == typeof e) return W(e, t);
                                            var r = Object.prototype.toString.call(e).slice(8, -1);
                                            return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? W(e, t) : void 0
                                        }
                                    }(e)) || t && e && "number" == typeof e.length) {
                                    r && (e = r);
                                    var n = 0,
                                        i = function() {};
                                    return {
                                        s: i,
                                        n: function() {
                                            return n >= e.length ? {
                                                done: !0
                                            } : {
                                                done: !1,
                                                value: e[n++]
                                            }
                                        },
                                        e: function(e) {
                                            throw e
                                        },
                                        f: i
                                    }
                                }
                                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                            }
                            var o, a = !0,
                                l = !1;
                            return {
                                s: function() {
                                    r = r.call(e)
                                },
                                n: function() {
                                    var e = r.next();
                                    return a = e.done, e
                                },
                                e: function(e) {
                                    l = !0, o = e
                                },
                                f: function() {
                                    try {
                                        a || null == r.return || r.return()
                                    } finally {
                                        if (l) throw o
                                    }
                                }
                            }
                        }(this.sentences);
                    try {
                        for (r.s(); !(e = r.n()).done;) {
                            var n = e.value;
                            t += "&text=".concat(k(n))
                        }
                    } catch (e) {
                        r.e(e)
                    } finally {
                        r.f()
                    }
                    return t
                }
            }], [{
                key: "setGlobalVars",
                value: function(e) {
                    var t = e.action,
                        r = e.save_action,
                        n = e.ajax_url,
                        i = e.ajax_nonce;
                    this.GLOBAL_VARS.ACTION = t, this.GLOBAL_VARS.SAVE_ACTION = r, this.GLOBAL_VARS.AJAX_NONCE = i, this.GLOBAL_VARS.AJAX_URL = n
                }
            }, {
                key: "isObject",
                value: function(e) {
                    return "object" === m(e) && null !== e
                }
            }, {
                key: "getTransSentences",
                value: function(e) {
                    return e.map((function(e) {
                        return e.text
                    }))
                }
            }]), e
        }();

        function R(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function I(e, t) {
            return I = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t, e
            }, I(e, t)
        }

        function _(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), Object.defineProperty(e, "prototype", {
                writable: !1
            }), t && I(e, t)
        }

        function F(e, t) {
            if (t && ("object" === m(t) || "function" == typeof t)) return t;
            if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
            return R(e)
        }

        function B(e) {
            return B = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }, B(e)
        }

        function H() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), !0
            } catch (e) {
                return !1
            }
        }

        function j(e, t, r) {
            return j = H() ? Reflect.construct.bind() : function(e, t, r) {
                var n = [null];
                n.push.apply(n, t);
                var i = new(Function.bind.apply(e, n));
                return r && I(i, r.prototype), i
            }, j.apply(null, arguments)
        }

        function z(e) {
            var t = "function" == typeof Map ? new Map : void 0;
            return z = function(e) {
                if (null === e || (r = e, -1 === Function.toString.call(r).indexOf("[native code]"))) return e;
                var r;
                if ("function" != typeof e) throw new TypeError("Super expression must either be null or a function");
                if (void 0 !== t) {
                    if (t.has(e)) return t.get(e);
                    t.set(e, n)
                }

                function n() {
                    return j(e, arguments, B(this).constructor)
                }
                return n.prototype = Object.create(e.prototype, {
                    constructor: {
                        value: n,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), I(n, e)
            }, z(e)
        }
        o(D, "GLOBAL_VARS", {
            ACTION: "",
            SAVE_ACTION: "",
            AJAX_NONCE: "",
            AJAX_URL: ""
        });
        var U = function(e) {
            _(l, e);
            var r, n, a = (r = l, n = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }(), function() {
                var e, t = B(r);
                if (n) {
                    var i = B(this).constructor;
                    e = Reflect.construct(t, arguments, i)
                } else e = t.apply(this, arguments);
                return F(this, e)
            });

            function l(e) {
                var r;
                t(this, l);
                var n = "Invalid segment type of: ".concat(e, " allowed types are ").concat(Object.keys(V).toString());
                return o(R(r = a.call(this, n)), "name", void 0), r.name = "InvalidSegmentType", r
            }
            return i(l)
        }(z(Error));

        function G(e) {
            var t = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var r, n = B(e);
                if (t) {
                    var i = B(this).constructor;
                    r = Reflect.construct(n, arguments, i)
                } else r = n.apply(this, arguments);
                return F(this, r)
            }
        }
        var V = {
                CORRECT: "CORRECT",
                WRONG: "WRONG",
                NEWLINE: "NEWLINE"
            },
            q = function() {
                function e(r) {
                    var n = r.value,
                        i = r.type;
                    t(this, e), o(this, "type", void 0), o(this, "value", void 0), this.type = i, this.value = n
                }
                return i(e, null, [{
                    key: "createSegment",
                    value: function(e) {
                        var t = e.type,
                            r = e.value,
                            n = e.correctAnswer;
                        switch (t) {
                            case V.CORRECT:
                                return new K(r);
                            case V.WRONG:
                                return this.createWrongAnswerWithSkip({
                                    value: r,
                                    correctAnswer: n
                                });
                            case V.NEWLINE:
                                return new $;
                            default:
                                throw new U(t)
                        }
                    }
                }, {
                    key: "createWrongAnswerWithSkip",
                    value: function(e) {
                        var t = e.value,
                            r = e.correctAnswer,
                            n = 8203 === t.trim().charCodeAt(0) || 0 === O(t).trim().length,
                            i = 0 === r.trim().length;
                        return n && i ? new K(t) : O(r.trim()) === O(t.trim()) ? new K(r) : new X({
                            value: t,
                            correctAnswer: r
                        })
                    }
                }]), e
            }(),
            K = function(e) {
                _(n, e);
                var r = G(n);

                function n(e) {
                    return t(this, n), r.call(this, {
                        type: V.CORRECT,
                        value: e
                    })
                }
                return i(n)
            }(q),
            X = function(e) {
                _(n, e);
                var r = G(n);

                function n(e) {
                    var i, a = e.value,
                        l = e.correctAnswer;
                    return t(this, n), o(R(i = r.call(this, {
                        type: V.WRONG,
                        value: a
                    })), "correctAnswer", void 0), i.correctAnswer = l, i
                }
                return i(n)
            }(q),
            $ = function(e) {
                _(n, e);
                var r = G(n);

                function n() {
                    return t(this, n), r.call(this, {
                        value: "\n",
                        type: V.NEWLINE
                    })
                }
                return i(n)
            }(q);

        function Y(e, t) {
            var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (!r) {
                if (Array.isArray(e) || (r = function(e, t) {
                        if (e) {
                            if ("string" == typeof e) return Z(e, t);
                            var r = Object.prototype.toString.call(e).slice(8, -1);
                            return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? Z(e, t) : void 0
                        }
                    }(e)) || t && e && "number" == typeof e.length) {
                    r && (e = r);
                    var n = 0,
                        i = function() {};
                    return {
                        s: i,
                        n: function() {
                            return n >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[n++]
                            }
                        },
                        e: function(e) {
                            throw e
                        },
                        f: i
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var o, a = !0,
                l = !1;
            return {
                s: function() {
                    r = r.call(e)
                },
                n: function() {
                    var e = r.next();
                    return a = e.done, e
                },
                e: function(e) {
                    l = !0, o = e
                },
                f: function() {
                    try {
                        a || null == r.return || r.return()
                    } finally {
                        if (l) throw o
                    }
                }
            }
        }

        function Z(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n
        }
        var J = function() {
            function e(r) {
                t(this, e), o(this, "userEditor", void 0), o(this, "correctAnsEditor", void 0), o(this, "sentences", void 0), o(this, "textCorrector", void 0), o(this, "wrongWordsCounter", 0), e.INITIALIZED || e.init(), this.sentences = r, this.setSentences()
            }
            return i(e, [{
                key: "setSentences",
                value: function() {
                    var e = this,
                        t = ie.userEditor.querySelectorAll(".CodeMirror-line > span"),
                        r = [];
                    this.sentences.forEach((function(n, i) {
                        var o = e.createSentenceElems(n, i + 1),
                            a = o.userSentence,
                            l = o.correctSentence;
                        t[i].innerHTML = "", t[i].appendChild(a), r.push(l)
                    }));
                    var n = ie.userEditor.firstElementChild.cloneNode(!0);
                    ie.userEditor.innerHTML = "", ie.userEditor.appendChild(n), this.setCorrectAnswer(r)
                }
            }, {
                key: "focusFirstWrongEditable",
                value: function() {
                    var t = e.getFirstWrongEditable(); - 1 !== t && t.focus()
                }
            }, {
                key: "enableEditing",
                value: function() {
                    var e, t = Y(document.querySelectorAll("[contenteditable='false']"));
                    try {
                        for (t.s(); !(e = t.n()).done;) e.value.setAttribute("contenteditable", "true")
                    } catch (e) {
                        t.e(e)
                    } finally {
                        t.f()
                    }
                }
            }, {
                key: "setCorrectAnswer",
                value: function(e) {
                    var t = ie.userEditor.cloneNode(!0).firstElementChild,
                        r = t.querySelectorAll(".CodeMirror-line > span");
                    e.forEach((function(e, t) {
                        r[t].innerHTML = "", r[t].appendChild(e)
                    })), ie.correctAnsEditor.innerHTML = "", ie.correctAnsEditor.appendChild(t)
                }
            }, {
                key: "createSentenceElems",
                value: function(t, r) {
                    var n = this,
                        i = e.TEMPLATES.SENTENCE_SPAN.cloneNode(),
                        o = e.TEMPLATES.SENTENCE_SPAN.cloneNode();
                    return i.id = "user-sentence-" + r, o.id = "correct-sentence-" + r, t.forEach((function(e, a) {
                        var l = n.createWordElems(e, r),
                            s = l.userWord,
                            c = l.correctWord;
                        if (i.appendChild(s), o.appendChild(c), a + 1 !== t.length) {
                            var u = n.createSpaceWord(),
                                f = u.userSpace,
                                h = u.correctSpace;
                            i.appendChild(f), o.appendChild(h)
                        }
                    })), {
                        userSentence: i,
                        correctSentence: o
                    }
                }
            }, {
                key: "createWrongWord",
                value: function(t, r) {
                    var n = e.TEMPLATES.WRONG_WORD_SPAN.cloneNode(),
                        i = e.TEMPLATES.WRONG_WORD_SPAN.cloneNode(),
                        o = e.TEMPLATES.WRONG_MARK.cloneNode(!0),
                        a = e.TEMPLATES.CORRECT_MARK.cloneNode(!0),
                        l = o.querySelector(".corrector__editable");
                    return l.title = "Check spelling/word", k(t.correctAnswer.trim()).length || (l.title = "Remove this", l.classList.add("corrector__mark--remove")), "" === t.correctAnswer && (n.classList.add("corrector_word--empty"), i.classList.add("corrector_word--empty")), l.dataset.wrong = ++this.wrongWordsCounter, l.dataset.sentenceId = "user-sentence-" + r, 0 === t.value.trim().length ? l.innerHTML = "&ZeroWidthSpace;" : l.textContent = k(t.value), l.dataset.correct = A(k(t.correctAnswer)), a.textContent = A(k(t.correctAnswer)), n.appendChild(o), i.appendChild(a), {
                        userWord: n,
                        correctWord: i
                    }
                }
            }, {
                key: "createCorrectWord",
                value: function(t) {
                    var r = e.TEMPLATES.WORD_SPAN.cloneNode(),
                        n = e.TEMPLATES.WORD_SPAN.cloneNode();
                    return r.textContent = k(t.value), n.textContent = A(k(t.value)), {
                        userWord: r,
                        correctWord: n
                    }
                }
            }, {
                key: "createNewlineWord",
                value: function() {
                    return {
                        userWord: e.TEMPLATES.NEWLINE_SPAN.cloneNode(),
                        correctWord: e.TEMPLATES.NEWLINE_SPAN.cloneNode()
                    }
                }
            }, {
                key: "createSpaceWord",
                value: function() {
                    var t = e.TEMPLATES.SPACE_SPAN.cloneNode(),
                        r = e.TEMPLATES.SPACE_SPAN.cloneNode();
                    return t.textContent = " ", r.textContent = " ", {
                        userSpace: t,
                        correctSpace: r
                    }
                }
            }, {
                key: "createWordElems",
                value: function(e, t) {
                    var r;
                    return (o(r = {}, V.WRONG, this.createWrongWord.bind(this)), o(r, V.CORRECT, this.createCorrectWord.bind(this)), o(r, V.NEWLINE, this.createNewlineWord.bind(this)), r)[e.type](e, t)
                }
            }], [{
                key: "init",
                value: function() {
                    this.INITIALIZED = !0, this.setEventeListners(), this.TEMPLATES.WRONG_MARK = document.getElementById("editable-template").content.querySelector(".corrector__mark"), this.TEMPLATES.CORRECT_MARK = document.getElementById("correct-answer-template").content.querySelector(".corrector__mark"), this.TEMPLATES.SPACE_SPAN = document.getElementById("space-template").content.querySelector("span"), this.TEMPLATES.WORD_SPAN = document.getElementById("word-template").content.querySelector("span"), this.TEMPLATES.WRONG_WORD_SPAN = document.getElementById("wrong-word-template").content.querySelector("span"), this.TEMPLATES.NEWLINE_SPAN = document.getElementById("newline-template").content.querySelector("span"), this.TEMPLATES.SENTENCE_SPAN = document.getElementById("sentence-template").content.querySelector("span")
                }
            }, {
                key: "setGlobalVars",
                value: function(t) {
                    var r = t.edit_error,
                        n = t.correct_answer;
                    e.GLOBAL_VARS.EDIT_ERROR = r || e.GLOBAL_VARS.EDIT_ERROR, e.GLOBAL_VARS.CORRECT_ANSWER = n || e.GLOBAL_VARS.CORRECT_ANSWER
                }
            }, {
                key: "setEventeListners",
                value: function() {
                    window.addEventListener("keyup", this.handleEditableChange.bind(this)), window.addEventListener("paste", this.handleEditableChange.bind(this)), window.addEventListener("cut", this.handleEditableChange.bind(this)), window.addEventListener("click", this.animateHideBtn.bind(this)), window.addEventListener("focusout", this.handleDefocusingSentence.bind(this)), window.addEventListener("focusin", this.handleFocusingSentence.bind(this))
                }
            }, {
                key: "animateHideBtn",
                value: function(e) {
                    "false" === e.target.getAttribute("contenteditable") && ie.animateHideBtn()
                }
            }, {
                key: "getFirstWrongEditable",
                value: function() {
                    return document.querySelector(".corrector__editable[contenteditable='true']") || -1
                }
            }, {
                key: "getLinesWrapper",
                value: function() {
                    return ie.userEditor.querySelector(".CodeMirror-lines") || -1
                }
            }, {
                key: "fix32BitCharEncoding",
                value: function(t, r) {
                    var n;
                    e.isEditable(t) && (r && r in x || !r && (n = t.textContent) && /ä|ö/gim.test(n)) && (t.textContent = C(t.textContent))
                }
            }, {
                key: "isEditable",
                value: function(e) {
                    return e && e.classList && e.classList.contains("corrector__editable")
                }
            }, {
                key: "isCorrected",
                value: function(e) {
                    return e.classList.contains("correct")
                }
            }, {
                key: "handleEditableChange",
                value: function(t) {
                    var r = t.target;
                    e.isEditable(r) && this.validateEditableAnswer(r, t.data)
                }
            }, {
                key: "handleDefocusingSentence",
                value: function() {
                    this.toggleSentencesBlur(!1)
                }
            }, {
                key: "handleFocusingSentence",
                value: function(e) {
                    var t = e.target;
                    if (this.isEditable(t)) {
                        var r = this.getSentenceById(t.dataset.sentenceId);
                        r && this.focusSentence(r)
                    }
                }
            }, {
                key: "focusSentence",
                value: function(e) {
                    this.toggleSentencesBlur(!0), this.unBlurSentences(e)
                }
            }, {
                key: "toggleSentencesBlur",
                value: function(e) {
                    var t = this.getAllSentences();
                    if (t) {
                        var r, n = Y(t);
                        try {
                            for (n.s(); !(r = n.n()).done;) r.value.classList.toggle("corrector__sentence--blur", e)
                        } catch (e) {
                            n.e(e)
                        } finally {
                            n.f()
                        }
                    }
                }
            }, {
                key: "unBlurSentences",
                value: function(e) {
                    e.classList.remove("corrector__sentence--blur")
                }
            }, {
                key: "getAllSentences",
                value: function() {
                    return document.querySelectorAll("#user-editor .corrector__sentence")
                }
            }, {
                key: "getSentenceById",
                value: function(e) {
                    return document.getElementById(e)
                }
            }, {
                key: "validateEditableAnswer",
                value: function(t, r) {
                    this.applyAutoUmlaut(t), this.fix32BitCharEncoding(t, r), ie.updateWordsCount(), O(t.textContent) === O(t.dataset.correct) && e.markEditCorrect(t)
                }
            }, {
                key: "applyAutoUmlaut",
                value: function(e) {
                    if (M(e.textContent)) {
                        var t = (r = e.textContent) ? r.search(/\\u|\\a|\\s|\\o/gim) : -1;
                        e.textContent = N(e.textContent), this.moveCursorAfterAppliedUmlaut(t, e)
                    }
                    var r
                }
            }, {
                key: "moveCursorAfterAppliedUmlaut",
                value: function(e, t) {
                    var r = window.getSelection();
                    if (r.rangeCount > 0) {
                        var n = document.createRange(),
                            i = Math.min(t.textContent.length || 1, e + 1),
                            o = r.focusNode,
                            a = 1 === o.nodeType ? o.firstChild : o;
                        try {
                            n.setStart(a, i), n.collapse(!0), r.removeAllRanges(), r.addRange(n)
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }
            }, {
                key: "markEditCorrect",
                value: function(e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    e.classList.contains("correct") || (e.classList.add("correct"), e.removeAttribute("contenteditable"), e.removeAttribute("title"), e.dataset.corrected = "true", e.parentElement.dataset.corrected = "true", e.parentElement.parentElement.dataset.corrected = "true", ie.updateWrongSegmentsCount(), t && ie.showCorrectAnswerAlert(), 0 === ie.wrongSegmentsCount && (ie.setUserAnswerState(!0), ie.toggleShowAnswerBtn(!1), ie.toggleCheckBtnDisabledState(!0), this.toggleSentencesBlur(!1)))
                }
            }, {
                key: "markAllEditablesCorrect",
                value: function() {
                    var e = document.querySelectorAll(".corrector__editable[contenteditable='true']");
                    if (e) {
                        var t, r = Y(e);
                        try {
                            for (r.s(); !(t = r.n()).done;) {
                                var n = t.value;
                                this.markEditCorrect(n, !1)
                            }
                        } catch (e) {
                            r.e(e)
                        } finally {
                            r.f()
                        }
                    }
                }
            }, {
                key: "focusNextEditable",
                value: function(e) {
                    var t = this.getNextEditable(e); - 1 !== t && t.focus()
                }
            }, {
                key: "getNextEditable",
                value: function(e) {
                    var t = +e.dataset.wrong + 1,
                        r = document.querySelector('.corrector__editable[data-wrong="'.concat(t, '"][contenteditable="true"]'));
                    if (r) return r;
                    var n = this.getPrecedingEditable(t + 1);
                    if (-1 !== n) return n;
                    var i = this.getFirstWrongEditable();
                    return -1 !== i ? i : -1
                }
            }, {
                key: "getPrecedingEditable",
                value: function(e) {
                    var t = this.getLastWrongEditableOrder();
                    if (-1 === t || isNaN(e)) return -1;
                    for (var r = e; r <= t; r++) {
                        var n = document.querySelector(".corrector__editable[contenteditable='true'][data-wrong='".concat(r, "']"));
                        if (n) return n
                    }
                    return -1
                }
            }, {
                key: "getLastWrongEditableOrder",
                value: function() {
                    var e = document.querySelectorAll(".corrector__editable[contenteditable='true']");
                    return e && e.length ? e[e.length - 1].dataset.wrong : -1
                }
            }, {
                key: "getEditable",
                value: function(e) {
                    if (e && -1 !== e) return e.querySelector("[contenteditable='true']") || -1
                }
            }]), e
        }();
        o(J, "INITIALIZED", !1), o(J, "GLOBAL_VARS", {
            EDIT_ERROR: "Close the correct answer first",
            CORRECT_ANSWER: "Correct"
        }), o(J, "TEMPLATES", {
            CORRECT_MARK: null,
            WRONG_MARK: null,
            WORD_SPAN: null,
            WRONG_WORD_SPAN: null,
            SPACE_SPAN: null,
            NEWLINE_SPAN: null,
            SENTENCE_SPAN: null
        });
        const Q = J;
        const ee = new(function() {
            function e() {
                t(this, e), o(this, "template", void 0), o(this, "placeholder", void 0), this.template = document.getElementById("placeholder-template")
            }
            return i(e, [{
                key: "exists",
                value: function() {
                    return document.getElementById("user-editor-placeholder")
                }
            }, {
                key: "appendPlaceholder",
                value: function() {
                    if (!this.exists()) {
                        var e = this.createPlaceholder(),
                            t = this.getPlaceholderContainer();
                        e && t && (t.classList.add("corrector__placeholder-container"), t.appendChild(e), this.placeholder = e)
                    }
                }
            }, {
                key: "createPlaceholder",
                value: function() {
                    var e;
                    if (this.template) return null === (e = this.template.content.firstElementChild) || void 0 === e ? void 0 : e.cloneNode(!0)
                }
            }, {
                key: "getPlaceholderContainer",
                value: function() {
                    return document.querySelector("#user-editor .CodeMirror-sizer > div:first-child")
                }
            }, {
                key: "togglePlaceholder",
                value: function(e) {
                    this.placeholder && this.placeholder.setAttribute("aria-hidden", !e)
                }
            }]), e
        }());

        function te(e, t) {
            var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (!r) {
                if (Array.isArray(e) || (r = function(e, t) {
                        if (e) {
                            if ("string" == typeof e) return re(e, t);
                            var r = Object.prototype.toString.call(e).slice(8, -1);
                            return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? re(e, t) : void 0
                        }
                    }(e)) || t && e && "number" == typeof e.length) {
                    r && (e = r);
                    var n = 0,
                        i = function() {};
                    return {
                        s: i,
                        n: function() {
                            return n >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[n++]
                            }
                        },
                        e: function(e) {
                            throw e
                        },
                        f: i
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var o, a = !0,
                l = !1;
            return {
                s: function() {
                    r = r.call(e)
                },
                n: function() {
                    var e = r.next();
                    return a = e.done, e
                },
                e: function(e) {
                    l = !0, o = e
                },
                f: function() {
                    try {
                        a || null == r.return || r.return()
                    } finally {
                        if (l) throw o
                    }
                }
            }
        }

        function re(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
            return n
        }
        D.setGlobalVars(script_global_vars), Q.setGlobalVars(script_global_vars);
        var ne = function() {
            function r() {
                t(this, r), o(this, "checkBtn", void 0), o(this, "checkSpinner", void 0), o(this, "showAnswerBtn", void 0), o(this, "editableWrapper", void 0), o(this, "editableTextContent", void 0), o(this, "correctAnswerWrapper", void 0), o(this, "correctAnswerInner", void 0), o(this, "correctAnswerContent", void 0), o(this, "mistakesWrapper", void 0), o(this, "mistakesCountDisplay", void 0), o(this, "hideAnswerBtn", void 0), o(this, "hideAnswerBtnX", void 0), o(this, "copyBtn", void 0), o(this, "copyContainer", void 0), o(this, "copyTooltip", void 0), o(this, "wordsNum", void 0), o(this, "wordsNumUnit", void 0), o(this, "userEditorInstance", void 0), o(this, "trialsCount", +script_global_vars.trials_count), o(this, "wrongSegmentsCount", 0), this.checkBtn = document.querySelector(".corrector__check-btn"), this.checkSpinner = document.querySelector(".corrector__check-spinner"), this.showAnswerBtn = document.querySelector(".corrector__show-answer-btn"), this.userEditor = document.getElementById("user-editor"), this.correctAnsEditor = document.getElementById("correct-editor"), this.mistakesWrapper = document.querySelector(".corrector__wrong-count-wrapper"), this.mistakesCountDisplay = document.querySelector(".corrector__wrong-count"), this.editableTextContent = document.querySelector(".corrector__editable-text-content"), this.correctAnswerWrapper = document.querySelector(".corrector__correct-answer-wrapper"), this.correctAnswerInner = document.querySelector(".corrector__correct-answer"), this.correctAnswerContent = document.querySelector(".corrector__correct-answer-content"), this.hideAnswerBtn = document.querySelector(".corrector__hide-answer-btn"), this.hideAnswerBtnX = document.querySelector(".corrector__hide-answer-btn-x"), this.copyBtn = document.querySelector(".corrector__copy-btn"), this.copyContainer = document.querySelector(".corrector__copy-container"), this.copyTooltip = document.querySelector(".corrector__copy-tooltip"), this.wordsNum = document.querySelector(".corrector__words-num"), this.wordsNumUnit = document.querySelector(".corrector__words-num-unit"), this.initEditor(), this.setEventListners(), r.getAuthData(), ee.appendPlaceholder()
            }
            var n, a;
            return i(r, [{
                key: "initEditor",
                value: function() {
                    this.userEditor.innerHTML = "", this.userEditorInstance = new(c())(this.userEditor, {
                        lineNumbers: !0,
                        lineWrapping: !0,
                        viewportMargin: 1 / 0
                    }), this.userEditorInstance.on("changes", this.applyAutoUmlauts.bind(this)), this.userEditorInstance.on("changes", this.updateWordsCount.bind(this)), this.userEditorInstance.on("changes", this.togglePlaceholder.bind(this)), r.setResizeObserver()
                }
            }, {
                key: "togglePlaceholder",
                value: function() {
                    var e, t = 0 === (null === (e = this.userEditorInstance.getValue()) || void 0 === e ? void 0 : e.length);
                    ee.togglePlaceholder(t)
                }
            }, {
                key: "applyAutoUmlauts",
                value: function(e, t) {
                    var r = this.getUserAnswerText();
                    if (M(r) && t[0]) {
                        var n = t[0].to,
                            i = n.line,
                            o = n.ch;
                        this.userEditorInstance.setValue(N(r)), e.doc.setCursor({
                            line: i,
                            ch: o
                        })
                    }
                }
            }, {
                key: "setEventListners",
                value: function() {
                    this.checkBtn.addEventListener("click", this.validateUserAnswer.bind(this)), this.showAnswerBtn.addEventListener("click", this.showCorrectAnswer.bind(this)), this.hideAnswerBtn.addEventListener("click", this.hideCorrectAnswer.bind(this)), this.hideAnswerBtnX.addEventListener("click", this.hideCorrectAnswer.bind(this)), this.copyBtn.addEventListener("click", this.copyUserAnswer.bind(this)), window.addEventListener("beforeunload", this.showReloadWarning.bind(this)), window.addEventListener("message", this.handleReceivedIframeMessages)
                }
            }, {
                key: "handleReceivedIframeMessages",
                value: function(e) {
                    var t = e.data;
                    t && t.type === w.AUTH_DATA && r.setAuthData(t.payload)
                }
            }, {
                key: "validateUserAnswer",
                value: function(e) {
                    if (e.preventDefault(), 0 != this.trialsCount) {
                        this.fixEditor32BitCharEncoding();
                        var t = this.getUserAnsSentences(); - 1 !== t ? this.doAPICorrectUserAnswer(t) : new v(2, script_global_vars.empty_text_error)
                    }
                }
            }, {
                key: "getUserAnsSentences",
                value: function() {
                    var e = this.userEditor.querySelectorAll(".CodeMirror-line"),
                        t = 0,
                        r = Object.values(e).map((function(e) {
                            var r = e.querySelector("[cm-text]"),
                                n = 0 === e.textContent.trim().length;
                            return r || n || (t += 1), e.textContent
                        }));
                    return 0 === t ? -1 : r
                }
            }, {
                key: "doAPICorrectUserAnswer",
                value: function(e) {
                    var t = this;
                    this.toggleSpinner(!0), this.disableEditor(), console.log("%cUser Answer:\n" + e.join("\n"), "color: green;");
                    var r = new D(e);
                    r.getAPITranslation().then((function(e) {
                        return e.json()
                    })).then((function(e) {
                        if (e.success) return e.data;
                        var t;
                        throw new Error(null !== (t = e.data) && void 0 !== t && t.errorMessage ? e.data.errorMessage : script_global_vars.trans_failed_error)
                    })).catch((function(e) {
                        console.log(e), t.handleTransFailure(e.message)
                    })).then((function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            n = e.translations,
                            i = e.englishTrans,
                            o = e.insertId;
                        n && (r.setTranslationData({
                            germanTrans: n,
                            englishTrans: i,
                            insertId: o
                        }), t.handleTransSuccess(r))
                    })).catch((function(e) {
                        console.log(e), new v(2, script_global_vars.general_error), t.enableEditor()
                    })).then((function() {
                        t.toggleSpinner(!1)
                    }))
                }
            }, {
                key: "disableEditor",
                value: function() {
                    this.userEditorInstance.setOption("readOnly", "nocursor")
                }
            }, {
                key: "enableEditor",
                value: function() {
                    this.userEditorInstance.setOption("readOnly", !1), this.userEditor.classList.remove("disabled")
                }
            }, {
                key: "handleTransSuccess",
                value: function(e) {
                    console.log("%cGerman Trans:\n" + e.germanSentences.join("\n"), "color: darksalmon;"), this.handleAnswerDiff(e), this.correctAnsEditor.dataset.value = e.germanSentences.join("\n")
                }
            }, {
                key: "handleTransFailure",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : script_global_vars.general_error;
                    new v(2, e), this.enableEditor()
                }
            }, {
                key: "handleAnswerDiff",
                value: (n = l().mark((function e(t) {
                    var r, n, i, o, a, s, c, u, f;
                    return l().wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (r = t.sentences, n = t.germanSentences, i = this.isCorrectAnswer(r, n), o = [], !i) {
                                    for (a = 0, s = 0; s < r.length; s++) c = this.diffAnswer(r[s] || "", n[s] || ""), u = c.words, f = c.wrongCount, o.push(u), a += f;
                                    this.wrongSegmentsCount = a, this.updatetMistakesCountUI()
                                }
                                return this.updateTrialsCounter(), i || 0 !== this.trialsCount || this.removeCheckButton(), e.prev = 7, e.next = 10, this.updateUI({
                                    isCorrect: i,
                                    sentences: o.length ? o : null
                                });
                            case 10:
                                this.saveDiffs(t), e.next = 17;
                                break;
                            case 13:
                                e.prev = 13, e.t0 = e.catch(7), console.log(e.t0), new v(2, script_global_vars.general_error);
                            case 17:
                            case "end":
                                return e.stop()
                        }
                    }), e, this, [
                        [7, 13]
                    ])
                })), a = function() {
                    var t = this,
                        r = arguments;
                    return new Promise((function(i, o) {
                        var a = n.apply(t, r);

                        function l(t) {
                            e(a, i, o, l, s, "next", t)
                        }

                        function s(t) {
                            e(a, i, o, l, s, "throw", t)
                        }
                        l(void 0)
                    }))
                }, function(e) {
                    return a.apply(this, arguments)
                })
            }, {
                key: "diffAnswer",
                value: function(e, t) {
                    for (var r = 0, n = 0, i = [], o = new h(e.split(" "), t.split(" ")); r < o.length;) {
                        var a = o[r],
                            l = a.diff,
                            s = a.list,
                            c = a.mark,
                            u = null;
                        if (l) u = this.createWordSegment(l), r++;
                        else {
                            var f = o[r + 1],
                                d = this.createListSegments({
                                    value: s,
                                    type: c
                                }, f),
                                p = d.skip;
                            u = d.segment, r += p
                        }
                        u.type === V.CORRECT ? 0 !== k(u.value).trim().length && i.push(u) : i.push(u), u.type === V.WRONG && n++
                    }
                    return {
                        words: i,
                        wrongCount: n
                    }
                }
            }, {
                key: "createWordSegment",
                value: function(e) {
                    for (var t = 0, r = "", n = "", i = V.CORRECT; t < e.length;) {
                        var o = e[t],
                            a = o.item,
                            l = o.mark;
                        if (l === u) r += a, n += a, t++;
                        else if (2 === l) {
                            var s = this.getDiffCorrectAnswer(e[t + 1]);
                            r += a, n += s.correctAnswer, t += s.skip, i = V.WRONG
                        } else n += a, t++, i = V.WRONG
                    }
                    return q.createSegment({
                        type: i,
                        value: r,
                        correctAnswer: n
                    })
                }
            }, {
                key: "getDiffCorrectAnswer",
                value: function(e) {
                    var t = "",
                        r = 1;
                    return e && 4 === e.mark && (t = e.item, r = 2), {
                        skip: r,
                        correctAnswer: t
                    }
                }
            }, {
                key: "createListSegments",
                value: function(e, t) {
                    var r = e.type,
                        n = e.value,
                        i = 1,
                        o = null;
                    if (r === u) o = new K(n);
                    else if (2 === r) {
                        var a = this.getListCorrectAnswer(t),
                            l = a.correctAnswer,
                            s = a.skip;
                        o = q.createWrongAnswerWithSkip({
                            value: n,
                            correctAnswer: l
                        }), i = s
                    } else o = q.createWrongAnswerWithSkip({
                        value: "",
                        correctAnswer: n
                    });
                    return {
                        segment: o,
                        skip: i
                    }
                }
            }, {
                key: "getListCorrectAnswer",
                value: function(e) {
                    var t = 1,
                        r = "";
                    return e && e.list && 4 === e.mark && (r = e.list, t = 2), {
                        correctAnswer: r,
                        skip: t
                    }
                }
            }, {
                key: "updateTrialsCounter",
                value: function() {
                    0 !== this.trialsCount && (this.trialsCount--, 0 === this.trialsCount && this.toggleCheckBtnDisabledState(!0))
                }
            }, {
                key: "updatetMistakesCountUI",
                value: function() {
                    0 === this.wrongSegmentsCount ? this.resetMistakesCount() : this.showMistakesCount()
                }
            }, {
                key: "resetMistakesCount",
                value: function() {
                    this.mistakesCountDisplay.textContent = 0, this.mistakesWrapper.setAttribute("aria-hidden", !0)
                }
            }, {
                key: "showMistakesCount",
                value: function() {
                    this.mistakesCountDisplay.textContent = this.wrongSegmentsCount, this.mistakesWrapper.setAttribute("aria-hidden", !1)
                }
            }, {
                key: "isCorrectAnswer",
                value: function(e, t) {
                    return O(e.join("\n")) === O(t.join("\n"))
                }
            }, {
                key: "updateUI",
                value: function(e) {
                    var t = e.isCorrect,
                        r = e.sentences,
                        n = void 0 === r ? null : r;
                    this.toggleCheckBtnDisabledState(t || 0 == this.trialsCount), this.setUserAnswerState(t), t ? new v(1, script_global_vars.correct_answer, 2e3) : new Q(n), this.toggleShowAnswerBtn(!t)
                }
            }, {
                key: "setUserAnswerState",
                value: function(e) {
                    e ? (this.userEditor.dataset.correct = "true", this.userEditor.classList.remove("disabled"), Q.markAllEditablesCorrect()) : this.userEditor.removeAttribute("data-correct"), this.userEditor.classList.add(e ? "correct" : "wrong"), this.userEditor.classList.remove(e ? "wrong" : "correct")
                }
            }, {
                key: "resetUserAnswerState",
                value: function() {
                    this.userEditor.classList.remove("correct"), this.userEditor.classList.remove("wrong"), this.userEditor.removeAttribute("data-correct")
                }
            }, {
                key: "showCorrectAnswer",
                value: function() {
                    this.toggleCorrectAnswer(!0), this.toggleShowAnswerBtn(!1), this.toggleCheckBtnDisabledState(!0), this.toggleEditablesDisableState(!0), this.disableEditor()
                }
            }, {
                key: "updateWrongSegmentsCount",
                value: function() {
                    this.wrongSegmentsCount--, this.updatetMistakesCountUI()
                }
            }, {
                key: "copyUserAnswer",
                value: function() {
                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                        t = this.getUserAnswerText();
                    return this.copyContainer.value = t, this.copyContainer.select(), document.execCommand("copy"), window.getSelection().empty(), e && this.notifyCoping(), t
                }
            }, {
                key: "notifyCoping",
                value: function() {
                    var e = this;
                    setTimeout((function() {
                        e.toggleCopyTooltip(!0)
                    }), 200), setTimeout((function() {
                        e.toggleCopyTooltip(!1)
                    }), 1800)
                }
            }, {
                key: "getUserAnswerText",
                value: function() {
                    for (var e = this.userEditor.querySelectorAll(".CodeMirror-line > span"), t = "", r = 0, n = e.length - 1; r < e.length; r++) t += r === n ? k(e[r].textContent) : k(e[r].textContent) + "\n";
                    return S(t)
                }
            }, {
                key: "showReloadWarning",
                value: function(e) {
                    if (!this.editorIsEmpty()) {
                        e.preventDefault();
                        var t = "Are you sure you want to leave? All provided data will be lost.";
                        return e.returnValue = t, t
                    }
                }
            }, {
                key: "editorIsEmpty",
                value: function() {
                    return 0 === this.userEditorInstance.getValue().trim().length
                }
            }, {
                key: "resetCorrectAnswer",
                value: function() {
                    this.correctAnsEditor.innerHTML = ""
                }
            }, {
                key: "updateWordsCount",
                value: function() {
                    var e = function(e) {
                        if (!e) return 0;
                        var t = function(e) {
                            return e ? e.replace(/[-!,./_]/gm, "") : ""
                        }(E(e).replace(/\n/gm, " ")).split(" ");
                        return t.filter((function(e) {
                            return S(e).trim().length
                        })).length
                    }(this.getUserAnswerText());
                    this.updateWordsDisplay(e)
                }
            }, {
                key: "updateWordsDisplay",
                value: function(e) {
                    this.wordsNum.textContent = e, this.wordsNumUnit.textContent = 1 === e ? "word" : "words"
                }
            }, {
                key: "getCorrectAnswer",
                value: function() {
                    return this.correctAnsEditor.dataset.value
                }
            }, {
                key: "saveDiffs",
                value: function(e) {
                    var t = document.createElement("div"),
                        r = t.cloneNode();
                    t.appendChild(this.getDisabledUserAnsMarkup()), r.appendChild(this.correctAnsEditor.cloneNode(!0)), e.doAPISaveDiffs(t.innerHTML, r.innerHTML)
                }
            }, {
                key: "showCorrectAnswerAlert",
                value: function() {
                    new v(1, script_global_vars.correct_answer, 2e3)
                }
            }, {
                key: "getDisabledUserAnsMarkup",
                value: function() {
                    var e, t = this.userEditor.cloneNode(!0),
                        r = te(t.querySelectorAll(".corrector__editable"));
                    try {
                        for (r.s(); !(e = r.n()).done;) e.value.removeAttribute("contenteditable")
                    } catch (e) {
                        r.e(e)
                    } finally {
                        r.f()
                    }
                    return t
                }
            }, {
                key: "setShakeBtnListener",
                value: function() {
                    var e = document.querySelector("#user-editor .CodeMirror-lines");
                    e && e.addEventListener("click", this.shakeBtn.bind(this))
                }
            }, {
                key: "shakeBtn",
                value: function() {
                    this.userEditor.classList.contains("disabled") && this.animateHideBtn()
                }
            }, {
                key: "animateHideBtn",
                value: function() {
                    var e = this;
                    new v(2, script_global_vars.edit_error), this.hideAnswerBtn.classList.remove("shake-freeze"), setTimeout((function() {
                        e.hideAnswerBtn.classList.add("shake-freeze")
                    }), 500)
                }
            }, {
                key: "fixEditor32BitCharEncoding",
                value: function() {
                    this.userEditorInstance.setValue(C(this.getUserAnswerText()))
                }
            }, {
                key: "toggleCheckBtnDisabledState",
                value: function(e) {
                    this.checkBtn && this.checkBtn.toggleAttribute("disabled", e)
                }
            }, {
                key: "toggleSpinner",
                value: function(e) {
                    this.checkSpinner.classList.toggle("show", e)
                }
            }, {
                key: "toggleShowAnswerBtn",
                value: function(e) {
                    this.showAnswerBtn.classList.toggle("show", e)
                }
            }, {
                key: "toggleCorrectAnswer",
                value: function(e) {
                    this.correctAnswerWrapper.classList.toggle("show", e)
                }
            }, {
                key: "hideCorrectAnswer",
                value: function() {
                    this.toggleCorrectAnswer(!1), this.toggleEditablesDisableState(!1), this.toggleShowAnswerBtn(!0), this.enableEditor(), 0 !== this.trialsCount && this.toggleCheckBtnDisabledState(!1)
                }
            }, {
                key: "toggleEditablesDisableState",
                value: function(e) {
                    var t, r = te(this.userEditor.querySelectorAll(".corrector__editable"));
                    try {
                        for (r.s(); !(t = r.n()).done;) {
                            var n = t.value;
                            n.dataset.corrected || (n.setAttribute("contenteditable", !e), n.classList.toggle("disabled", e))
                        }
                    } catch (e) {
                        r.e(e)
                    } finally {
                        r.f()
                    }
                }
            }, {
                key: "removeCheckButton",
                value: function() {
                    this.checkBtn && this.checkBtn.remove()
                }
            }, {
                key: "toggleCopyTooltip",
                value: function(e) {
                    this.copyTooltip.classList.toggle("show", e)
                }
            }], [{
                key: "getAuthData",
                value: function() {
                    P(w.GET_AUTH_DATA)
                }
            }, {
                key: "autoResizeIframeHeight",
                value: function() {
                    P(w.RESIZE_IFRAME, document.body.clientHeight)
                }
            }, {
                key: "setAuthData",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.id,
                        r = e.email,
                        n = e.name;
                    this.AUTH.id = t, this.AUTH.email = r, this.AUTH.name = n, console.log(t), console.log(r), console.log(n)
                }
            }, {
                key: "setResizeObserver",
                value: function() {
                    new ResizeObserver((function() {
                        r.autoResizeIframeHeight()
                    })).observe(document.body)
                }
            }]), r
        }();
        o(ne, "AUTH", {
            id: null,
            email: null,
            name: null
        });
        var ie = new ne;
        const oe = ne;
        r.p, r.p, r.p, r.p, r.p, r.p, r.p
    })()
})();